## Setup

> `/Applications/Setup.app/Setup`

```diff

-5333.0.0.0.0
-  __TEXT.__text: 0x1dcfd4
-  __TEXT.__auth_stubs: 0x1f70
-  __TEXT.__objc_stubs: 0x23320
-  __TEXT.__objc_methlist: 0x14748
-  __TEXT.__cstring: 0xd91f
-  __TEXT.__objc_methname: 0x3433a
-  __TEXT.__const: 0x1178
-  __TEXT.__constg_swiftt: 0x11d8
-  __TEXT.__swift5_typeref: 0xb26
-  __TEXT.__swift5_fieldmd: 0x748
-  __TEXT.__swift5_builtin: 0xf0
+5336.0.0.0.0
+  __TEXT.__text: 0x1de340
+  __TEXT.__auth_stubs: 0x1f00
+  __TEXT.__objc_stubs: 0x231a0
+  __TEXT.__objc_methlist: 0x14710
+  __TEXT.__cstring: 0xd906
+  __TEXT.__objc_methname: 0x3434e
+  __TEXT.__const: 0xfa8
+  __TEXT.__constg_swiftt: 0x1244
+  __TEXT.__swift5_typeref: 0xb60
+  __TEXT.__swift5_fieldmd: 0x784
+  __TEXT.__swift5_builtin: 0xdc
   __TEXT.__swift5_reflstr: 0x93e
-  __TEXT.__swift5_assocty: 0x138
-  __TEXT.__swift5_proto: 0x6c
-  __TEXT.__swift5_types: 0xa0
-  __TEXT.__objc_classname: 0x31c6
-  __TEXT.__objc_methtype: 0xa093
-  __TEXT.__swift5_capture: 0x518
-  __TEXT.__oslogstring: 0xedbd
-  __TEXT.__gcc_except_tab: 0x4d30
-  __TEXT.__dlopen_cstrs: 0x10c4
-  __TEXT.__unwind_info: 0x76f8
-  __TEXT.__eh_frame: 0x14c8
-  __DATA_CONST.__auth_got: 0xfd0
-  __DATA_CONST.__got: 0x1af8
-  __DATA_CONST.__auth_ptr: 0x2d0
-  __DATA_CONST.__const: 0x5458
+  __TEXT.__swift5_assocty: 0xd8
+  __TEXT.__swift5_proto: 0x58
+  __TEXT.__swift5_types: 0xa4
+  __TEXT.__objc_classname: 0x31ac
+  __TEXT.__objc_methtype: 0xa081
+  __TEXT.__swift5_capture: 0x544
+  __TEXT.__oslogstring: 0xeceb
+  __TEXT.__gcc_except_tab: 0x4d10
+  __TEXT.__dlopen_cstrs: 0x106c
+  __TEXT.__unwind_info: 0x77a8
+  __TEXT.__eh_frame: 0x1848
+  __DATA_CONST.__auth_got: 0xf98
+  __DATA_CONST.__got: 0x1af0
+  __DATA_CONST.__auth_ptr: 0x1e8
+  __DATA_CONST.__const: 0x5480
   __DATA_CONST.__cfstring: 0xa880
-  __DATA_CONST.__objc_classlist: 0xa80
+  __DATA_CONST.__objc_classlist: 0xa88
   __DATA_CONST.__objc_catlist: 0x48
-  __DATA_CONST.__objc_protolist: 0x468
+  __DATA_CONST.__objc_protolist: 0x478
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_protorefs: 0xe0
-  __DATA_CONST.__objc_superrefs: 0x778
+  __DATA_CONST.__objc_protorefs: 0xf0
+  __DATA_CONST.__objc_superrefs: 0x770
   __DATA_CONST.__objc_arraydata: 0x3a0
   __DATA_CONST.__objc_arrayobj: 0x78
   __DATA_CONST.__objc_dictobj: 0x140
   __DATA_CONST.__objc_intobj: 0x2d0
   __DATA_CONST.__objc_floatobj: 0x10
-  __DATA.__objc_const: 0x41760
-  __DATA.__objc_selrefs: 0xa340
-  __DATA.__objc_ivar: 0x1978
-  __DATA.__objc_data: 0x7f40
-  __DATA.__data: 0x3d68
-  __DATA.__bss: 0x12a0
+  __DATA.__objc_const: 0x41880
+  __DATA.__objc_selrefs: 0xa2e8
+  __DATA.__objc_ivar: 0x1968
+  __DATA.__objc_data: 0x80e8
+  __DATA.__data: 0x3de8
+  __DATA.__bss: 0x1008
   __DATA.__common: 0x78
   - /System/Library/Frameworks/AVFAudio.framework/AVFAudio
   - /System/Library/Frameworks/AVFoundation.framework/AVFoundation

   - /System/Library/PrivateFrameworks/AppleIDSSOAuthentication.framework/AppleIDSSOAuthentication
   - /System/Library/PrivateFrameworks/AppleMediaServices.framework/AppleMediaServices
   - /System/Library/PrivateFrameworks/AppleMediaServicesUI.framework/AppleMediaServicesUI
-  - /System/Library/PrivateFrameworks/AssistantServices.framework/AssistantServices
   - /System/Library/PrivateFrameworks/AuthKit.framework/AuthKit
   - /System/Library/PrivateFrameworks/AuthKitUI.framework/AuthKitUI
   - /System/Library/PrivateFrameworks/BacklightServices.framework/BacklightServices

   - /System/Library/PrivateFrameworks/EmbeddedDataReset.framework/EmbeddedDataReset
   - /System/Library/PrivateFrameworks/FindMyDevice.framework/FindMyDevice
   - /System/Library/PrivateFrameworks/FrontBoardServices.framework/FrontBoardServices
+  - /System/Library/PrivateFrameworks/GenerativeModels.framework/GenerativeModels
   - /System/Library/PrivateFrameworks/HID.framework/HID
   - /System/Library/PrivateFrameworks/HSAAuthentication.framework/HSAAuthentication
   - /System/Library/PrivateFrameworks/HomeSharing.framework/HomeSharing

   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  Functions: 9354
-  Symbols:   1284
-  CStrings:  12704
+  Functions: 9351
+  Symbols:   1247
+  CStrings:  12678
 
Symbols:
+ _$s16GenerativeModels0aB12AvailabilityV13shouldBeShown25inSetupAssistantReturningSbSpySo20GMAvailabilityStatusVG_tFZ
+ _$s16GenerativeModels18AvailabilityClientC9updateAllyyYaKF
+ _$s16GenerativeModels18AvailabilityClientC9updateAllyyYaKFTu
+ _$s16GenerativeModels18AvailabilityClientCACycfc
+ _$s16GenerativeModels18AvailabilityClientCMa
+ _OBJC_CLASS_$_BYPasscodeCacheManager
+ _OBJC_CLASS_$_CSFFeatureManager
+ _objc_retain_x3
+ _swift_deallocPartialClassInstance
- _$s19ArrayLiteralElements013ExpressibleByaB0PTl
- _$s7Elements10SetAlgebraPTl
- _$ss10SetAlgebraMp
- _$ss10SetAlgebraP10isDisjoint4withSbx_tFTq
- _$ss10SetAlgebraP10isSuperset2ofSbx_tFTq
- _$ss10SetAlgebraP11subtractingyxxFTq
- _$ss10SetAlgebraP12intersectionyxxFTq
- _$ss10SetAlgebraP16formIntersectionyyxFTq
- _$ss10SetAlgebraP19symmetricDifferenceyxxnFTq
- _$ss10SetAlgebraP23formSymmetricDifferenceyyxnFTq
- _$ss10SetAlgebraP5unionyxxnFTq
- _$ss10SetAlgebraP6insertySb8inserted_7ElementQz17memberAfterInserttAFnFTq
- _$ss10SetAlgebraP6removey7ElementQzSgAEFTq
- _$ss10SetAlgebraP6update4with7ElementQzSgAFn_tFTq
- _$ss10SetAlgebraP7isEmptySbvgTq
- _$ss10SetAlgebraP8containsySb7ElementQzFTq
- _$ss10SetAlgebraP8isSubset2ofSbx_tFTq
- _$ss10SetAlgebraP8subtractyyxFTq
- _$ss10SetAlgebraP9formUnionyyxnFTq
- _$ss10SetAlgebraPSQTb
- _$ss10SetAlgebraPs25ExpressibleByArrayLiteralTb
- _$ss10SetAlgebraPsEyxqd__ncSTRd__7ElementQyd__ACRtzlufC
- _$ss10SetAlgebraPxycfCTq
- _$ss10SetAlgebraPyxqd__ncSTRd__7ElementQyd__ACRtzlufCTq
- _$ss25ExpressibleByArrayLiteralMp
- _$ss25ExpressibleByArrayLiteralP05arrayD0x0cD7ElementQzd_tcfCTq
- _$ss9OptionSetMp
- _$ss9OptionSetP8rawValuex03RawD0Qz_tcfCTq
- _$ss9OptionSetPSYTb
- _$ss9OptionSetPs0B7AlgebraTb
- _AFDeviceSupportsSystemAssistantExperience
- _BYSetupAssistantFinishedDarwinNotification
- _MKBKeyBagKeyStashCreateWithMode
- _MKBKeyBagKeyStashPersist
- _NSTemporaryDirectory
- _OBJC_CLASS_$_CDPLocalSecret
- _OBJC_CLASS_$_CSFAvailability
- _OBJC_CLASS_$_NSUUID
- ___error
- _close
- _fstat
- _ftruncate
- _open_dprotected_np
- _pread
- _pwrite
- _unlink
CStrings:
+ ")"
+ "@\"<_TtP5Setup20IntelligenceProvider_>\""
+ "@\"BYPasscodeCacheManager\""
+ "@\"BYPasscodeCacheManager\"16@0:8"
+ "Apple Intelligence continue button pressed"
+ "Apple Intelligence is now enabled"
+ "Apple Intelligence not now button pressed"
+ "Checking if intelligence is available: %!{(MISSING)bool}d"
+ "Checking intelligence bag"
+ "Checking override flag"
+ "Failed to determine intelligence status. Abort!"
+ "Failed to fetch latest availability status with error: %!@(MISSING)"
+ "Fetching latest Intelligence availability status"
+ "Found intelligence override flag: %!{(MISSING)bool}d"
+ "GM on device status: shouldShow: %!{(MISSING)bool}d, with availability state: %!l(MISSING)d"
+ "Intelligence is already enabled."
+ "Intelligence state: %!s(MISSING)"
+ "IntelligenceServerFlagOverride"
+ "Jul 12 2024"
+ "Should show intelligence: %!{(MISSING)bool}d"
+ "Skipping intent, there is already an account signed in."
+ "T@\"<_TtP5Setup20IntelligenceProvider_>\",&,N,V_intelligenceProvider"
+ "T@\"BYPasscodeCacheManager\",&,N"
+ "T@\"BYPasscodeCacheManager\",&,N,V_passcodeCacheManager"
+ "T@\"BYPasscodeCacheManager\",?,&,N"
+ "T@\"BYPasscodeCacheManager\",W,N,V_cacheManager"
+ "TB,V_didEnableIntelligence"
+ "This method should only be called with a Software Update error."
+ "Updating intelligence availability"
+ "Welcome shown with style: %!l(MISSING)i"
+ "_TtC5Setup25IntelligenceStateProvider"
+ "_TtC5Setup27BuddyGMAvailabilityProvider"
+ "_TtC5Setup33IntelligenceServerControlProvider"
+ "_TtP5Setup25ProvidesIntelligenceState_"
+ "_TtP5Setup33ProvidesIntelligenceServerControl_"
+ "_TtP5Setup36ProvidesGenerativeModelsAvailability_"
+ "_didEnableIntelligence"
+ "_shouldShowIntelligenceAnimationWithCompletion:"
+ "_suggestSoftwareUpdateWithOSVersion:buildVersion:navigationController:"
+ "_suggestSoftwareUpdateWithSoftwareUpdateRequiredError:navigationController:"
+ "allowedWritingToolsResultOptions"
+ "clearInput"
+ "commitID"
+ "configurationValueForKey:fromCache:completion:"
+ "didEnableIntelligence"
+ "fetchLatestAvailabilityStatusWithCompletionHandler:"
+ "fetchLatestAvailabilityWithCompletionHandler:"
+ "generativeModelsAvailabilityProvider"
+ "getGMOptInToggleWithCompletion:"
+ "includeAppleIntelligenceForSetupAssistant"
+ "initWithFeatureFlags:availabilityProvider:stateProvider:"
+ "intelligence bag check failed with error: %!@(MISSING)"
+ "intelligence bag key not found"
+ "intelligence value in bag: %!{(MISSING)bool}d"
+ "isAvailable"
+ "isDeviceEligibleForIntelligenceWithCompletionHandler:"
+ "isEnabledWithCompletionHandler:"
+ "isFeatureEnabledWithCompletionHandler:"
+ "isIntelligenceEnabledWithCompletionHandler:"
+ "serverControlProvider"
+ "serverFlag"
+ "setAllowedWritingToolsResultOptions:"
+ "setDidEnableIntelligence:"
+ "shouldShowIntelligenceWithServerCheck:completionHandler:"
+ "siriGMIntroViewControllerPresented:withEnrollmentType:"
+ "stateProvider"
+ "transitionToSoftwareUpdateControllerFromController:lastError:"
+ "v24@0:8@\"BYPasscodeCacheManager\"16"
+ "v24@?0@8@\"NSError\"16"
+ "v28@0:8B16@?<v@?B>20"
- "%!s(MISSING): Caching secret"
- "%!s(MISSING): Removing saved CDP local secret"
- "%!s(MISSING): Returning property value."
- "%!s(MISSING): Saving complex device secret type"
- "%!s(MISSING): Saving simple device secret type"
- "("
- "-[BuddyPasscodeCacheManager _secretTypeCorrespondingToPasscodeType:]"
- "-[BuddyPasscodeCacheManager _updateCachedLocalSecret:]"
- "-[BuddyPasscodeCacheManager cachedPasscode]"
- "@\"BuddyPasscodeCacheManager\""
- "@\"BuddyPasscodeCacheManager\"16@0:8"
- "@\"CDPLocalSecret\""
- "@\"CSFAvailability\""
- "BuddyPasscodeCacheManager"
- "BuddyPasscodeCacheManager.m"
- "CSF is unavailable"
- "Class getSecureBackupClass(void)_block_invoke"
- "Failed closing temporary file: %!s(MISSING)"
- "Failed to clear keybag stash with error %!d(MISSING)"
- "Failed to create keybag stash with error %!d(MISSING)"
- "Failed to open temporary file for caching: %!s(MISSING)"
- "Failed to persist keybag stash with error %!d(MISSING)"
- "Failed to stat file (%!d(MISSING)): %!s(MISSING)"
- "Failed to unlink temporary file for caching: %!s(MISSING)"
- "Failed to update local secret: %!@(MISSING)"
- "Incomplete data written to cache file: read %!l(MISSING)d, expected %!l(MISSING)u"
- "Intelligence availability status is %!l(MISSING)d with unavailability reason %!l(MISSING)d"
- "Jun 30 2024"
- "Keybag stash cleared successfully"
- "Keybag stash created successfully"
- "Keybag stash persisted successfully"
- "NSString *getkSecureBackupPassphraseKey(void)"
- "Q20@0:8i16"
- "SecureBackup"
- "Setup/IntelligenceAvailabilityProvider.swift"
- "System is eligible for Intelligence upsell."
- "System is not eligible for Intelligence upsell."
- "T@\"BuddyPasscodeCacheManager\",&,N"
- "T@\"BuddyPasscodeCacheManager\",&,N,V_passcodeCacheManager"
- "T@\"BuddyPasscodeCacheManager\",?,&,N"
- "T@\"BuddyPasscodeCacheManager\",W,N,V_cacheManager"
- "T@\"CDPLocalSecret\",R,N,V_cachedLocalSecret"
- "T@\"CSFAvailability\",&,V_availability"
- "TB,V_isCached"
- "UUID"
- "Unable to decode secure file: %!{(MISSING)public}@"
- "Unable to read secure file: %!s(MISSING)"
- "Unable to read secure file; read %!l(MISSING)d, expected %!l(MISSING)ld"
- "Unable to serialize cache data: %!{(MISSING)public}@"
- "Unable to truncate cache file: %!s(MISSING)"
- "Unable to write cache file: %!s(MISSING)"
- "Unknown availability status: "
- "Updated local secret: %!d(MISSING)"
- "Updating CDP StateController"
- "_TtC5Setup31IntelligenceEligibilityProvider"
- "_TtP5Setup31ProvidesIntelligenceEligibility_"
- "_availability"
- "_cachedLocalSecret"
- "_isCached"
- "_passcodeType"
- "_retrievable"
- "_secretTypeCorrespondingToPasscodeType:"
- "_shouldShowIntelligenceAnimation"
- "_stashedFd"
- "_suggestSoftwareUpdateWithOSVersion:buildVersion:"
- "_suggestSoftwareUpdateWithSoftwareUpdateRequiredError:"
- "_updateCDPStateController:secretType:"
- "_updateCachedLocalSecret:"
- "availability"
- "availability"
- "bytes"
- "cachePassphraseWithInfo:"
- "currentAvailabilityWithCompletionHandler:"
- "eligibilityProvider"
- "fileSystemRepresentation"
- "getCurrentAvailabilityWithCompletionHandler:"
- "initWithCSFAvailability:delegate:"
- "initWithFeatureFlags:availabilityProvider:eligibilityProvider:"
- "initWithLength:"
- "initWithValidatedSecret:secretType:"
- "isAvailableWithCompletionHandler:"
- "isCached"
- "isEligibleWithCompletionHandler:"
- "kSecureBackupPassphraseKey"
- "localSecretChangedTo:secretType:completion:"
- "mutableBytes"
- "setAvailability:"
- "setIsCached:"
- "setType:"
- "shouldNotShowReasons"
- "shouldShowIntelligenceWithCompletionHandler:"
- "softlink:r:path:/System/Library/PrivateFrameworks/CloudServices.framework/CloudServices"
- "storePasscode:"
- "unavailabiltyReasons"
- "uncachePassphraseWithInfo:"
- "v16@?0@\"CSFAvailability\"8"
- "v24@0:8@\"BuddyPasscodeCacheManager\"16"
- "v24@0:8@?<v@?@\"CSFAvailability\">16"
- "void *CloudServicesLibrary(void)"

```
