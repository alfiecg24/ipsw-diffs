## ScreenTimeAgent

> `/System/Library/PrivateFrameworks/ScreenTimeCore.framework/ScreenTimeAgent`

```diff

-529.2.0.0.0
-  __TEXT.__text: 0x24b2ec
-  __TEXT.__auth_stubs: 0x2790
-  __TEXT.__objc_stubs: 0x10e60
-  __TEXT.__objc_methlist: 0x7bc8
-  __TEXT.__const: 0x3490
+531.0.0.0.0
+  __TEXT.__text: 0x257598
+  __TEXT.__auth_stubs: 0x27f0
+  __TEXT.__objc_stubs: 0x10ea0
+  __TEXT.__objc_methlist: 0x7c30
+  __TEXT.__const: 0x34b0
   __TEXT.__gcc_except_tab: 0x20dc
-  __TEXT.__cstring: 0xd0bc
-  __TEXT.__oslogstring: 0x19f6b
-  __TEXT.__objc_methname: 0x1b252
+  __TEXT.__cstring: 0xd1cc
+  __TEXT.__oslogstring: 0x1a27b
+  __TEXT.__objc_methname: 0x1b363
   __TEXT.__objc_classname: 0x2007
   __TEXT.__objc_methtype: 0x52f3
-  __TEXT.__constg_swiftt: 0x264c
-  __TEXT.__swift5_typeref: 0x23e2
+  __TEXT.__constg_swiftt: 0x266c
+  __TEXT.__swift5_typeref: 0x2446
   __TEXT.__swift5_builtin: 0x1a4
-  __TEXT.__swift5_reflstr: 0x1ca4
-  __TEXT.__swift5_fieldmd: 0x121c
-  __TEXT.__swift5_capture: 0x3dd4
+  __TEXT.__swift5_reflstr: 0x1cc4
+  __TEXT.__swift5_fieldmd: 0x1234
+  __TEXT.__swift5_capture: 0x3e40
   __TEXT.__swift5_assocty: 0x288
   __TEXT.__swift5_proto: 0x268
   __TEXT.__swift5_types: 0x15c
   __TEXT.__swift5_protos: 0x50
   __TEXT.__swift5_mpenum: 0x24
-  __TEXT.__info_plist: 0x5dc
-  __TEXT.__unwind_info: 0x6b68
-  __TEXT.__eh_frame: 0xe6d8
-  __DATA_CONST.__auth_got: 0x13d8
-  __DATA_CONST.__got: 0x1420
-  __DATA_CONST.__auth_ptr: 0x750
-  __DATA_CONST.__const: 0xdc60
+  __TEXT.__info_plist: 0x5da
+  __TEXT.__unwind_info: 0x67b8
+  __TEXT.__eh_frame: 0xe7c0
+  __DATA_CONST.__auth_got: 0x1408
+  __DATA_CONST.__got: 0x1460
+  __DATA_CONST.__auth_ptr: 0x700
+  __DATA_CONST.__const: 0xdcc0
   __DATA_CONST.__cfstring: 0x47e0
-  __DATA_CONST.__objc_classlist: 0x610
+  __DATA_CONST.__objc_classlist: 0x618
   __DATA_CONST.__objc_catlist: 0x20
   __DATA_CONST.__objc_protolist: 0x518
   __DATA_CONST.__objc_imageinfo: 0x8

   __DATA_CONST.__objc_arraydata: 0x80
   __DATA_CONST.__objc_arrayobj: 0x90
   __DATA_CONST.__objc_dictobj: 0x78
-  __DATA.__objc_const: 0x200c8
-  __DATA.__objc_selrefs: 0x51d8
+  __DATA.__objc_const: 0x20258
+  __DATA.__objc_selrefs: 0x5218
   __DATA.__objc_ivar: 0x830
-  __DATA.__objc_data: 0x4170
-  __DATA.__data: 0x79f0
+  __DATA.__objc_data: 0x41e0
+  __DATA.__data: 0x7a70
   __DATA.__bss: 0x43b0
   __DATA.__common: 0x118
   - /AppleInternal/Library/Frameworks/TapToRadarKit.framework/TapToRadarKit

   - /usr/lib/swift/libswift_StringProcessing.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  Functions: 7573
-  Symbols:   1402
-  CStrings:  7756
+  Functions: 7615
+  Symbols:   1415
+  CStrings:  7786
 
Symbols:
+ _$s10Foundation3URLV4pathSSvg
+ _$s10Foundation4DateV2eeoiySbAC_ACtFZ
+ _$s10Foundation4DateVSLAAMc
+ _$s10Foundation8CalendarV15SearchDirectionO8backwardyA2EmFWC
+ _$sSKsSS7ElementRtzrlE6joined9separatorS2S_tF
+ _$sSL1loiySbx_xtFZTj
+ _$sSS5index_8offsetBy07limitedC0SS5IndexVSgAE_SiAEtF
+ _$sSSySsSnySS5IndexVGcig
+ _$sSayxGSKsMc
+ _$sScTss5NeverORs_rlE5valuexvg
+ _$sScTss5NeverORs_rlE5valuexvgTu
+ _$ss5NeverON
+ _$ss5NeverOs5ErrorsWP
+ _OBJC_CLASS_$_STLocalOrganizationSettings
- _$s10Foundation12DateIntervalV8durationSdvg
CStrings:
+ "Added active declarations to DeviceManagement"
+ "Adding active declarations to DeviceManagement..."
+ "Deleted unused ManagedSettings stores"
+ "Deleted version.plist"
+ "Deleting unused ManagedSettings stores..."
+ "Deleting version.plist"
+ "Device does not have the simplified_agent feature flag enabled. ScreenTimeAgent shouldn't run the DaemonActivity for %!{(MISSING)public}s"
+ "Failed to delete version.plist. Error %!{(MISSING)public}@"
+ "Failed to fetch legacy usage: %!{(MISSING)public}s"
+ "Failed to fetch usage for unknown device %!{(MISSING)public}s."
+ "Failed to recreate local organization. Error %!{(MISSING)public}@"
+ "Fetching legacy usage data"
+ "Migrated ManagedSettings data"
+ "Migrating ManagedSettings data..."
+ "Recreated local organization"
+ "Recreating local organization..."
+ "STDowngradeMigrator"
+ "Saving changes..."
+ "Share across devices is off, recreating local organization"
+ "Stopped DeviceActivity schedules"
+ "Stopping DeviceActivity schedules..."
+ "Successfully fetched legacy usage data"
+ "Updating personal hourly usage: %!{(MISSING)public}s to %!{(MISSING)public}s"
+ "Usage block(s) exist(s) for %!@(MISSING) in STUsage %!@(MISSING) {\n    device = %!s(MISSING)\n    lastEventDate = %!s(MISSING)\n    lastUpdatedDate = %!s(MISSING)\n    user = %!@(MISSING).\n}\nWill delete blocks: [\n    %!{(MISSING)public}s\n]"
+ "com.apple.ScreenTimeAgent.legacy-usage-fetch"
+ "defaultStoreName"
+ "deleteStoresWithStoreNames:sharedContainer:"
+ "downgradeMigration"
+ "emptyReportForInterval:"
+ "fetchUsage(using:)"
+ "fetchUsageTask"
+ "fetchWithContext:error:"
+ "fileExistsAtPath:"
+ "forceNoAutomaticDowngradeMigration"
+ "requestUsage(for:startingAt:deviceIdentifier:)"
+ "restricitonsStoreName"
+ "shareAcrossDevicesStoreName"
+ "storesForSharedContainer:"
+ "triggerDowngradeMigrationWithCompletionHandler:"
+ "triggerMigrationWithPersistenceController:andRequestManager:outError:"
+ "userSafetyStoreName"
+ "v40@0:8@16@24^@32"
- "DMFConfigurationSourceClientDelegate.configurationSourceDidFail"
- "Deleting usage block %!{(MISSING)public}@"
- "Division by zero"
- "Division results in an overflow"
- "Done updating personal hourly usage for: %!{(MISSING)public}s"
- "Failed to fetch usage for unknown device %!s(MISSING)."
- "One or more usage block exists for %!@(MISSING) in %!@(MISSING).\n We will remove them."
- "Swift/IntegerTypes.swift"
- "Updating Hourly Usage for: %!s(MISSING)"
- "Updating personal hourly usage for: %!{(MISSING)public}s"
- "Updating personal hourly usage: %!{(MISSING)public}s to %!{(MISSING)public}s, segments: %!{(MISSING)public}ld"
- "Updating personal remote usage for remote device: %!{(MISSING)public}s"
- "Updating user's hourly usage: %!{(MISSING)public}s to %!{(MISSING)public}s, segments: %!{(MISSING)public}ld"

```
