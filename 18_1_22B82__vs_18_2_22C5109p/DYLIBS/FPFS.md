## FPFS

> `/System/Library/PrivateFrameworks/FPFS.framework/FPFS`

```diff

-2732.42.1.0.0
-  __TEXT.__text: 0x8aab64
-  __TEXT.__auth_stubs: 0x4e90
-  __TEXT.__objc_methlist: 0x16c0
+2732.60.87.502.1
+  __TEXT.__text: 0x8b4158
+  __TEXT.__auth_stubs: 0x4f00
+  __TEXT.__objc_methlist: 0x1780
   __TEXT.__ustring: 0x30
-  __TEXT.__const: 0x1a83c
+  __TEXT.__const: 0x1ae9c
   __TEXT.__gcc_except_tab: 0x520
-  __TEXT.__oslogstring: 0xd97a
-  __TEXT.__cstring: 0x2b946
-  __TEXT.__swift5_typeref: 0xe7df
-  __TEXT.__constg_swiftt: 0xf158
-  __TEXT.__swift5_builtin: 0x6a4
-  __TEXT.__swift5_reflstr: 0x8cfe
-  __TEXT.__swift5_fieldmd: 0x800c
-  __TEXT.__swift5_assocty: 0x1ba8
-  __TEXT.__swift5_capture: 0x13984
-  __TEXT.__swift5_proto: 0x1318
-  __TEXT.__swift5_types: 0x848
-  __TEXT.__swift5_mpenum: 0xf4
+  __TEXT.__oslogstring: 0xdf8a
+  __TEXT.__cstring: 0x2bd06
+  __TEXT.__swift5_typeref: 0xe7af
+  __TEXT.__constg_swiftt: 0xf404
+  __TEXT.__swift5_builtin: 0x6f4
+  __TEXT.__swift5_reflstr: 0x922e
+  __TEXT.__swift5_fieldmd: 0x834c
+  __TEXT.__swift5_assocty: 0x1c08
+  __TEXT.__swift5_capture: 0x140d0
+  __TEXT.__swift5_proto: 0x1358
+  __TEXT.__swift5_types: 0x86c
+  __TEXT.__swift5_mpenum: 0xfc
   __TEXT.__swift5_protos: 0x70
-  __TEXT.__unwind_info: 0xf798
-  __TEXT.__eh_frame: 0x21d14
-  __TEXT.__objc_classname: 0x323
-  __TEXT.__objc_methname: 0x9738
-  __TEXT.__objc_methtype: 0x2d8f
-  __TEXT.__objc_stubs: 0x1dc0
-  __DATA_CONST.__got: 0x10e8
-  __DATA_CONST.__const: 0x1210
-  __DATA_CONST.__objc_classlist: 0x228
+  __TEXT.__swift5_types2: 0x4
+  __TEXT.__unwind_info: 0xf4f8
+  __TEXT.__eh_frame: 0x20c94
+  __TEXT.__objc_classname: 0x33f
+  __TEXT.__objc_methname: 0x992e
+  __TEXT.__objc_methtype: 0x2e39
+  __TEXT.__objc_stubs: 0x1f20
+  __DATA_CONST.__got: 0x1128
+  __DATA_CONST.__const: 0x1260
+  __DATA_CONST.__objc_classlist: 0x230
   __DATA_CONST.__objc_catlist: 0x38
-  __DATA_CONST.__objc_protolist: 0x188
+  __DATA_CONST.__objc_protolist: 0x1a8
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x2430
-  __DATA_CONST.__objc_protorefs: 0xd0
+  __DATA_CONST.__objc_selrefs: 0x24e0
+  __DATA_CONST.__objc_protorefs: 0xe0
   __DATA_CONST.__objc_superrefs: 0x48
-  __AUTH_CONST.__auth_got: 0x2758
-  __AUTH_CONST.__auth_ptr: 0x2640
-  __AUTH_CONST.__const: 0x3b200
-  __AUTH_CONST.__cfstring: 0x800
-  __AUTH_CONST.__objc_const: 0x10ec0
+  __AUTH_CONST.__auth_got: 0x2790
+  __AUTH_CONST.__auth_ptr: 0x27b0
+  __AUTH_CONST.__const: 0x3c528
+  __AUTH_CONST.__cfstring: 0x820
+  __AUTH_CONST.__objc_const: 0x11240
   __AUTH_CONST.__objc_intobj: 0x18
-  __AUTH.__objc_data: 0xa90
-  __AUTH.__data: 0x1728
+  __AUTH.__objc_data: 0xbb8
+  __AUTH.__data: 0x1888
   __DATA.__objc_ivar: 0x124
-  __DATA.__data: 0x6020
-  __DATA.__bss: 0x1d500
-  __DATA.__common: 0x98
-  __DATA_DIRTY.__objc_data: 0x1f58
-  __DATA_DIRTY.__data: 0xbb80
+  __DATA.__data: 0x62a0
+  __DATA.__bss: 0x1dc90
+  __DATA.__common: 0xa0
+  __DATA_DIRTY.__objc_data: 0x1fa0
+  __DATA_DIRTY.__data: 0xbc80
   __DATA_DIRTY.__bss: 0x7f30
   __DATA_DIRTY.__common: 0x638
   - /System/Library/Frameworks/Combine.framework/Combine

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 24054
-  Symbols:   3445
-  CStrings:  6122
+  Functions: 24110
+  Symbols:   3444
+  CStrings:  6203
 
Symbols:
+ _FPDiagnosticAttributeKeyDBErrorDate
+ _FPDiagnosticAttributeKeyDBIsBound
+ _FPDiagnosticAttributeKeyDBIsSuperPendingSet
+ _FPDiagnosticAttributeKeyNameCharacterSets
+ _FPDiagnosticAttributeKeyNameIsDotFile
+ _FPStatVFS
+ _NSFileProviderErrorDomainDisconnectionStateKey
+ _OBJC_CLASS_$_FPDTapToRadarManager
+ _OBJC_CLASS_$_NSCharacterSet
+ _fpfs_fget_decmpf_type
+ _fpfs_lp_openat
+ _fpfs_openfdbyhandle
+ _pthread_fchdir_np
- _OBJC_CLASS_$_FPFSTapToRadarManager
- _fpfs_open_longpath
CStrings:
+ "\n           )\n       )\n ORDER BY rt.rowID"
+ "\n       )\n   AND (parent_rt.fs_deletion_status & "
+ "\nCodepath triggering: "
+ " != 0\n          OR fs_scheduling_state_conditions == "
+ " != 0\n     OR rt.fs_scheduling_state_conditions == "
+ " == 0\n       AND (parent_rt.fs_scheduling_state_conditions IS NULL\n           OR parent_rt.fs_scheduling_state_conditions != "
+ "@\"FPFSVolume\""
+ "@24@0:8@\"NSCoder\"16"
+ "@24@0:8d16"
+ "@96@0:8@16I24@28@36Q44B52B56B60@?64@?72@?80@?88"
+ "CREATE INDEX reconciliation_table__stuck_deletion_monitor_recursive_deletion_status\n          ON reconciliation_table(fs_id)\n       WHERE fs_deletion_status & "
+ "Could not set protection class on %!s(MISSING): %!@(MISSING)"
+ "Could not set protection class: %!@(MISSING)"
+ "Couldn't send TTR, couldn't decode VFSItem ID"
+ "Couldn't send TTR, stuckDeletionMonitor resolved to nil"
+ "DROP INDEX IF EXISTS reconciliation_table__stuck_deletion_monitor"
+ "FPCKUpdateReceiving"
+ "FPFSVolume"
+ "Failed to set dataless bit: %!{(MISSING)darwin.errno}d"
+ "JSONObjectWithData:options:error:"
+ "NSCoding"
+ "NSSecureCoding"
+ "Q24@0:8@16"
+ "Repairing %!{(MISSING)public}s on %!s(MISSING) (restore missing SF_DATALESS flag)"
+ "SELECT rt.fs_id\n  FROM reconciliation_table AS rt\nINDEXED BY reconciliation_table__stuck_deletion_monitor_recursive_deletion_status\nINNER JOIN fs_snapshot AS fs ON (fs.id = rt.fs_id)\nINNER JOIN reconciliation_table AS parent_rt ON (fs.parent_id = parent_rt.fs_id)\n WHERE (rt.fs_deletion_status & "
+ "StuckDeletionMonitor"
+ "TB,R"
+ "Td,N,R,Vstatus"
+ "The item doesn't have a decmpfs attribute with the DATALESS_CMPFS_TYPE"
+ "The item is not a regular file, not attempting to fix the missing dataless flag"
+ "Unable to return DB for FPCK, was nil"
+ "_TtC9libfssync17FPCKWharfResource"
+ "_emojiCharacterSet"
+ "_launchXPCServiceWithUpdateReceiver:proxy:completionHandler:"
+ "cannot take ownership of %!{(MISSING)public}s, it's owned by %!{(MISSING)public}s for %!{(MISSING)public}s"
+ "characterSetWithRange:"
+ "controlCharacterSet"
+ "decodeDoubleForKey:"
+ "deleteRejectedItem(in: "
+ "domainWithID:reason:"
+ "encodeDouble:forKey:"
+ "encodeWithCoder:"
+ "fetchTelemetryReport(completionHandler:)"
+ "fetchTelemetryReportWithCompletionHandler:"
+ "filter rejected execution of %!s(MISSING)"
+ "filterAlreadyTTRAndSendTTR_JumpToQueue(itemIDs:)"
+ "getStringCharactersSet:"
+ "illegalCharacterSet"
+ "initWithCoder:"
+ "initWithDatabasesBackupsPaths:volumeRole:providerDomainID:domainUserInfo:reason:usingFPFS:iCDPackageDetection:useShouldPause:shouldPause:sendTTR:saveCheckpoint:isInvalidated:"
+ "initWithStatus:"
+ "invertedSet"
+ "knownFolderOwnedByMissingDomain"
+ "known_folder_owned_by_missing_domain"
+ "launchFromURLs:options:error:resultHandler:"
+ "libfssync.FPCKTelemetryUpdate"
+ "libfssync.VFSFileError"
+ "nilErrorIds"
+ "noContentToFetch"
+ "nonBaseCharacterSet"
+ "rangeOfCharacterFromSet:"
+ "repairStartTime"
+ "runFPCKForDomain:domainUserInfo:domainRootURL:databaseBackupPath:urls:volumeRole:options:reason:fpfs:iCDPackageDetection:shouldPause:sendTTR:saveCheckpoint:isInvalidated:completionHandler:"
+ "saveCheckpoint"
+ "saveCheckpointWithReport:"
+ "saveFPCKTelemetryReport(_:completionHandler:)"
+ "saveFPCKTelemetryReport:completionHandler:"
+ "scheduleFPCKRun:domainUserInfo:domainRootURL:databaseBackupPath:urls:volumeRole:options:reason:fpfs:iCDPackageDetection:launchType:updateReceiver:shouldPause:proxy:completionHandler:"
+ "sendTTR"
+ "sendTTRForItemIDs:"
+ "status"
+ "supportsSecureCoding"
+ "symbolCharacterSet"
+ "taking ownership of %!{(MISSING)public}s that is owned by domain %!{(MISSING)public}s that doesn't exist for %!{(MISSING)public}s"
+ "toDictionary"
+ "updateFPCKTelemetryReport(telemetryUpdate:)"
+ "v124@0:8@16@24@32@40@48I56Q60Q68B76B80@?84@?92@?100@?108@?116"
+ "v16@?0@\"FPCKTelemetryUpdate\"8"
+ "v16@?0@\"NSData\"8"
+ "v24@0:8@\"FPCKTelemetryUpdate\"16"
+ "v24@0:8@\"NSCoder\"16"
+ "v24@0:8@\"NSData\"16"
+ "v24@0:8@?<v@?@\"NSDictionary\"@\"NSError\">16"
+ "v32@0:8@\"<FPCKUpdateReceiving>\"16@?<v@?@\"NSString\"@\"FPCKStats\"@\"NSDictionary\"@\"NSError\">24"
+ "v32@0:8@\"NSDictionary\"16@?<v@?@\"NSError\">24"
+ "üßπ Can't update FPCK telemetry report because it does not exist"
+ "üßπ FPCK %!s(MISSING): TTR check took %!f(MISSING)s"
+ "üßπ FPCK %!s(MISSING): cannot send TTR, the sender is nil"
+ "üßπ FPCK %!s(MISSING): error encoding IDs for TTR"
+ "üßπ FPCK %!s(MISSING): launching TTR check"
+ "üßπ FPCK %!s(MISSING): sending TTR, we have nil errors"
+ "üßπ FPCK %!s(MISSING): skipping TTR, no nil errors"
+ "üßπ Skipping telemetry report save, report was empty"
+ "üßπ Successfully saved telemetry report with %!l(MISSING)d fields"
+ "üßπ could not accept TTR from FPCK, DB is nil"
+ "üßπ could not accept TTR from FPCK, stuck deletion monitor not initialized"
+ "üßπ failed decoding VFSItemID for TTR from FPCK"
+ "üßπ sending TTR for Periodic FPCK"
+ "üßπ ‚ùå Error generating telemetry report, report is empty"
+ "üßπ ‚ùå Error saving FPCK telemetry report during periodic check %!@(MISSING)"
- " != 0\n         AND fs_scheduling_state_conditions != 0"
- " != 0\n   AND rt.fs_scheduling_state_conditions != 0\n   AND parent_rt.fs_deletion_status & "
- " == 0\n ORDER BY rt.rowID"
- "@\"FSVolume\""
- "@80@0:8@16I24@28@36Q44B52B56B60@?64@?72"
- "CREATE INDEX reconciliation_table__stuck_deletion_monitor\n          ON reconciliation_table(fs_id)\n       WHERE fs_deletion_status & "
- "Could not set protection class on %!s(MISSING): %!d(MISSING)"
- "Could not set protection class: %!d(MISSING)"
- "FPCKPauseChecking"
- "FSVolume"
- "SELECT rt.fs_id\n  FROM reconciliation_table AS rt\nINDEXED BY reconciliation_table__stuck_deletion_monitor\nINNER JOIN fs_snapshot AS fs ON (fs.id = rt.fs_id)\nINNER JOIN reconciliation_table AS parent_rt ON (fs.parent_id = parent_rt.fs_id)\n WHERE rt.fs_deletion_status & "
- "_launchXPCServiceWithPauseChecker:proxy:completionHandler:"
- "initWithDatabasesBackupsPaths:volumeRole:providerDomainID:domainUserInfo:reason:usingFPFS:iCDPackageDetection:useShouldPause:shouldPause:isInvalidated:"
- "launchWithTelemetryFromURLs:options:error:resultHandler:"
- "runFPCKForDomain:domainUserInfo:domainRootURL:databaseBackupPath:urls:volumeRole:options:reason:fpfs:iCDPackageDetection:shouldPause:isInvalidated:completionHandler:"
- "scheduleFPCKRun:domainUserInfo:domainRootURL:databaseBackupPath:urls:volumeRole:options:reason:fpfs:iCDPackageDetection:launchType:pauseChecker:shouldPause:proxy:completionHandler:"
- "telemetryReport(completionHandler:)"
- "telemetryReportWithCompletionHandler:"
- "v108@0:8@16@24@32@40@48I56Q60Q68B76B80@?84@?92@?100"
- "v24@0:8@?<v@?@\"NSDictionary\">16"
- "v32@0:8@\"<FPCKPauseChecking>\"16@?<v@?@\"NSString\"@\"FPCKStats\"@\"NSDictionary\"@\"NSError\">24"

```
