## HomeKitBackingStore

> `/System/Library/PrivateFrameworks/HomeKitBackingStore.framework/HomeKitBackingStore`

```diff

-1215.2.15.1.2
-  __TEXT.__text: 0x8501c
-  __TEXT.__auth_stubs: 0x8b0
-  __TEXT.__objc_methlist: 0x4f50
+1234.1.0.1.1
+  __TEXT.__text: 0x88c38
+  __TEXT.__auth_stubs: 0x8a0
+  __TEXT.__objc_methlist: 0x4fd8
   __TEXT.__const: 0xc8
-  __TEXT.__gcc_except_tab: 0x4a70
-  __TEXT.__cstring: 0x74a4
-  __TEXT.__oslogstring: 0xd167
-  __TEXT.__unwind_info: 0x1ae0
-  __TEXT.__objc_classname: 0xea8
-  __TEXT.__objc_methname: 0xd19d
-  __TEXT.__objc_methtype: 0x18f0
-  __TEXT.__objc_stubs: 0x9860
+  __TEXT.__gcc_except_tab: 0x5234
+  __TEXT.__cstring: 0x737c
+  __TEXT.__oslogstring: 0xd139
+  __TEXT.__unwind_info: 0x1e40
+  __TEXT.__objc_classname: 0xede
+  __TEXT.__objc_methname: 0xcf5c
+  __TEXT.__objc_methtype: 0x1949
+  __TEXT.__objc_stubs: 0x9980
   __DATA_CONST.__got: 0x588
-  __DATA_CONST.__const: 0x25a0
-  __DATA_CONST.__objc_classlist: 0x380
+  __DATA_CONST.__const: 0x27f0
+  __DATA_CONST.__objc_classlist: 0x390
   __DATA_CONST.__objc_catlist: 0xc8
   __DATA_CONST.__objc_protolist: 0xb0
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x2bf0
+  __DATA_CONST.__objc_selrefs: 0x2c30
   __DATA_CONST.__objc_protorefs: 0x28
-  __DATA_CONST.__objc_superrefs: 0x2c0
-  __DATA_CONST.__objc_arraydata: 0x110
-  __AUTH_CONST.__auth_got: 0x468
-  __AUTH_CONST.__const: 0x820
-  __AUTH_CONST.__cfstring: 0x4840
-  __AUTH_CONST.__objc_const: 0xba78
+  __DATA_CONST.__objc_superrefs: 0x2d0
+  __DATA_CONST.__objc_arraydata: 0xb0
+  __AUTH_CONST.__auth_got: 0x460
+  __AUTH_CONST.__const: 0x880
+  __AUTH_CONST.__cfstring: 0x46c0
+  __AUTH_CONST.__objc_const: 0xb588
   __AUTH_CONST.__objc_intobj: 0x180
-  __AUTH_CONST.__objc_arrayobj: 0x60
+  __AUTH_CONST.__objc_arrayobj: 0x48
   __AUTH_CONST.__objc_dictobj: 0x50
-  __AUTH.__objc_data: 0x640
-  __DATA.__objc_ivar: 0x694
-  __DATA.__data: 0x850
-  __DATA.__bss: 0xa8
+  __AUTH.__objc_data: 0x6e0
+  __DATA.__objc_ivar: 0x5c8
+  __DATA.__data: 0xa18
+  __DATA.__bss: 0xd8
   __DATA_DIRTY.__objc_data: 0x1cc0
-  __DATA_DIRTY.__bss: 0x1b8
+  __DATA_DIRTY.__bss: 0x188
   - /System/Library/Frameworks/CloudKit.framework/CloudKit
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
   - /System/Library/Frameworks/CoreLocation.framework/CoreLocation

   - /usr/lib/libobjc.A.dylib
   - /usr/lib/libsqlite3.dylib
   - /usr/lib/libz.1.dylib
-  Functions: 2062
-  Symbols:   2517
-  CStrings:  4186
+  Functions: 2142
+  Symbols:   2653
+  CStrings:  4143
 
Symbols:
+ _OBJC_CLASS_$_NSPointerArray
+ ___removeExtraWhitespace
+ _deleteBlockString
+ _deleteBlocksStoreString
+ _deleteIndexSentinelsStoreString
+ _deleteIndexSentinelsString
+ _deleteItemStoreExternalString
+ _deleteItemString
+ _deleteItemsBlockString
+ _deleteItemsStoreString
+ _deleteNullBlocksString
+ _deleteNullItemsString
+ _deleteNullItemsTypeString
+ _deleteRecordBlockString
+ _deleteRecordString
+ _deleteRecordUUIDString
+ _deleteStoreString
+ _insertBlockString
+ _insertDeletionItemsForRecordWithUUIDString
+ _insertDeletionItemsForRecordsOfTypeString
+ _insertDeletionItemsForRecordsWithParentUUIDString
+ _insertIndexSentinelString
+ _insertItemString
+ _insertRecordString
+ _insertStoreString
+ _selectAllRecordParentModelIDRowsString
+ _selectAllRecordParentModelIDTypeRowsString
+ _selectAllRecordRowsString
+ _selectAllRecordTypeRowsString
+ _selectBlockString
+ _selectIndexSentinelString
+ _selectItemsBlockLimitString
+ _selectItemsBlockString
+ _selectReadyBlocksString
+ _selectReadyInputBlocksString
+ _selectReadyRollbackBlocksString
+ _selectRecordExternalString
+ _selectRecordString
+ _selectRecordUUIDExternalString
+ _selectRecordUUIDString
+ _selectRecordsOfTypeString
+ _selectRecordsParentUUIDString
+ _selectRecordsParentUUIDTypeString
+ _selectRecordsPushBlockString
+ _selectRecordsString
+ _selectStoreString
+ _selectStoresString
+ _updateBlockString
+ _updateItemString
+ _updateRecordClearPushExpectedString
+ _updateRecordExternalExternalString
+ _updateRecordExternalString
+ _updateRecordExternalUUIDString
+ _updateRecordPushString
+ _updateRecordPushUUIDString
+ _updateRecordString
+ _updateRecordTypeString
+ _updateRecordsClearPushString
+ _updateStoreReplicationDataString
- _OBJC_CLASS_$_HMFUnfairLock
- _objc_retain_x6
CStrings:
+ "\t"
+ "\x12\x11"
+ "%!s(MISSING) LIMIT (%!l(MISSING)u)"
+ "%!{(MISSING)public}@Failed integrity check %!@(MISSING)"
+ "%!{(MISSING)public}@Finalizing statement: %!p(MISSING)"
+ "%!{(MISSING)public}@Found existing SQL context: %!@(MISSING)"
+ "%!{(MISSING)public}@[%!{(MISSING)public}@] Failed to abort output block: %!@(MISSING)"
+ "%!{(MISSING)public}@requested to prepare SQL statement when the context has already been marked finalized"
+ "%!{(MISSING)public}@unable to prepare SQL statement: %!@(MISSING)"
+ "@\"HMBPreparedStatementsCache\""
+ "@32@0:8r*16@?24"
+ "DELETE FROM block_v2 WHERE id=?1"
+ "DELETE FROM block_v2 WHERE store_v2_id=?1"
+ "DELETE FROM block_v2 WHERE store_v2_id=?1 AND options_data IS NULL"
+ "DELETE FROM index_sentinel WHERE store_id = ?1"
+ "DELETE FROM index_sentinel WHERE type = ?1"
+ "DELETE FROM record_v2 WHERE id=?1"
+ "DELETE FROM record_v2 WHERE id=?1 and push_block_id=?2"
+ "DELETE FROM record_v2 WHERE store_v2_id=?1 AND uuid=?2"
+ "DELETE FROM store_v2 WHERE id=?1"
+ "DELETE FROM transaction_v2 WHERE id=?1"
+ "DELETE FROM transaction_v2 WHERE store_v2_id=?1"
+ "DELETE FROM transaction_v2 WHERE store_v2_id=?1 AND type=?2 AND external_id=?3"
+ "DELETE FROM transaction_v2 where block_id=?1"
+ "HMBPreparedStatementsCache"
+ "HMBSQLCachedPreparedStatement"
+ "INSERT INTO block_v2 (store_v2_id, type) VALUES (?1, ?2)"
+ "INSERT INTO index_sentinel (store_id, type) VALUES(?1, ?2)"
+ "INSERT INTO record_v2                                         (store_v2_id, external_id, external_data, uuid, parent_uuid, type, model_encoding, model_data, model_schema, push_encoding, push_data, push_block_id)                                         VALUES (?1, ?2, ?3, ?4, ?5, ?6, ?7, ?8, ?9, ?10, ?11, ?12)"
+ "INSERT INTO transaction_v2 (store_v2_id, block_id, type, external_id, external_data, model_encoding, model_data) VALUES (?1, ?2, ?3, ?4, ?5, ?6, ?7)"
+ "INSERT INTO transaction_v2 (store_v2_id, block_id, type, external_id, model_encoding, model_data) SELECT ?1, ?2, ?3, COALESCE(external_id, randomblob(16)), 0, uuid FROM record_v2 WHERE store_v2_id = ?1 AND parent_uuid = ?4 AND model_data IS NOT NULL"
+ "INSERT INTO transaction_v2 (store_v2_id, block_id, type, external_id, model_encoding, model_data) SELECT ?1, ?2, ?3, COALESCE(external_id, randomblob(16)), 0, uuid FROM record_v2 WHERE store_v2_id = ?1 AND type = ?4 AND model_data IS NOT NULL"
+ "INSERT INTO transaction_v2 (store_v2_id, block_id, type, external_id, model_encoding, model_data) SELECT ?1, ?2, ?3, COALESCE(external_id, randomblob(16)), 0, uuid FROM record_v2 WHERE store_v2_id = ?1 AND uuid = ?4 AND model_data IS NOT NULL"
+ "INSERT OR REPLACE INTO transaction_v2 (store_v2_id, block_id, type, external_id, external_data, model_encoding, model_data) VALUES (?1, ?2, ?3, ?4, ?5, ?6, ?7)"
+ "PRAGMA integrity_check;"
+ "SELECT COUNT('X') FROM index_sentinel WHERE store_id = ?1 and type = ?2"
+ "SELECT id, external_id, external_data, model_encoding, model_data FROM transaction_v2 WHERE  block_id=?1"
+ "SELECT id, external_id, external_data, model_encoding, model_data FROM transaction_v2 WHERE  block_id=?1 AND id>?2 ORDER BY id LIMIT ?3"
+ "SELECT id, label, identifier_data, replication_data FROM store_v2"
+ "SELECT id, label, identifier_data, replication_data FROM store_v2 WHERE id=?1"
+ "SELECT id, options_data FROM block_v2 WHERE store_v2_id=?1 AND type=?2 AND options_data IS NOT NULL ORDER BY id"
+ "SELECT id, type, options_data FROM block_v2 WHERE id=?1"
+ "SELECT id, type, options_data FROM block_v2 WHERE store_v2_id=:_store_id AND id<=:_sequence_offset AND type=3 ORDER BY id DESC"
+ "SELECT id, type, options_data FROM block_v2 WHERE store_v2_id=:_store_id AND id>:_sequence_offset AND (type=1 OR type=2) AND options_data IS NOT NULL ORDER BY id"
+ "SELECT record_v2.id, record_v2.external_id, record_v2.external_data, record_v2.model_encoding, record_v2.model_data, record_v2.model_schema, record_v2.type, record_v2.push_encoding, record_v2.push_data, record_v2.push_block_id, record_v2.uuid FROM record_v2 WHERE store_v2_id=:_store_id AND id>:_sequence_offset ORDER BY id"
+ "SELECT record_v2.id, record_v2.external_id, record_v2.external_data, record_v2.model_encoding, record_v2.model_data, record_v2.model_schema, record_v2.type, record_v2.push_encoding, record_v2.push_data, record_v2.push_block_id, record_v2.uuid FROM record_v2 WHERE store_v2_id=:_store_id AND parent_uuid=:_parent_uuid AND id>:_sequence_offset ORDER BY id"
+ "SELECT record_v2.id, record_v2.external_id, record_v2.external_data, record_v2.model_encoding, record_v2.model_data, record_v2.model_schema, record_v2.type, record_v2.push_encoding, record_v2.push_data, record_v2.push_block_id, record_v2.uuid FROM record_v2 WHERE store_v2_id=:_store_id AND parent_uuid=:_parent_uuid AND type == :_type AND id>:_sequence_offset ORDER BY id"
+ "SELECT record_v2.id, record_v2.external_id, record_v2.external_data, record_v2.model_encoding, record_v2.model_data, record_v2.model_schema, record_v2.type, record_v2.push_encoding, record_v2.push_data, record_v2.push_block_id, record_v2.uuid FROM record_v2 WHERE store_v2_id=:_store_id AND type=:_model_type AND id>:_sequence_offset ORDER BY id"
+ "T@\"HMBPreparedStatementsCache\",R,N,V_preparedStatementsCache"
+ "TB,GisFinalized,V_finalized"
+ "T^{sqlite3=},N,V_connection"
+ "T^{sqlite3_stmt=},R,N,V_statement"
+ "UPDATE block_v2 SET options_data=?2 WHERE id=?1"
+ "UPDATE record_v2 SET push_encoding = 0, push_data = NULL, push_block_id = NULL WHERE id=?1 AND push_block_id=?2"
+ "UPDATE record_v2 SET push_encoding = ?2, push_data = ?3, push_block_id = ?4 WHERE id = ?1"
+ "UPDATE record_v2 SET push_encoding = ?3, push_data = ?4, push_block_id = ?5 WHERE store_v2_id = ?1 AND uuid=?2"
+ "UPDATE store_v2 SET replication_data=?2 WHERE id=?1"
+ "^{sqlite3_stmt=}24@0:8@16"
+ "^{sqlite3_stmt=}32@0:8r*16^@24"
+ "_connection"
+ "_extractStatementForString:"
+ "_lruQueue"
+ "_performBlockWithContextManagedStatementForString:block:"
+ "_preparedStatementsCache"
+ "_statementForString:error:"
+ "_statementsByStatementString"
+ "addPointer:"
+ "connection"
+ "evictAllStatements"
+ "evictLeastRecentlyUsedStatement"
+ "hmbErrorWithSQLite3Connection:"
+ "hmbErrorWithSQLite3Connection:statement:"
+ "hmf_enumerateKeysAndObjectsWithAutoreleasePoolUsingBlock:"
+ "initWithStatement:"
+ "initWithUTF8String:"
+ "isFinalized"
+ "pointerArrayWithOptions:"
+ "preparedStatementsCache"
+ "setConnection:"
+ "setStatement:forString:"
+ "statementForString:"
+ "statementString"
+ "v32@0:8^{sqlite3_stmt=}16@24"
+ "v32@?0@\"NSString\"8@\"HMBSQLCachedPreparedStatement\"16^B24"
+ "weakToWeakObjectsMapTable"
- "%!{(MISSING)public}@Deallocation called on %!s(MISSING) without finalize."
- "%!{(MISSING)public}@Failed to prepare context %!@(MISSING): %!{(MISSING)public}@"
- "%!{(MISSING)public}@Opened SQL context %!@(MISSING) using open sqlite database handle from existing context: %!@(MISSING)"
- "%!{(MISSING)public}@Unable to determine if old tables are in the database: %!@(MISSING)"
- "%!{(MISSING)public}@Unable to remove old table %!@(MISSING): %!@(MISSING)"
- "%!{(MISSING)public}@unable to prepare SQL statements: %!@(MISSING)"
- "<NO LOCK>"
- "@\"HMFUnfairLock\""
- "B\x11"
- "DELETE FROM block_v2 WHERE id=?1;"
- "DELETE FROM block_v2 WHERE store_v2_id=?1 AND options_data IS NULL;"
- "DELETE FROM block_v2 WHERE store_v2_id=?1;"
- "DELETE FROM index_sentinel WHERE store_id = ?1;"
- "DELETE FROM index_sentinel WHERE type = ?1;"
- "DELETE FROM record_v2 WHERE id=?1 and push_block_id=?2;"
- "DELETE FROM record_v2 WHERE id=?1;"
- "DELETE FROM record_v2 WHERE store_v2_id=?1 AND uuid=?2;"
- "DELETE FROM store_v2 WHERE id=?1;"
- "DELETE FROM transaction_v2 WHERE id=?1;"
- "DELETE FROM transaction_v2 WHERE store_v2_id=?1 AND type=?2 AND external_id=?3;"
- "DELETE FROM transaction_v2 WHERE store_v2_id=?1;"
- "DELETE FROM transaction_v2 where block_id=?1;"
- "INSERT INTO block_v2 (store_v2_id, type) VALUES (?1, ?2);"
- "INSERT INTO index_sentinel (store_id, type) VALUES(?1, ?2);"
- "INSERT INTO record_v2                                         (store_v2_id, external_id, external_data, uuid, parent_uuid, type, model_encoding, model_data, model_schema, push_encoding, push_data, push_block_id)                                         VALUES (?1, ?2, ?3, ?4, ?5, ?6, ?7, ?8, ?9, ?10, ?11, ?12);"
- "INSERT INTO transaction_v2 (store_v2_id, block_id, type, external_id, external_data, model_encoding, model_data) VALUES (?1, ?2, ?3, ?4, ?5, ?6, ?7);"
- "INSERT INTO transaction_v2 (store_v2_id, block_id, type, external_id, model_encoding, model_data) SELECT ?1, ?2, ?3, COALESCE(external_id, randomblob(16)), 0, uuid FROM record_v2 WHERE store_v2_id = ?1 AND parent_uuid = ?4 AND model_data IS NOT NULL;"
- "INSERT INTO transaction_v2 (store_v2_id, block_id, type, external_id, model_encoding, model_data) SELECT ?1, ?2, ?3, COALESCE(external_id, randomblob(16)), 0, uuid FROM record_v2 WHERE store_v2_id = ?1 AND type = ?4 AND model_data IS NOT NULL;"
- "INSERT INTO transaction_v2 (store_v2_id, block_id, type, external_id, model_encoding, model_data) SELECT ?1, ?2, ?3, COALESCE(external_id, randomblob(16)), 0, uuid FROM record_v2 WHERE store_v2_id = ?1 AND uuid = ?4 AND model_data IS NOT NULL;"
- "INSERT OR REPLACE INTO transaction_v2 (store_v2_id, block_id, type, external_id, external_data, model_encoding, model_data) VALUES (?1, ?2, ?3, ?4, ?5, ?6, ?7);"
- "SELECT COUNT('X') FROM index_sentinel WHERE store_id = ?1 and type = ?2;"
- "SELECT id, external_id, external_data, model_encoding, model_data FROM transaction_v2 WHERE  block_id=?1 AND id>?2 ORDER BY id LIMIT ?3;"
- "SELECT id, external_id, external_data, model_encoding, model_data FROM transaction_v2 WHERE  block_id=?1;"
- "SELECT id, label, identifier_data, replication_data FROM store_v2 WHERE id=?1;"
- "SELECT id, label, identifier_data, replication_data FROM store_v2;"
- "SELECT id, options_data FROM block_v2 WHERE store_v2_id=?1 AND type=?2 AND options_data IS NOT NULL ORDER BY id;"
- "SELECT id, type, options_data FROM block_v2 WHERE id=?1;"
- "SELECT id, type, options_data FROM block_v2 WHERE store_v2_id=:_store_id AND id<=:_sequence_offset AND type=3 ORDER BY id DESC LIMIT (%!l(MISSING)u)"
- "SELECT id, type, options_data FROM block_v2 WHERE store_v2_id=:_store_id AND id>:_sequence_offset AND (type=1 OR type=2) AND options_data IS NOT NULL ORDER BY id LIMIT (%!l(MISSING)d)"
- "SELECT name FROM sqlite_master WHERE type = 'table' and name in ('zone_v2', 'zone_subscription_v2', 'db_subscription_v2', 'fetch_v2', 'queue_v2', 'scoreboard_v2', 'xact_v2', 'xact_block_v2')"
- "SELECT record_v2.id, record_v2.external_id, record_v2.external_data, record_v2.model_encoding, record_v2.model_data, record_v2.model_schema, record_v2.type, record_v2.push_encoding, record_v2.push_data, record_v2.push_block_id, record_v2.uuid FROM record_v2 WHERE store_v2_id=:_store_id AND id>:_sequence_offset ORDER BY id LIMIT (%!l(MISSING)u)"
- "SELECT record_v2.id, record_v2.external_id, record_v2.external_data, record_v2.model_encoding, record_v2.model_data, record_v2.model_schema, record_v2.type, record_v2.push_encoding, record_v2.push_data, record_v2.push_block_id, record_v2.uuid FROM record_v2 WHERE store_v2_id=:_store_id AND parent_uuid=:_parent_uuid AND id>:_sequence_offset ORDER BY id LIMIT (%!l(MISSING)u)"
- "SELECT record_v2.id, record_v2.external_id, record_v2.external_data, record_v2.model_encoding, record_v2.model_data, record_v2.model_schema, record_v2.type, record_v2.push_encoding, record_v2.push_data, record_v2.push_block_id, record_v2.uuid FROM record_v2 WHERE store_v2_id=:_store_id AND parent_uuid=:_parent_uuid AND type == :_type AND id>:_sequence_offset ORDER BY id LIMIT (%!l(MISSING)u)"
- "SELECT record_v2.id, record_v2.external_id, record_v2.external_data, record_v2.model_encoding, record_v2.model_data, record_v2.model_schema, record_v2.type, record_v2.push_encoding, record_v2.push_data, record_v2.push_block_id, record_v2.uuid FROM record_v2 WHERE store_v2_id=:_store_id AND type=:_model_type AND id>:_sequence_offset ORDER BY id LIMIT (%!l(MISSING)u)"
- "T@\"HMFUnfairLock\",&,N,V_lock"
- "T^{sqlite3=},N,V_context"
- "T^{sqlite3_stmt=},N,V_statement"
- "UPDATE block_v2 SET options_data=?2 WHERE id=?1;"
- "UPDATE record_v2 SET push_encoding = 0, push_data = NULL, push_block_id = NULL WHERE id=?1 AND push_block_id=?2;"
- "UPDATE record_v2 SET push_encoding = ?2, push_data = ?3, push_block_id = ?4 WHERE id = ?1;"
- "UPDATE record_v2 SET push_encoding = ?3, push_data = ?4, push_block_id = ?5 WHERE store_v2_id = ?1 AND uuid=?2;"
- "UPDATE store_v2 SET replication_data=?2 WHERE id=?1;"
- "_begin"
- "_commit"
- "_rollback"
- "assertOwner"
- "close"
- "db_subscription_v2"
- "deleteBlock"
- "deleteBlocksStore"
- "deleteIndexSentinels"
- "deleteIndexSentinelsStore"
- "deleteItem"
- "deleteItemStoreExternal"
- "deleteItemsBlock"
- "deleteItemsStore"
- "deleteNullBlocks"
- "deleteNullItems"
- "deleteNullItemsType"
- "deleteRecordBlock"
- "deleteRecordExternal"
- "deleteRecordUUID"
- "deleteRecordsStore"
- "deleteStore"
- "deleteZombieRecords"
- "fetch_v2"
- "hmbErrorWithSQLite3Context:"
- "hmbErrorWithSQLite3Context:statement:"
- "hmbResetModelsWithQueries"
- "insertBlock"
- "insertDeletionItemsForRecordWithUUID"
- "insertDeletionItemsForRecordsOfType"
- "insertDeletionItemsForRecordsWithParentUUID"
- "insertIndexSentinel"
- "insertItem"
- "insertRecord"
- "insertStore"
- "lock"
- "performBlock:"
- "queue_v2"
- "scoreboard_v2"
- "selectBlock"
- "selectIndexSentinel"
- "selectItemsBlock"
- "selectItemsBlockLimit"
- "selectReadyBlocks"
- "selectRecord"
- "selectRecordExternal"
- "selectRecordUUID"
- "selectRecordUUIDExternal"
- "selectRecords"
- "selectRecordsOfType"
- "selectRecordsParentUUID"
- "selectRecordsParentUUIDType"
- "selectRecordsPushBlock"
- "selectStore"
- "selectStores"
- "setContext:"
- "setLock:"
- "setStatement:"
- "unlock"
- "updateBlock"
- "updateItem"
- "updateRecordClearPushExpected"
- "updateRecordExternal"
- "updateRecordExternalExternal"
- "updateRecordExternalUUID"
- "updateRecordPush"
- "updateRecordPushUUID"
- "updateRecordType"
- "updateRecordsClearPush"
- "updateStoreReplicationData"
- "v24@0:8^{sqlite3_stmt=}16"
- "xact_block_v2"
- "xact_v2"
- "zone_subscription_v2"
- "zone_v2"
- "\xf0\xf0\xf0\x99"

```
