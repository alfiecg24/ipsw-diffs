## IMDPersistence

> `/System/Library/PrivateFrameworks/IMDPersistence.framework/IMDPersistence`

```diff

-1402.200.111.2.17
-  __TEXT.__text: 0x114830
-  __TEXT.__auth_stubs: 0x26d0
-  __TEXT.__objc_methlist: 0x372c
+1402.300.129.2.15
+  __TEXT.__text: 0x1182e8
+  __TEXT.__auth_stubs: 0x26f0
+  __TEXT.__objc_methlist: 0x37d4
   __TEXT.__const: 0xb4a
-  __TEXT.__cstring: 0x39081
-  __TEXT.__oslogstring: 0x19a75
-  __TEXT.__gcc_except_tab: 0xd2b8
+  __TEXT.__cstring: 0x395a1
+  __TEXT.__oslogstring: 0x19d25
+  __TEXT.__gcc_except_tab: 0xd494
   __TEXT.__ustring: 0x430
   __TEXT.__dlopen_cstrs: 0x2a4
   __TEXT.__swift5_typeref: 0x206

   __TEXT.__swift5_capture: 0xe4
   __TEXT.__swift5_types: 0x18
   __TEXT.__swift5_reflstr: 0x6f
-  __TEXT.__unwind_info: 0x4c80
+  __TEXT.__unwind_info: 0x4dd0
   __TEXT.__eh_frame: 0x130
-  __TEXT.__objc_classname: 0xaac
-  __TEXT.__objc_methname: 0xfe98
-  __TEXT.__objc_methtype: 0x2402
-  __TEXT.__objc_stubs: 0xd380
-  __DATA_CONST.__got: 0xdd0
-  __DATA_CONST.__const: 0x10d48
+  __TEXT.__objc_classname: 0xac7
+  __TEXT.__objc_methname: 0x103f2
+  __TEXT.__objc_methtype: 0x240d
+  __TEXT.__objc_stubs: 0xd9a0
+  __DATA_CONST.__got: 0xea8
+  __DATA_CONST.__const: 0x10db8
   __DATA_CONST.__objc_classlist: 0x270
   __DATA_CONST.__objc_catlist: 0x20
-  __DATA_CONST.__objc_protolist: 0x108
+  __DATA_CONST.__objc_protolist: 0x118
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x3958
-  __DATA_CONST.__objc_protorefs: 0x68
+  __DATA_CONST.__objc_selrefs: 0x3af0
+  __DATA_CONST.__objc_protorefs: 0x70
   __DATA_CONST.__objc_superrefs: 0xf0
   __DATA_CONST.__objc_arraydata: 0x190
-  __AUTH_CONST.__auth_got: 0x1378
+  __AUTH_CONST.__auth_got: 0x1388
   __AUTH_CONST.__auth_ptr: 0x90
-  __AUTH_CONST.__const: 0x1aa8
-  __AUTH_CONST.__cfstring: 0x10be0
-  __AUTH_CONST.__objc_const: 0x6880
+  __AUTH_CONST.__const: 0x1a48
+  __AUTH_CONST.__cfstring: 0x10c80
+  __AUTH_CONST.__objc_const: 0x6950
   __AUTH_CONST.__objc_intobj: 0x138
   __AUTH_CONST.__objc_arrayobj: 0x90
   __AUTH.__objc_data: 0x358
   __AUTH.__data: 0x28
   __DATA.__objc_ivar: 0x170
-  __DATA.__data: 0xac0
-  __DATA.__bss: 0x3f8
+  __DATA.__data: 0xb20
+  __DATA.__bss: 0x470
   __DATA.__common: 0x40
   __DATA_DIRTY.__objc_data: 0x17a0
   __DATA_DIRTY.__data: 0xe98
-  __DATA_DIRTY.__bss: 0x5c8
+  __DATA_DIRTY.__bss: 0x598
   - /System/Library/Frameworks/AppIntents.framework/AppIntents
   - /System/Library/Frameworks/Contacts.framework/Contacts
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 4450
-  Symbols:   2309
-  CStrings:  7315
+  Functions: 4514
+  Symbols:   2338
+  CStrings:  7413
 
Symbols:
+ _CSLinkTypeAlbum
+ _CSLinkTypeArtist
+ _CSLinkTypeMap
+ _CSLinkTypeMovie
+ _CSLinkTypeMusicVideo
+ _CSLinkTypeNews
+ _CSLinkTypePlaylist
+ _CSLinkTypePodcast
+ _CSLinkTypeShow
+ _CSLinkTypeSong
+ _CSLinkTypeWebsite
+ _IMAudioTranscription
+ _IMMessagesDatabaseURL
+ _IMSupportsUserNotifications
+ _IMTranscriptEffectBalloonsMomentIdentifier
+ _IMTranscriptEffectCelebrationMomentIdentifier
+ _IMTranscriptEffectConfettiMomentIdentifier
+ _IMTranscriptEffectEchoMomentIdentifier
+ _IMTranscriptEffectFireworksMomentIdentifier
+ _IMTranscriptEffectGentleImpactIdentifier
+ _IMTranscriptEffectInvisibleInkIdentifier
+ _IMTranscriptEffectLasersMomentIdentifier
+ _IMTranscriptEffectLoudImpactIdentifier
+ _IMTranscriptEffectLoveMomentIdentifier
+ _IMTranscriptEffectShootingStarMomentIdentifier
+ _IMTranscriptEffectSlamImpactIdentifier
+ _IMTranscriptEffectSpotlightMomentIdentifier
+ _NSMultipleUnderlyingErrorsKey
+ _OBJC_CLASS_$_NSUserDefaults
CStrings:
+ "About to close current DB"
+ "Action: Delete database"
+ "Action: Fetch contacts for identifiers"
+ "Class getLPAppleNewsMetadataClass(void)_block_invoke"
+ "Class getLPAppleTVMetadataClass(void)_block_invoke"
+ "Class getLPiTunesMediaAlbumMetadataClass(void)_block_invoke"
+ "Class getLPiTunesMediaArtistMetadataClass(void)_block_invoke"
+ "Class getLPiTunesMediaMovieBundleMetadataClass(void)_block_invoke"
+ "Class getLPiTunesMediaMovieMetadataClass(void)_block_invoke"
+ "Class getLPiTunesMediaMusicVideoMetadataClass(void)_block_invoke"
+ "Class getLPiTunesMediaPlaylistMetadataClass(void)_block_invoke"
+ "Class getLPiTunesMediaPodcastEpisodeMetadataClass(void)_block_invoke"
+ "Class getLPiTunesMediaPodcastMetadataClass(void)_block_invoke"
+ "Class getLPiTunesMediaSongMetadataClass(void)_block_invoke"
+ "Class getLPiTunesMediaTVEpisodeMetadataClass(void)_block_invoke"
+ "Class getLPiTunesMediaTVSeasonMetadataClass(void)_block_invoke"
+ "Could not delete database at path %!@(MISSING)"
+ "Deleting all interactions because the app is being uninstalled."
+ "Deleting all spotlight data because the app is being uninstalled."
+ "Failed to delete all interactions for bundle %!@(MISSING) with error %!@(MISSING)"
+ "Failed to delete all searchable items upon app deletion with error %!@(MISSING). Defaults and client state will not be cleared."
+ "IMDContactQueries"
+ "IMDContactQueries: Fetched %!t(MISSING)u contacts from IMDP."
+ "IMDContactQueries: Fetched %!t(MISSING)u contacts in IMDP"
+ "IMDContactQueries: Performing XPC fetch of contacts in IMDP"
+ "IMDCoreSpotlightDeleteCoreRecentsWithHandles bailing because this is a group chat."
+ "IMDCoreSpotlightDeleteCoreRecentsWithHandles bailing because we were passed no handles."
+ "ISOCountryCode"
+ "LPAppleNewsMetadata"
+ "LPAppleTVMetadata"
+ "LPiTunesMediaAlbumMetadata"
+ "LPiTunesMediaArtistMetadata"
+ "LPiTunesMediaMovieBundleMetadata"
+ "LPiTunesMediaMovieMetadata"
+ "LPiTunesMediaMusicVideoMetadata"
+ "LPiTunesMediaPlaylistMetadata"
+ "LPiTunesMediaPodcastEpisodeMetadata"
+ "LPiTunesMediaPodcastMetadata"
+ "LPiTunesMediaSongMetadata"
+ "LPiTunesMediaTVEpisodeMetadata"
+ "LPiTunesMediaTVSeasonMetadata"
+ "No implementation found for setting URL description on CSSearchableItemAttributeSet"
+ "Received response back from database for deleteDatabase"
+ "Removing recents contacts failed with error %!@(MISSING)"
+ "Tried to access IMDNotificationsController on unsupported platform, returning nil."
+ "_addressComponentStringsFromMapMetadata:"
+ "_indexLinkMetadata:metadataToUpdate:"
+ "_insertLPType:subType:metadata:"
+ "_insertURLDescription:metadataToUpdate:"
+ "_isMediaSpecialization:"
+ "_linkSubTypeForMediaSpecialization:"
+ "_linkTypeForMediaSpecialization:"
+ "_spotlightEffectTypeForItemDictionary:"
+ "addressComponents"
+ "album"
+ "appleSummary"
+ "artist"
+ "batchFetchContactsWithoutCachingForIdentifiers:"
+ "bundle"
+ "category"
+ "contactIdentifiers"
+ "curator"
+ "deleteAllDonationsForAppDeletionWithCompletion:"
+ "deleteAllDonationsForAppDeletion_IPCActionWithXPCConnection:requestMessage:responseMessage:completionHandler:"
+ "deleteAllInteractionsForAppDeletionWithCompletion:"
+ "deleteDatabase"
+ "deleteInteractionsWithBundleId:error:"
+ "detectedEventTypes"
+ "episode"
+ "episodeName"
+ "fetchContactsForIdentifiers:completionHandler:"
+ "genre"
+ "handleIMDDeleteDatabase_IPCActionWithXPCConnection:requestMessage:responseMessage:completionHandler:"
+ "handleIMDFetchContactsForIdentifiers_IPCActionWithXPCConnection:requestMessage:responseMessage:completionHandler:"
+ "i24@0:8@16"
+ "identifiersToContacts"
+ "isMessagesAppDeletionEnabled"
+ "mediaTypes"
+ "ownerIdentifier"
+ "podcastName"
+ "releaseDate"
+ "removePersistentDomainForName:"
+ "season"
+ "setAddressCategories:"
+ "setAddresses:"
+ "setAlbum:"
+ "setArtist:"
+ "setContentDescription:"
+ "setCurator:"
+ "setDetectedEventTypes:"
+ "setEpisode:"
+ "setGenre:"
+ "setLinkName:"
+ "setLinkSubType:"
+ "setLinkType:"
+ "setMediaTypes:"
+ "setMessageEffectType:"
+ "setPodcastName:"
+ "setRecordingDate:"
+ "setURLDescription:"
+ "setUrlDescription:"
+ "siteName"
+ "standardUserDefaults"
+ "subAdministrativeArea"
+ "subLocality"
+ "urlDescription"
- "IMDCoreRecentDeleteChat bailing because we were passed no handles"
- "IMDCoreSpotlightMessageBalloonPluginIndexer - Failed to get Title from LP for url."
- "Recents remove failed with error %!@(MISSING)"
- "com_apple_mobilesms_fromMe"
- "com_apple_mobilesms_indexType"
- "com_apple_mobilesms_isGroupChat"
- "indexTypeCustomKey"
- "isFromMeCustomKey"
- "isGroupChatCustomKey"
- "lpTitleCustomKey"

```
