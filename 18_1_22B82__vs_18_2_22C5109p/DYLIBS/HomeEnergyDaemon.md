## HomeEnergyDaemon

> `/System/Library/PrivateFrameworks/HomeEnergyDaemon.framework/HomeEnergyDaemon`

```diff

-229.2.5.0.0
-  __TEXT.__text: 0x1b3710
-  __TEXT.__auth_stubs: 0x3320
-  __TEXT.__objc_methlist: 0x420
-  __TEXT.__const: 0x4a98
-  __TEXT.__cstring: 0x73b0
-  __TEXT.__constg_swiftt: 0x22e8
-  __TEXT.__swift5_typeref: 0x199b
+247.0.0.0.0
+  __TEXT.__text: 0x1d13f0
+  __TEXT.__auth_stubs: 0x34d0
+  __TEXT.__objc_methlist: 0x360
+  __TEXT.__const: 0x4938
+  __TEXT.__cstring: 0x7950
+  __TEXT.__constg_swiftt: 0x22c8
+  __TEXT.__swift5_typeref: 0x1995
+  __TEXT.__swift5_reflstr: 0x1964
+  __TEXT.__swift5_fieldmd: 0x19d0
+  __TEXT.__oslogstring: 0x88a5
   __TEXT.__swift5_builtin: 0x78
-  __TEXT.__swift5_reflstr: 0x17df
-  __TEXT.__swift5_fieldmd: 0x1980
   __TEXT.__swift5_assocty: 0x390
-  __TEXT.__swift5_proto: 0x334
-  __TEXT.__swift5_types: 0x1c8
-  __TEXT.__oslogstring: 0x80b5
-  __TEXT.__swift5_capture: 0x1f80
+  __TEXT.__swift5_proto: 0x338
+  __TEXT.__swift5_types: 0x1b8
+  __TEXT.__swift5_capture: 0x29a4
   __TEXT.__swift5_protos: 0x18
-  __TEXT.__unwind_info: 0x50b8
-  __TEXT.__eh_frame: 0x10d90
+  __TEXT.__unwind_info: 0x5440
+  __TEXT.__eh_frame: 0x119f8
   __TEXT.__objc_classname: 0xbc
-  __TEXT.__objc_methname: 0x3241
+  __TEXT.__objc_methname: 0x3111
   __TEXT.__objc_methtype: 0x687
   __TEXT.__objc_stubs: 0xc0
-  __DATA_CONST.__got: 0x940
-  __DATA_CONST.__const: 0x600
-  __DATA_CONST.__objc_classlist: 0x1b8
+  __DATA_CONST.__got: 0x920
+  __DATA_CONST.__const: 0x228
+  __DATA_CONST.__objc_classlist: 0x198
   __DATA_CONST.__objc_catlist: 0x8
   __DATA_CONST.__objc_protolist: 0x98
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0xc58
+  __DATA_CONST.__objc_selrefs: 0xbc8
   __DATA_CONST.__objc_protorefs: 0x50
-  __AUTH_CONST.__auth_got: 0x1998
-  __AUTH_CONST.__auth_ptr: 0x838
-  __AUTH_CONST.__const: 0x66a8
-  __AUTH_CONST.__objc_const: 0x5450
-  __AUTH.__objc_data: 0xa08
-  __AUTH.__data: 0x1210
-  __DATA.__data: 0x2040
-  __DATA.__bss: 0x6100
-  __DATA.__common: 0x290
-  __DATA_DIRTY.__objc_data: 0x5e8
-  __DATA_DIRTY.__data: 0x2868
+  __AUTH_CONST.__auth_got: 0x1a70
+  __AUTH_CONST.__auth_ptr: 0x808
+  __AUTH_CONST.__const: 0x80b0
+  __AUTH_CONST.__objc_const: 0x5098
+  __AUTH.__objc_data: 0x790
+  __AUTH.__data: 0x15e0
+  __DATA.__data: 0x20e8
+  __DATA.__common: 0x2a8
+  __DATA.__bss: 0x6180
+  __DATA_DIRTY.__objc_data: 0x298
+  __DATA_DIRTY.__data: 0x26d8
   __DATA_DIRTY.__bss: 0x300
-  __DATA_DIRTY.__common: 0x150
+  __DATA_DIRTY.__common: 0x148
   - /System/Library/Frameworks/CloudKit.framework/CloudKit
   - /System/Library/Frameworks/Contacts.framework/Contacts
   - /System/Library/Frameworks/CoreData.framework/CoreData

   - /System/Library/Frameworks/HomeKit.framework/HomeKit
   - /System/Library/Frameworks/Network.framework/Network
   - /System/Library/Frameworks/UserNotifications.framework/UserNotifications
-  - /System/Library/PrivateFrameworks/ApplePushService.framework/ApplePushService
   - /System/Library/PrivateFrameworks/BackgroundSystemTasks.framework/BackgroundSystemTasks
   - /System/Library/PrivateFrameworks/ChronoServices.framework/ChronoServices
   - /System/Library/PrivateFrameworks/CoreAnalytics.framework/CoreAnalytics

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 4665
-  Symbols:   564
-  CStrings:  1771
+  Functions: 4712
+  Symbols:   502
+  CStrings:  1795
 
Symbols:
+ _memcmp
+ _swift_initStaticObject
- _APSEnvironmentProduction
- _OBJC_CLASS_$_APSConnection
- _OBJC_CLASS_$_EnergySiteRecords
- _OBJC_CLASS_$_EnergyWindowNotifications
- _OBJC_CLASS_$_EnergyWindowsCache
- _OBJC_CLASS_$_EnergyWindowsTracker
- _OBJC_CLASS_$_IntervalBlocks
- _OBJC_CLASS_$_TOUPeaks
- _OBJC_CLASS_$_UsagePointRecords
- _OBJC_CLASS_$_UsageSummaryRecords
- _OBJC_METACLASS_$_EnergySiteRecords
- _OBJC_METACLASS_$_EnergyWindowNotifications
- _OBJC_METACLASS_$_EnergyWindowsCache
- _OBJC_METACLASS_$_EnergyWindowsTracker
- _OBJC_METACLASS_$_IntervalBlocks
- _OBJC_METACLASS_$_NSManagedObject
- _OBJC_METACLASS_$_TOUPeaks
- _OBJC_METACLASS_$_UsagePointRecords
- _OBJC_METACLASS_$_UsageSummaryRecords
- _dispatch_group_create
- _dispatch_group_enter
- _dispatch_group_leave
- _objc_release_x12
- _objc_release_x13
CStrings:
+ "\n  preferredLocale: "
+ "\n  preferredLocalizations: "
+ "\"\n    },\n    ]\n}"
+ "\"\n},\n{\n    \"rating\" : \"BEST\",\n    \"start\": \""
+ "\"\n},\n{\n    \"rating\" : \"WORST\",\n    \"start\": \""
+ ",\n  debugLocalization: "
+ ",\n  localizations: "
+ "Access token expires in: %!l(MISSING)d"
+ "Body for Connect Utility User Notification"
+ "Connect Your Energy Account"
+ "Failed to rotate token. %!@(MISSING)"
+ "LocalizationInfo("
+ "New access token: %!s(MISSING)"
+ "New refresh token: %!s(MISSING)"
+ "See how much electricity you use daily and compare usage over time for "
+ "Title for Connect Utility User Notification"
+ "UtilityUINotification"
+ "[AMIProcessor] Task is cancelled at marker %!s(MISSING):%!l(MISSING)d"
+ "[DropboxShareManager] Data sync state not good"
+ "[DropboxShareManager] Load Homes"
+ "[Dropbox] Access token endpoint errored out %!@(MISSING)"
+ "[Dropbox] Access token save errored out %!@(MISSING)"
+ "[Dropbox] Auth token endpoint errored out %!@(MISSING)"
+ "[Dropbox] Auth token save errored out %!@(MISSING)"
+ "[Dropbox] Error: Response indicates more to come, however offset is same as previous"
+ "[Dropbox] Task is cancelled at marker %!s(MISSING):%!l(MISSING)d"
+ "[HomeManager] Manager state is in error. %!l(MISSING)u"
+ "[HomeManager] Manager state is stateGood"
+ "[HomeManager] State updated to stateGood"
+ "[HomeManager] Task is cancelled at marker %!s(MISSING):%!l(MISSING)d"
+ "[HomeManager] Task running for too long"
+ "[IntervalReadingRecords] Task is cancelled at marker %!s(MISSING):%!l(MISSING)d"
+ "[ShareManager] Data sync state not good"
+ "[ShareManager] Failed to get homes"
+ "[UtilityDiscoveryNotification] Already notified for %!s(MISSING)"
+ "[UtilityDiscoveryNotification] Already onboarded for %!s(MISSING)"
+ "[UtilityDiscoveryNotification] Data sync state not good"
+ "[UtilityDiscoveryNotification] Did not notify for %!s(MISSING)"
+ "[UtilityDiscoveryNotification] Discovery in progress already"
+ "[UtilityDiscoveryNotification] Executing task %!s(MISSING)"
+ "[UtilityDiscoveryNotification] Failed to load homes"
+ "[UtilityDiscoveryNotification] Invalid location for %!s(MISSING)"
+ "[UtilityDiscoveryNotification] Load Homes"
+ "[UtilityDiscoveryNotification] No utility detected for %!s(MISSING)"
+ "[UtilityDiscoveryNotification] Not notified for %!s(MISSING)"
+ "[UtilityDiscoveryNotification] Not onboarded for %!s(MISSING)"
+ "[UtilityDiscoveryNotification] Taking extended lifetime"
+ "[UtilityDiscoveryNotification] Task Cancelled"
+ "[UtilityDiscoveryNotification] Utility detected for %!s(MISSING).%!s(MISSING)"
+ "[UtilityDiscoveryNotification] Valid location for %!s(MISSING)"
+ "[UtilityDiscoveryNotification] [%!s(MISSING)]Notified utility discovery for %!s(MISSING)"
+ "_TtC16HomeEnergyDaemon15InducerDefaults"
+ "_TtC16HomeEnergyDaemon20UtilityDiscoveryTask"
+ "_TtC16HomeEnergyDaemon28UtilityDiscoveryNotification"
+ "_TtC16HomeEnergyDaemon29BackgroundTaskSchedulerDriver"
+ "_TtC16HomeEnergyDaemonP33_ED5DA0D546A6D33B621438B4D462919417HomeManagerHelper"
+ "_discoveryInProgress"
+ "bgscheduler"
+ "checkIfAllBlocksSeen(utilityID:subscriptionID:usagePointID:start:end:timezone:tariffProfileID:context:allBlocksSeen:importedSum:exportedSum:)"
+ "com.apple.Home-private://home/"
+ "com.apple.energykit.utility.discovery"
+ "com.apple.energykit.utilitydiscovery"
+ "dataSyncState"
+ "ekUtilityAccessTokenRefreshFailed"
+ "ekUtilityAccessTokenRefreshInitiated"
+ "ekUtilityAccessTokenRefreshed"
+ "ekUtilityAuthorizationTokenRefreshed"
+ "ekUtilityTokenRefreshFailed"
+ "fetchAMIData(site:isInitialFetch:)"
+ "fetchIntervalBlockFromDropbox(token:date:offset:limit:siteID:subscriptionID:utilityID:timezone:share:)"
+ "fetchUsagePointsFromDropbox(token:date:offset:limit:siteID:subscriptionID:utilityID:share:)"
+ "fetchUsageSummaryFromDropbox(token:date:offset:limit:siteID:subscriptionID:utilityID:share:)"
+ "forceIndependentTokenRotateWithToken:utility:completionHandler:"
+ "forceTaskCancellation"
+ "helper"
+ "localizations"
+ "preferredLocalizationsFromArray:forPreferences:"
+ "preprocessData(utilityID:subscriptionID:usagePointID:start:end:timezone:tariffProfileID:context:)"
+ "preprocessIntervalBlocks(subscriptionID:utilityID:context:timezone:)"
+ "processUsageSummaries(siteID:)"
+ "subscriptionID = %!@(MISSING) AND utilityID = %!@(MISSING) AND usagePointID = %!@(MISSING) AND start >= %!@(MISSING) AND end <= %!@(MISSING) AND preprocessed = %!@(MISSING)"
+ "tokenRefreshFailure"
+ "tokenRefreshType"
+ "v40@0:8@\"NSString\"16@\"NSString\"24@?<v@?B@\"NSError\">32"
+ "{\n\"windows\" : [\n{\n    \"rating\" : \"WORST\",\n    \"start\": \""
- "T@\"NSData\",N,D,C"
- "T@\"NSDate\",N,D,C"
- "T@\"NSString\",N,D,C"
- "TB,N,D"
- "Td,N,D"
- "Tq,N,D"
- "UsagePointRecords"
- "UsageSummaryRecords"
- "[BackgroundTask] com.apple.homeenergyd.sync.activity is already scheduled"
- "_TtC16HomeEnergyDaemon21HomeEnergyPushManager"
- "_setEnabledTopics:"
- "apsConnection"
- "checkAndAddToShare(homeUUID:siteID:)"
- "com.apple.HomeEnergyDaemon.aps-queue"
- "com.apple.icloud-container.com.apple.homeenergyd"
- "energyWindowsForGridID:fromDate:endDate:withCaching:completionHandler:"
- "homesLoadedHandlers"
- "initWithEntity:insertIntoManagedObjectContext:"
- "initWithEnvironmentName:namedDelegatePort:queue:"
- "recurring"
- "refreshAMIData(withEagerExit:)"
- "setCommodity:"
- "setDispatched:"
- "setEnergyWindows:"
- "setFlowDirection:"
- "setGridID:"
- "setHomeID:"
- "setInsertTime:"
- "setLastAccessed:"
- "setLastWindowWasClean:"
- "setRecurring:"
- "setTotalConsumptionUnit:"
- "setUnit:"
- "setUrl:"
- "v52@0:8@\"NSString\"16@\"NSDate\"24@\"NSDate\"32B40@?<v@?@\"NSData\">44"
- "v52@0:8@16@24@32B40@?44"
- "workQueue"

```
