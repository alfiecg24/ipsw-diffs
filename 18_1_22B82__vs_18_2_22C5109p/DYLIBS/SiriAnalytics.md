## SiriAnalytics

> `/System/Library/PrivateFrameworks/SiriAnalytics.framework/SiriAnalytics`

```diff

-3401.16.3.0.0
-  __TEXT.__text: 0xca7b4
-  __TEXT.__auth_stubs: 0x2320
-  __TEXT.__objc_methlist: 0x1dac
-  __TEXT.__cstring: 0x9eff
-  __TEXT.__const: 0x4af8
-  __TEXT.__constg_swiftt: 0x2d4c
-  __TEXT.__swift5_typeref: 0x2631
+3402.42.1.1.1
+  __TEXT.__text: 0xd28b4
+  __TEXT.__auth_stubs: 0x23c0
+  __TEXT.__objc_methlist: 0x1dc4
+  __TEXT.__cstring: 0xa50c
+  __TEXT.__const: 0x4f68
+  __TEXT.__constg_swiftt: 0x2ff0
+  __TEXT.__swift5_typeref: 0x2797
   __TEXT.__swift5_builtin: 0x17c
-  __TEXT.__swift5_reflstr: 0x1b1e
-  __TEXT.__swift5_fieldmd: 0x22f0
-  __TEXT.__swift5_assocty: 0x498
-  __TEXT.__swift5_proto: 0x3ec
-  __TEXT.__swift5_types: 0x32c
-  __TEXT.__swift5_protos: 0x5c
+  __TEXT.__swift5_reflstr: 0x1bde
+  __TEXT.__swift5_fieldmd: 0x246c
+  __TEXT.__swift5_assocty: 0x4f8
+  __TEXT.__swift5_proto: 0x42c
+  __TEXT.__swift5_types: 0x348
+  __TEXT.__swift5_protos: 0x60
   __TEXT.__swift5_mpenum: 0x70
-  __TEXT.__swift5_capture: 0x788
+  __TEXT.__swift5_capture: 0x748
   __TEXT.__oslogstring: 0x10d6
   __TEXT.__gcc_except_tab: 0x3cc
-  __TEXT.__unwind_info: 0x3888
-  __TEXT.__eh_frame: 0x4c44
+  __TEXT.__unwind_info: 0x3b78
+  __TEXT.__eh_frame: 0x536c
   __TEXT.__objc_classname: 0x5ed
-  __TEXT.__objc_methname: 0x4fee
-  __TEXT.__objc_methtype: 0x124f
-  __TEXT.__objc_stubs: 0x34e0
-  __DATA_CONST.__got: 0x728
-  __DATA_CONST.__const: 0x1068
-  __DATA_CONST.__objc_classlist: 0x2d0
+  __TEXT.__objc_methname: 0x51c4
+  __TEXT.__objc_methtype: 0x12b0
+  __TEXT.__objc_stubs: 0x3520
+  __DATA_CONST.__got: 0x760
+  __DATA_CONST.__const: 0x1130
+  __DATA_CONST.__objc_classlist: 0x2e8
   __DATA_CONST.__objc_catlist: 0x20
   __DATA_CONST.__objc_protolist: 0xf0
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x13e8
+  __DATA_CONST.__objc_selrefs: 0x1440
   __DATA_CONST.__objc_protorefs: 0x70
   __DATA_CONST.__objc_superrefs: 0xf0
-  __AUTH_CONST.__auth_got: 0x11a0
-  __AUTH_CONST.__auth_ptr: 0xa00
-  __AUTH_CONST.__const: 0x4fe8
-  __AUTH_CONST.__cfstring: 0x1a40
-  __AUTH_CONST.__objc_const: 0x6618
-  __AUTH.__objc_data: 0x360
-  __AUTH.__data: 0x380
-  __DATA.__objc_ivar: 0x22c
-  __DATA.__data: 0x1c50
-  __DATA.__common: 0xe8
-  __DATA.__bss: 0x4f90
-  __DATA_DIRTY.__objc_data: 0x2458
-  __DATA_DIRTY.__data: 0x31c0
+  __AUTH_CONST.__auth_got: 0x11f0
+  __AUTH_CONST.__auth_ptr: 0xbd0
+  __AUTH_CONST.__const: 0x50f0
+  __AUTH_CONST.__cfstring: 0x1ba0
+  __AUTH_CONST.__objc_const: 0x6928
+  __AUTH.__objc_data: 0x400
+  __AUTH.__data: 0x940
+  __DATA.__objc_ivar: 0x230
+  __DATA.__data: 0x1e40
+  __DATA.__common: 0x108
+  __DATA.__bss: 0x5710
+  __DATA_DIRTY.__objc_data: 0x2420
+  __DATA_DIRTY.__data: 0x2f80
   __DATA_DIRTY.__common: 0x210
   __DATA_DIRTY.__bss: 0x2b8
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation

   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 5289
-  Symbols:   2318
-  CStrings:  2203
+  Functions: 5502
+  Symbols:   2398
+  CStrings:  2257
 
Symbols:
+ _OBJC_CLASS_$_DUSchemaSpeechAudioRecord
+ _OBJC_CLASS_$_PFAIngestionExtensionStreamStatistics
- _objc_retain_x10
CStrings:
+ " staged messages."
+ "-[AssistantSiriAnalyticsService handler:unorderedMessagesReceived:topic:]_block_invoke_2"
+ "-[SiriAnalyticsLargeMessageStorage enqueueLargeMessageObjectFromPath:messageWrapper:requestIdentifier:completion:]_block_invoke"
+ "-[SiriAnalyticsLargeMessageStorage enqueueLargeMessageObjectFromPath:messageWrapper:requestIdentifier:completion:]_block_invoke_3"
+ "-[SiriAnalyticsXPCConnection _publishUnorderedMessages:topic:attempts:completion:]_block_invoke_2"
+ "-[SiriAnalyticsXPCConnection _publishUnorderedMessages:topic:attempts:completion:]_block_invoke_3"
+ "-[SiriAnalyticsXPCConnectionHandler publishUnorderedMessages:topic:completion:]_block_invoke_2"
+ "/Library/Caches/com.apple.xbs/Sources/SiriAnalytics/SiriAnalytics/Preprocessing/MessageProcessingStrategy.swift"
+ "/Library/Caches/com.apple.xbs/Sources/SiriAnalytics/SiriAnalytics/Storage/Staging/Db/MessageStagingDb+Sequence.swift"
+ "/Library/Caches/com.apple.xbs/Sources/SiriAnalytics/SiriAnalytics/Storage/Staging/Db/MessageStagingDb.swift"
+ "/Library/Caches/com.apple.xbs/Sources/SiriAnalytics/SiriAnalytics/Storage/Staging/Pool/StagingPool.swift"
+ "/Library/Caches/com.apple.xbs/Sources/SiriAnalytics/SiriAnalytics/Storage/Staging/SiriAnalyticsMessageStaging.swift"
+ "/Library/Caches/com.apple.xbs/Sources/SiriAnalytics/SiriAnalytics/Storage/Staging/Stream/MessageStagingStream+Compat.swift"
+ "/Library/Caches/com.apple.xbs/Sources/SiriAnalytics/SiriAnalytics/Storage/Staging/Stream/MessageStagingStream+Policies.swift"
+ "/Library/Caches/com.apple.xbs/Sources/SiriAnalytics/SiriAnalytics/Storage/Staging/Stream/MessageStagingStream.swift"
+ "Applied retention policy to "
+ "Bootstrapped successfully"
+ "COMPONENTNAME_GAT"
+ "COMPONENTNAME_IF_EXECUTOR"
+ "COMPONENTNAME_IF_PLAN_GENERATION"
+ "COMPONENTNAME_IF_PLAN_RESOLUTION"
+ "COMPONENTNAME_RG"
+ "COMPONENTNAME_SEARCH_TOOL"
+ "EXECUTOR_CLIENT_EVENT"
+ "Error applying purge policy: "
+ "Error applying retention policy: "
+ "Error checkpointing StagingPool: "
+ "Error checkpointing: "
+ "Failed to bootstrap: "
+ "GAT_CLIENT_EVENT"
+ "Message staging classic enabled."
+ "Message staging stream enabled."
+ "ODSAMPLE_CLIENT_EVENT"
+ "SEARCH_TOOL_CLIENT_EVENT"
+ "Suppressing large upload for fuzzed requestID: "
+ "T@\"NSUUID\",R,C,N,V_requestIdentifier"
+ "Unable to map to StagedMessage"
+ "Unable to stage message: "
+ "Unable to unstage message"
+ "Vv40@0:8@\"NSArray\"16@\"NSString\"24@?<v@?>32"
+ "Vv40@0:8@16@24@?32"
+ "_TtC13SiriAnalytics16MessageStagingDb"
+ "_TtC13SiriAnalytics18OLEStreamTelemetry"
+ "_TtC13SiriAnalytics20MessageStagingStream"
+ "_TtCC13SiriAnalytics16MessageStagingDb22StagedMessagesIterator"
+ "_TtCC13SiriAnalytics20MessageStagingStream28MessageStagingStreamIterator"
+ "_append(stageable:)"
+ "_bootstrapStorageOnQueueWithCompletion:"
+ "_publishUnorderedMessages:topic:attempts:completion:"
+ "_requestIdentifier"
+ "applyStorageRetentionPolicy()"
+ "bootstrapAndPruneWithCompletionHandler:"
+ "bootstrapContinuations"
+ "enqueueLargeMessageObjectFromPath:assetIdentifier:requestIdentifier:messageMetadata:completion:"
+ "enqueueLargeMessageObjectFromPath:dataUploadEvent:requestIdentifier:completion:"
+ "enqueueLargeMessageObjectFromPath:messageWrapper:requestIdentifier:completion:"
+ "handler:largeMessageReceivedWithPath:requestIdentifier:messageWrapper:completion:"
+ "handler:unorderedMessagesReceived:topic:"
+ "init(internalTelemetry:)"
+ "initWithBytesAsData:"
+ "initWithLargeMessagePath:requestIdentifier:serializedDataUploadMessage:"
+ "latitude"
+ "location"
+ "longitude"
+ "messageStagingEvolution"
+ "process(messages:)"
+ "process(uploadEvent:requestIdentifier:)"
+ "processWithUploadEvent:requestIdentifier:"
+ "publishUnorderedMessages:topic:completion:"
+ "requestIdentifier"
+ "service"
+ "setIngestionExtensionStreamStatistics:"
+ "setInteractionId:"
+ "setLatitude:"
+ "setLongitude:"
+ "setPostProcessingCount:"
+ "setPreProcessingCount:"
+ "setStreamId:"
+ "stagingAvailable()"
+ "stagingStream"
+ "stagingStreamActor"
+ "stream"
+ "streamCounter"
+ "streamURL"
+ "v48@0:8@\"NSString\"16@\"DUSchemaDUEvent\"24@\"NSUUID\"32@?<v@?B@\"NSError\">40"
+ "v56@0:8@16@24@32@40@?48"
- " due to redactTier1ForOptOutUsers feature off"
- "-[AssistantSiriAnalyticsService handler:unorderedMessagesReceived:]_block_invoke_2"
- "-[SiriAnalyticsLargeMessageStorage enqueueLargeMessageObjectFromPath:messageWrapper:completion:]_block_invoke"
- "-[SiriAnalyticsLargeMessageStorage enqueueLargeMessageObjectFromPath:messageWrapper:completion:]_block_invoke_3"
- "-[SiriAnalyticsXPCConnection _publishUnorderedMessages:attempts:completion:]_block_invoke_2"
- "-[SiriAnalyticsXPCConnection _publishUnorderedMessages:attempts:completion:]_block_invoke_3"
- "-[SiriAnalyticsXPCConnectionHandler publishUnorderedMessages:completion:]_block_invoke_2"
- "/Library/Caches/com.apple.xbs/Sources/SiriAnalytics/SiriAnalytics/Storage/Staging/MessageStaging+Sequence.swift"
- "/Library/Caches/com.apple.xbs/Sources/SiriAnalytics/SiriAnalytics/Storage/Staging/MessageStaging.swift"
- "/Library/Caches/com.apple.xbs/Sources/SiriAnalytics/SiriAnalytics/Storage/Staging/StagingPool.swift"
- "Applying redactTier1ForOptOutUsers policy to clockId: "
- "Unable to cleanup stream config at "
- "Unable to read staging pool entry"
- "_TtC13SiriAnalytics14MessageStaging"
- "_TtCC13SiriAnalytics14MessageStaging22StagedMessagesIterator"
- "_bootstrapStorageOnQueue"
- "_publishUnorderedMessages:attempts:completion:"
- "bootstrapAndPrune"
- "deleteLocation"
- "enqueueLargeMessageObjectFromPath:dataUploadEvent:completion:"
- "enqueueLargeMessageObjectFromPath:messageWrapper:completion:"
- "handler:largeMessageReceivedWithPath:messageWrapper:completion:"
- "handler:unorderedMessagesReceived:"
- "initWithLargeMessagePath:serializedDataUploadMessage:"
- "process(uploadEvent:)"
- "processWithUploadEvent:"
- "publishUnorderedMessages:completion:"
- "redactTier1ForOptOutUsers"
- "searchRequestRedactionExceptions"
- "searchRequestRedactionExceptions feature is not enabled, short-circuiting policy resolution."
- "stream(containerURL:)"
- "timestampInNanoseconds"
- "v40@0:8@\"NSString\"16@\"DUSchemaDUEvent\"24@?<v@?B@\"NSError\">32"

```
