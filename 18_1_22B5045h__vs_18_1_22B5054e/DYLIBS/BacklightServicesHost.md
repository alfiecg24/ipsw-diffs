## BacklightServicesHost

> `/System/Library/PrivateFrameworks/BacklightServicesHost.framework/BacklightServicesHost`

```diff

-4.1.9.0.0
-  __TEXT.__text: 0x81754
+4.1.13.0.0
+  __TEXT.__text: 0x82fd4
   __TEXT.__auth_stubs: 0xa80
-  __TEXT.__objc_methlist: 0x5e30
+  __TEXT.__objc_methlist: 0x5e40
   __TEXT.__const: 0x398
-  __TEXT.__oslogstring: 0xeb17
-  __TEXT.__cstring: 0x6186
-  __TEXT.__gcc_except_tab: 0xd30
-  __TEXT.__ustring: 0x2ae
-  __TEXT.__unwind_info: 0x1fb8
-  __TEXT.__objc_classname: 0x1f2f
-  __TEXT.__objc_methname: 0x10bd3
-  __TEXT.__objc_methtype: 0x412d
-  __TEXT.__objc_stubs: 0x9880
+  __TEXT.__gcc_except_tab: 0xe2c
+  __TEXT.__cstring: 0x61b7
+  __TEXT.__oslogstring: 0xebe3
+  __TEXT.__ustring: 0x2fe
+  __TEXT.__unwind_info: 0x2090
+  __TEXT.__objc_classname: 0x1f0a
+  __TEXT.__objc_methname: 0x10cd6
+  __TEXT.__objc_methtype: 0x419f
+  __TEXT.__objc_stubs: 0x9900
   __DATA_CONST.__got: 0x730
-  __DATA_CONST.__const: 0x2340
+  __DATA_CONST.__const: 0x2390
   __DATA_CONST.__objc_classlist: 0x520
   __DATA_CONST.__objc_catlist: 0x30
-  __DATA_CONST.__objc_protolist: 0x2a0
+  __DATA_CONST.__objc_protolist: 0x298
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x2da8
+  __DATA_CONST.__objc_selrefs: 0x2dd0
   __DATA_CONST.__objc_superrefs: 0x430
   __DATA_CONST.__objc_arraydata: 0x78
   __AUTH_CONST.__auth_got: 0x550
   __AUTH_CONST.__const: 0xb00
   __AUTH_CONST.__cfstring: 0x5e20
-  __AUTH_CONST.__objc_const: 0x155f0
+  __AUTH_CONST.__objc_const: 0x15698
   __AUTH_CONST.__objc_intobj: 0xc0
   __AUTH_CONST.__objc_dictobj: 0x28
   __AUTH_CONST.__objc_arrayobj: 0x18
   __AUTH_CONST.__objc_floatobj: 0x10
   __AUTH.__objc_data: 0x50
-  __DATA.__objc_ivar: 0xd54
-  __DATA.__data: 0x1f80
+  __DATA.__objc_ivar: 0xd64
+  __DATA.__data: 0x1f20
   __DATA.__bss: 0x88
   __DATA_DIRTY.__objc_data: 0x32f0
   __DATA_DIRTY.__bss: 0xf8

   - /usr/lib/libSystem.B.dylib
   - /usr/lib/libobjc.A.dylib
   - /usr/lib/libtailspin.dylib
-  Functions: 3032
-  Symbols:   3706
-  CStrings:  4793
+  Functions: 3061
+  Symbols:   3735
+  CStrings:  4809
 
CStrings:
+ "%!p(MISSING) waited for system awake :\"%!{(MISSING)public}@\" details:%!{(MISSING)public}@ elapsed:%!l(MISSING)fs %!{(MISSING)public}@ activityActive:%!{(MISSING)BOOL}u"
+ "flipbook hang detector workloop"
+ "%!p(MISSING) setCachesFramesOnExit:%!{(MISSING)BOOL}u"
+ "_abortTimestamp"
+ "@\"SWSystemSleepMonitorAggregateState\""
+ "acquireWaitsToAbortSleepImminent"
+ "TSM:%!p(MISSING) flipbookIsStale=YES env:%!{(MISSING)public}@ invalidateContentForReason:%!{(MISSING)public}@"
+ "TB,V_hangDetected"
+ "BSM:%!p(MISSING) (will not sleep - %!@(MISSING)) unexpected system sleep - will not send request %!{(MISSING)public}@"
+ "v40@0:8@\"BLSHAlwaysOnPresentationEngine\"16@\"<BLSHBacklightSceneHostEnvironment>\"24@\"NSString\"32"
+ "initWithDelegate:abortContext:isPotentialHang:sleepMonitorAggregateState:sleepImminentSinceScheduled:explanation:"
+ "%!p(MISSING):%!{(MISSING)public}@ will render frame:%!{(MISSING)public}@"
+ "initWithCurrentState:targetState:activeEvents:abortedEvents:pendingEnvironmentUpdate:pendingUpdatePresentation:pendingUpdateToSpecifier:pendingUpdateDisplayMode:ensureFlipbookCurrentOperation:queuedEventsToPerform:pendingPrewarmedEvent:environmentStateMachine:sleepMonitorAggregateState:"
+ "%!p(MISSING):%!{(MISSING)public}@ sleepRequested state:%!{(MISSING)public}@ %!{(MISSING)public}@ "
+ "descriptionForTimestamp:"
+ "\"\x11"
+ "@120@0:8@16@24@32@40@48@56@64@72@80@88@96@104@112"
+ "BSM:%!p(MISSING) (no sleep action completion) unexpected system sleep - will not send request:%!{(MISSING)public}@ %!{(MISSING)public}@"
+ "_hangDetectorTimer"
+ "setAcquireWaitsToAbortSleepImminent:"
+ "%!p(MISSING):%!{(MISSING)public}@ systemWillWakeForReason%!{(MISSING)public}@ state:%!{(MISSING)public}@ %!{(MISSING)public}@"
+ "TQ,N,V_abortTimestamp"
+ "%!p(MISSING) set1HzFlipbook:%!{(MISSING)BOOL}u"
+ "%!p(MISSING):%!{(MISSING)public}@ actionCompleted state:%!{(MISSING)public}@ proceedWithSleepBlock=%!p(MISSING) %!{(MISSING)public}@"
+ "systemActivityActive"
+ "BLSHFlipbook.m"
+ "isAwakeOrAbortingSleep"
+ "sleepState"
+ "%!p(MISSING):%!{(MISSING)public}@ prepareForSleep state:%!{(MISSING)public}@ %!{(MISSING)public}@"
+ "%!p(MISSING) system waker activity acquired:\"%!{(MISSING)public}@\" elapsed:%!l(MISSING)fs %!{(MISSING)public}@ error:%!{(MISSING)public}@"
+ "_hangDetectorQueue"
+ "@56@0:8@16@24B32@36B44@48"
+ "flipbook hang detector queue"
+ "numberWithInt:"
+ "_hangDetectorWorkloop"
+ "hangDetectorFired"
+ "sleepMonitorAggregateState"
+ "(flipbook hang detected) OSLogFlushBuffers() %!{(MISSING)public}@"
+ "setHangDetected:"
+ "abortTimestamp"
+ "BSM:%!p(MISSING) unexpected system sleep - will deactivate backlight with request:%!{(MISSING)public}@ %!{(MISSING)public}@"
+ "_acquireWaitsToAbortSleepImminent"
+ "\r"
+ "setSleepMonitorAggregateState:"
+ "flipbook-hang-detector"
+ "@72@0:8q16q24q32q40q48B56@60B68"
+ "watchdog pre-%!{(MISSING)public}@: %!{(MISSING)public}@ slImmSinceSched:%!{(MISSING)BOOL}u%!{(MISSING)public}@"
+ "BSM:%!p(MISSING) (no longer active) unexpected system sleep - isActive:%!{(MISSING)BOOL}u activeOnAPAssertion:%!{(MISSING)BOOL}u – will not send request:%!{(MISSING)public}@ %!{(MISSING)public}@"
+ "flipbook hang detected –\u00a0%!l(MISSING)fs elapsed - will flush buffers"
+ "_hangDetectorStartTimestamp"
+ "T@\"SWSystemSleepMonitorAggregateState\",&,N,V_sleepMonitorAggregateState"
+ "_hangDetected"
+ "TB,N,V_acquireWaitsToAbortSleepImminent"
+ "BSM:%!p(MISSING) (sleep not requested) unexpected system sleep – will not send request:%!{(MISSING)public}@ %!{(MISSING)public}@"
+ "BSM:%!p(MISSING) (no longer requested) unexpected system sleep - hasSleepActionCompletion:%!{(MISSING)BOOL}u %!{(MISSING)public}@ - will not send request:%!{(MISSING)public}@"
+ "hangDetected"
+ "setAbortTimestamp:"
+ "initWithDisplayMode:prewarmingDisplayMode:lastSteadyStateDisplayMode:caDisplayState:cbDisplayMode:showingBlankingWindow:sleepMonitorAggregateState:hasEnsureFlipbookCurrent:"
+ "_sleepMonitorAggregateState"
+ "presentationEngine:didInvalidateContentForEnvironment:reason:"
- "sleepImminent"
- "setTimeInSleepImminent:"
- "BSM:%!p(MISSING) (sleep not requested) unexpected system sleep – will not send request:%!{(MISSING)public}@"
- "initWithDelegate:abortContext:isPotentialHang:hasSleepBeenRequested:sleepImminent:sleepImminentSinceScheduled:timeInSleepImminent:explanation:"
- "%!p(MISSING):%!{(MISSING)public}@ prepareForSleep state:%!{(MISSING)public}@"
- "BSM:%!p(MISSING) (no longer active) unexpected system sleep - isActive:%!{(MISSING)BOOL}u activeOnAPAssertion:%!{(MISSING)BOOL}u – will not send request:%!{(MISSING)public}@"
- "TB,N,V_sleepImminent"
- "alreadyAwake"
- "BSM:%!p(MISSING) (will not sleep - %!@(MISSING)) unexpected system sleep - will not send request"
- "sleepRequested"
- "@64@0:8@16@24B32B36B40B44d48@56"
- "%!p(MISSING):%!{(MISSING)public}@ actionCompleted state:%!{(MISSING)public}@ proceedWithSleepBlock=%!p(MISSING)"
- "TB,N,V_hasSleepBeenRequested"
- "@80@0:8q16q24q32q40q48B56B60B64d68B76"
- "watchdog pre-%!{(MISSING)public}@: slReq:%!{(MISSING)BOOL}u slImm:%!{(MISSING)BOOL}u slImmSinceSched:%!{(MISSING)BOOL}u%!{(MISSING)public}@%!{(MISSING)public}@"
- "setCompletion:"
- "waitWithSystemSleepMonitor:completion:"
- "BSM:%!p(MISSING) (no sleep action completion) unexpected system sleep - will not send request:%!{(MISSING)public}@"
- "\f"
- "BSM:%!p(MISSING) unexpected system sleep - will deactivate backlight with request:%!{(MISSING)public}@"
- "_sleepImminent"
- " timeInSlImm:%!f(MISSING)s"
- "timeInSleepImminent"
- "sleepMonitorStateTimestamp"
- "_timeInSleepImminent"
- "%!p(MISSING):%!{(MISSING)public}@ sleepRequested state:%!{(MISSING)public}@"
- "setHasSleepBeenRequested:"
- "%!p(MISSING) system waker activity acquired:\"%!{(MISSING)public}@\" elapsed:%!l(MISSING)fs hasSleepBeenRequested:%!{(MISSING)BOOL}u error:%!{(MISSING)public}@"
- "%!p(MISSING):%!{(MISSING)public}@ systemWillWakeForReason%!{(MISSING)public}@ state:%!{(MISSING)public}@"
- "%!p(MISSING):%!{(MISSING)public}@ will render frame:%!@(MISSING)"
- "initWithCurrentState:targetState:activeEvents:abortedEvents:pendingEnvironmentUpdate:pendingUpdatePresentation:pendingUpdateToSpecifier:pendingUpdateDisplayMode:ensureFlipbookCurrentOperation:queuedEventsToPerform:pendingPrewarmedEvent:environmentStateMachine:sleepRequested:sleepImminent:timeInSleepImminent:"
- "_hasSleepBeenRequested"
- "@128@0:8@16@24@32@40@48@56@64@72@80@88@96@104B112B116d120"
- "TSM:%!p(MISSING) flipbookIsStale=YES %!{(MISSING)public}@ invalidateContentForReason:%!{(MISSING)public}@"
- "SWSystemActivityAssertionConfiguring"
- "BSM:%!p(MISSING) (no longer requested) unexpected system sleep - hasSleepActionCompletion:%!{(MISSING)BOOL}u hasSleepBeenRequested:%!{(MISSING)BOOL}u - will not send request:%!{(MISSING)public}@"
- "%!p(MISSING) waited for system awake :\"%!{(MISSING)public}@\" details:%!{(MISSING)public}@ elapsed:%!l(MISSING)fs hasSleepBeenRequested:%!{(MISSING)BOOL}u activityActive:%!{(MISSING)BOOL}u"
- "setSleepImminent:"
- "initWithDisplayMode:prewarmingDisplayMode:lastSteadyStateDisplayMode:caDisplayState:cbDisplayMode:showingBlankingWindow:sleepRequested:sleepImminent:timeInSleepImminent:hasEnsureFlipbookCurrent:"
- "!\x11"
- "_sleepRequested"
- "Td,N,V_timeInSleepImminent"

```
