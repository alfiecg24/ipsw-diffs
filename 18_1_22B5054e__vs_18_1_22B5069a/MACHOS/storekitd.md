## storekitd

> `/System/Library/Frameworks/StoreKit.framework/Support/storekitd`

```diff

-814.1.8.0.0
-  __TEXT.__text: 0x2b4524
-  __TEXT.__auth_stubs: 0x35b0
-  __TEXT.__objc_stubs: 0xcce0
-  __TEXT.__objc_methlist: 0x6d14
-  __TEXT.__const: 0x1da90
-  __TEXT.__cstring: 0xf485
+814.1.11.0.0
+  __TEXT.__text: 0x2c0d94
+  __TEXT.__auth_stubs: 0x36a0
+  __TEXT.__objc_stubs: 0xcd20
+  __TEXT.__objc_methlist: 0x6d3c
+  __TEXT.__const: 0x1df10
+  __TEXT.__cstring: 0xf985
   __TEXT.__oslogstring: 0xcb6a
   __TEXT.__objc_classname: 0x10b0
-  __TEXT.__objc_methname: 0x122e2
+  __TEXT.__objc_methname: 0x12480
   __TEXT.__objc_methtype: 0x342a
   __TEXT.__gcc_except_tab: 0x2440
   __TEXT.__dlopen_cstrs: 0x68
   __TEXT.__swift5_entry: 0x8
-  __TEXT.__constg_swiftt: 0x2518
-  __TEXT.__swift5_typeref: 0x27d3
-  __TEXT.__swift5_reflstr: 0x16e1
-  __TEXT.__swift5_fieldmd: 0x2550
+  __TEXT.__constg_swiftt: 0x2674
+  __TEXT.__swift5_typeref: 0x295d
+  __TEXT.__swift5_reflstr: 0x1781
+  __TEXT.__swift5_fieldmd: 0x266c
   __TEXT.__swift5_builtin: 0x1a4
-  __TEXT.__swift5_assocty: 0x498
-  __TEXT.__swift5_proto: 0x7a8
-  __TEXT.__swift5_types: 0x314
-  __TEXT.__swift5_capture: 0xedc
+  __TEXT.__swift5_assocty: 0x4e0
+  __TEXT.__swift5_proto: 0x7e4
+  __TEXT.__swift5_types: 0x328
+  __TEXT.__swift5_capture: 0xfa4
   __TEXT.__swift5_mpenum: 0x18
   __TEXT.__swift5_protos: 0x1c
-  __TEXT.__unwind_info: 0x6c90
-  __TEXT.__eh_frame: 0xae80
-  __DATA_CONST.__auth_got: 0x1ae8
-  __DATA_CONST.__got: 0xc58
-  __DATA_CONST.__auth_ptr: 0xa18
-  __DATA_CONST.__const: 0x14fd0
+  __TEXT.__unwind_info: 0x7018
+  __TEXT.__eh_frame: 0xb9a0
+  __DATA_CONST.__auth_got: 0x1b60
+  __DATA_CONST.__got: 0xc98
+  __DATA_CONST.__auth_ptr: 0xa30
+  __DATA_CONST.__const: 0x154c0
   __DATA_CONST.__cfstring: 0x6760
   __DATA_CONST.__objc_classlist: 0x550
   __DATA_CONST.__objc_catlist: 0xb8

   __DATA_CONST.__objc_dictobj: 0x50
   __DATA_CONST.__objc_intobj: 0x210
   __DATA_CONST.__objc_arrayobj: 0x30
-  __DATA.__objc_const: 0x1b7c0
-  __DATA.__objc_selrefs: 0x46c8
+  __DATA.__objc_const: 0x1b8d8
+  __DATA.__objc_selrefs: 0x4738
   __DATA.__objc_ivar: 0x6e4
-  __DATA.__objc_data: 0x4528
-  __DATA.__data: 0x63d8
-  __DATA.__bss: 0x10128
+  __DATA.__objc_data: 0x4548
+  __DATA.__data: 0x6638
+  __DATA.__bss: 0x108a8
   __DATA.__common: 0xdc8
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/CFNetwork.framework/CFNetwork

   - /usr/lib/swift/libswiftCoreFoundation.dylib
   - /usr/lib/swift/libswiftCoreImage.dylib
   - /usr/lib/swift/libswiftCoreMIDI.dylib
+  - /usr/lib/swift/libswiftCryptoTokenKit.dylib
   - /usr/lib/swift/libswiftDarwin.dylib
   - /usr/lib/swift/libswiftDataDetection.dylib
   - /usr/lib/swift/libswiftDispatch.dylib

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 9658
-  Symbols:   1465
-  CStrings:  6395
+  Functions: 9931
+  Symbols:   1489
+  CStrings:  6435
 
Symbols:
+ _$s10Foundation12NotificationV6objectypSgvg
+ _$s10Foundation12NotificationVMn
+ _$s10Foundation4DateV1goiySbAC_ACtFZ
+ _$s10Foundation4DateV21timeIntervalSince1970Sdvg
+ _$sSDyxq_GSEsSERzSER_rlMc
+ _$sSDyxq_GSesSeRzSeR_rlMc
+ _$sSa034_makeUniqueAndReserveCapacityIfNotB0yyFyXl_Ts5
+ _$sSa16_createNewBuffer14bufferIsUnique15minimumCapacity13growForAppendySb_SiSbtFyXl_Ts5
+ _$sSa37_appendElementAssumeUniqueAndCapacity_03newB0ySi_xntFyXl_Ts5
+ _$ss17_NativeDictionaryV4copyyyF
+ _$ss22KeyedDecodingContainerV15decodeIfPresent_6forKeySdSgSdm_xtKF
+ _$ss22KeyedEncodingContainerV6encode_6forKeyySd_xtKF
+ _$ss28SingleValueEncodingContainerP6encodeyySSKFTj
+ _$ss7EncoderP20singleValueContainers06Singlec8EncodingD0_pyFTj
+ _NSUbiquitousKeyValueStoreChangeReasonKey
+ _NSUbiquitousKeyValueStoreDidChangeExternallyNotification
+ _OBJC_CLASS_$_AMSMetricsIdentifierKey
+ _OBJC_CLASS_$_AMSMetricsIdentifierStore
+ _OBJC_CLASS_$_NSUbiquitousKeyValueStore
+ __swift_FORCE_LOAD_$_swiftCryptoTokenKit
+ _swift_makeBoxUnique
+ _swift_weakAssign
+ _swift_weakDestroy
+ _swift_weakInit
+ _swift_weakLoadStrong
- _$ss22KeyedDecodingContainerV6decode_6forKeyS2dm_xtKF
CStrings:
+ " DATETIME DEFAULT (timestamp()),\nPRIMARY KEY (\n"
+ " DATETIME DEFAULT (timestamp());"
+ " changed with reason "
+ "04:01:16"
+ "ALTER TABLE external_gateway_token_families\nRENAME COLUMN account_dsid TO account_id;"
+ "APPSTORE_ENGAGEMENT"
+ "APPSTORE_ENGAGEMENT_CLIENT"
+ "Client is not entitled to save external purchase token family"
+ "Dictionary<String, ExternalPurchaseTokenV2Response>"
+ "ExternalPurchaseTokenV2Response"
+ "Failed to decode ExternalPurchaseTokenV2Response: "
+ "Failed to encode "
+ "Failed to get AMS metrics ids: "
+ "Failed to save new token family for "
+ "Fetching tokens using cached token family ID"
+ "Found cached token data for "
+ "Missing token response"
+ "No active account to save new token family for "
+ "Optional<ExternalPurchaseTokenV2Response>"
+ "Received new token family for "
+ "Requesting new token family and refreshing tokens for "
+ "Saving new token family ID"
+ "Saving new token response"
+ "Sep 30 2024"
+ "Store change notification has no payload, ignoring"
+ "Store change notification is not for the current store, ignoring..."
+ "Token family does not contain an active token, will attempt to request new ones"
+ "_handleTokenFamily:bundleID:reply:"
+ "addObserverForName:object:queue:usingBlock:"
+ "appstore_engagement"
+ "com.apple.storekit.account-user-id"
+ "com.apple.storekit.externalPurchaseTokensV2"
+ "currentQueue"
+ "dataForKey:"
+ "externalPurchaseTokensV2"
+ "generateEventFieldsForKeys:"
+ "handleEngagementRequest:bag:hostSceneID:completionHandler:"
+ "handleTokenFamily(_:for:reply:)"
+ "identifierForKey:"
+ "identifierStoreWithAccount:bagNamespace:bag:"
+ "initWithStoreIdentifier:type:"
+ "keyWithName:crossDeviceSync:"
+ "saveNewTokenFamily:bundleID:reply:"
+ "setData:forKey:"
+ "setIncludeAccountMatchStatus:"
+ "setSendBlindedData:"
+ "store"
+ "v16@?0@\"NSNotification\"8"
+ "v24@?0@\"AMSMetricsIdentifierStore\"8@\"NSError\"16"
+ "v48@0:8@\"AMSEngagementRequest\"16@\"<AMSBagProtocol>\"24@\"NSString\"32@?<v@?@\"AMSEngagementResult\"@\"NSError\">40"
- " TEXT NOT NULL,\nPRIMARY KEY (\n"
- " external purchase token request"
- " tokens found in response"
- "(ExternalPurchaseTokenV2Response in _A0B67E5E835CE5C4351F500DE01F7FFD)"
- ", will request new external purchase tokens"
- "17:40:33"
- "Missing token family ID for "
- "Saving new token family ID for "
- "Sep 17 2024"
- "Using cached token family ID for "

```
