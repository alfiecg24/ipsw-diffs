## feedbackd

> `/usr/libexec/feedbackd`

```diff

-129.0.0.0.0
-  __TEXT.__text: 0x63c10
-  __TEXT.__auth_stubs: 0x1b70
-  __TEXT.__objc_methlist: 0x20c
-  __TEXT.__const: 0x1500
-  __TEXT.__cstring: 0x2831
-  __TEXT.__objc_methname: 0x144e
-  __TEXT.__swift5_typeref: 0xc2b
-  __TEXT.__swift5_capture: 0x4c0
-  __TEXT.__constg_swiftt: 0xa84
-  __TEXT.__swift5_reflstr: 0xa6e
-  __TEXT.__swift5_fieldmd: 0x7e0
-  __TEXT.__oslogstring: 0x1ee8
+131.0.0.0.0
+  __TEXT.__text: 0x6c960
+  __TEXT.__auth_stubs: 0x1d20
+  __TEXT.__objc_methlist: 0x224
+  __TEXT.__const: 0x1718
+  __TEXT.__cstring: 0x3861
+  __TEXT.__objc_methname: 0x1429
+  __TEXT.__oslogstring: 0x2338
+  __TEXT.__swift5_typeref: 0xba3
+  __TEXT.__constg_swiftt: 0xb5c
+  __TEXT.__swift5_fieldmd: 0x914
+  __TEXT.__swift5_reflstr: 0xb9e
   __TEXT.__swift5_builtin: 0x64
   __TEXT.__swift5_assocty: 0x120
-  __TEXT.__swift5_proto: 0xec
-  __TEXT.__swift5_types: 0x84
-  __TEXT.__objc_classname: 0x9d
-  __TEXT.__objc_methtype: 0x2d9
+  __TEXT.__swift5_proto: 0x108
+  __TEXT.__swift5_types: 0x94
+  __TEXT.__objc_classname: 0x83
+  __TEXT.__objc_methtype: 0x258
   __TEXT.__swift5_mpenum: 0x8
+  __TEXT.__swift5_capture: 0x46c
   __TEXT.__swift5_entry: 0x8
-  __TEXT.__unwind_info: 0x12a0
-  __TEXT.__eh_frame: 0x3190
-  __DATA_CONST.__auth_got: 0xdb8
-  __DATA_CONST.__got: 0x6b0
-  __DATA_CONST.__auth_ptr: 0x3d0
-  __DATA_CONST.__const: 0x1720
+  __TEXT.__unwind_info: 0x13d8
+  __TEXT.__eh_frame: 0x3510
+  __DATA_CONST.__auth_got: 0xe90
+  __DATA_CONST.__got: 0x728
+  __DATA_CONST.__auth_ptr: 0x3e8
+  __DATA_CONST.__const: 0x1780
   __DATA_CONST.__objc_classlist: 0x70
-  __DATA_CONST.__objc_protolist: 0xb0
+  __DATA_CONST.__objc_protolist: 0x90
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_protorefs: 0x68
-  __DATA.__objc_const: 0x1f48
-  __DATA.__objc_selrefs: 0x590
-  __DATA.__objc_data: 0x8e8
-  __DATA.__data: 0x19c8
-  __DATA.__bss: 0x1d90
+  __DATA_CONST.__objc_protorefs: 0x58
+  __DATA.__objc_const: 0x1a58
+  __DATA.__objc_selrefs: 0x588
+  __DATA.__objc_data: 0x928
+  __DATA.__data: 0x1a78
+  __DATA.__bss: 0x2110
   __DATA.__common: 0xb8
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
   - /System/Library/Frameworks/Foundation.framework/Foundation

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 1268
-  Symbols:   760
-  CStrings:  686
+  Functions: 1347
+  Symbols:   804
+  CStrings:  730
 
Symbols:
+ _$s15FeedbackService15FBKSInteractionC16AnnotatedContentV8IconTypeOMa
+ _$s15FeedbackService12FBKSDonationC20usesAnnotatedContentSbvgTj
+ _$s10Foundation13__DataStorageC7_lengthSivg
+ _$s15FeedbackService15FBKSInteractionC16AnnotatedContentVSeAAMc
+ _OBJC_CLASS_$_BMSQLDatabase
+ _$sSS18_fromUTF8RepairingySS6result_Sb11repairsMadetSRys5UInt8VGFZ
+ _$s15FeedbackService15FBKSInteractionC12extraContentSayAC09AnnotatedE0VGvgTj
+ _$s15FeedbackService15FBKSInteractionC7ContentOs23CustomStringConvertibleAAMc
+ _$sSD11descriptionSSvg
+ _$s15FeedbackService15FBKSInteractionC25generatedAnnotatedContentAC0eF0VSgvgTj
+ _$s15FeedbackService15FBKSInteractionC12extraContentSayAC09AnnotatedE0VGvsTj
+ _$s15FeedbackService15FBKSInteractionC16AnnotatedContentV7payloadAC0E0Ovg
+ _$s10Foundation13__DataStorageC6_bytesSvSgvg
+ _$s15FeedbackService15FBKSInteractionC16AnnotatedContentVSEAAMc
+ _$s15FeedbackService15FBKSInteractionC25generatedAnnotatedContentAC0eF0VSgvsTj
+ _$ss6UInt32VN
+ _$s10Foundation13__DataStorageC7_offsetSivg
+ _$s15FeedbackService15FBKSInteractionC7ContentO4fileyAE10Foundation3URLV_tcAEmFWC
+ _OBJC_CLASS_$_NSData
+ _$sSS5countSivg
+ _$s15FeedbackService15FBKSInteractionC16AnnotatedContentV8IconTypeO9temporaryyAGSS_tcAGmFWC
+ _$s15FeedbackService15FBKSInteractionC24originalAnnotatedContentAC0eF0VSgvgTj
+ _$ss19_HasContiguousBytesP010withUnsafeC0yqd__qd__SWKXEKlFTj
+ _$s15FeedbackService15FBKSInteractionC7ContentO5_fileyAESS_10Foundation4DataVtcAEmFWC
+ _$s10Foundation4DataV13_copyContents12initializingAC8IteratorV_SitSrys5UInt8VG_tF
+ _$s15FeedbackService15FBKSInteractionC16AnnotatedContentVMn
+ _$s10Foundation4UUIDVSEAAMc
+ _$s15FeedbackService15FBKSInteractionC15originalContentAC0E0OSgvsTj
+ _OBJC_CLASS_$_NSJSONSerialization
+ _$s10Foundation4UUIDV10uuidStringACSgSSh_tcfC
+ _$s15FeedbackService15FBKSInteractionC11diagnosticsSSSgvsTj
+ _BMFeedbackEvaluationResponseIdentifier
+ _$s15FeedbackService15FBKSInteractionC16AnnotatedContentV8IconTypeOMn
+ _$sSo13BMSQLDatabaseC12BiomeStreamsE7execute5querySo14BMSQLResultSetCSS_tF
+ _$ss19_HasContiguousBytesP09_providesbC6NoCopySbvgTj
+ _$s15FeedbackService15FBKSInteractionC16AnnotatedContentV8IconTypeO10withString5valueAGSS_tFZ
+ _BMFeedbackTextToTextEvaluationDataIdentifier
+ _$s15FeedbackService15FBKSInteractionC10donationID10Foundation4UUIDVSgvgTj
+ _$s15FeedbackService15FBKSInteractionC16generatedContentAC0E0OSgvsTj
+ _BMFeedbackTextImageToImageEvaluationDataIdentifier
+ _BMFeedbackTextToImageEvaluationDataIdentifier
+ _$s10Foundation4DataV8IteratorVMa
+ _$s15FeedbackService15FBKSInteractionC16AnnotatedContentV7payload11displayName11description04fileH05group8iconType14additionalInfoAeC0E0O_S4SSgAE04IconM0OSgSDyS2SGSgtcfC
+ _$ss30_findStringSwitchCaseWithCache5cases6string5cacheSiSays06StaticB0VG_SSs07_OpaquebcF0VztF
+ _$ss6UInt32Vs23CustomStringConvertiblesWP
+ _$s15FeedbackService15FBKSInteractionC16AnnotatedContentVMa
+ _$ss19_HasContiguousBytesMp
+ _$s15FeedbackService15FBKSInteractionC24originalAnnotatedContentAC0eF0VSgvsTj
- _OBJC_CLASS_$_BMPublisherOptions
- _$s10Foundation4UUIDVSQAAMc
- _swift_dynamicCastObjCClass
- _$ss21_findStringSwitchCase5cases6stringSiSays06StaticB0VG_SStF
CStrings:
+ "Diagnostics JSON structure is not annotated content. Likely not an error"
+ "\"\n        )\n        WHERE evaluationUuid NOT IN (\n            "
+ "Donation doesn't have annotated content"
+ "fetchDonationIDsWithCount:fromLatest:excludingEvaluationIDs:completion:"
+ "initWithBase64EncodedString:options:"
+ "%!s(MISSING) - FD is allowed, appending"
+ "SELECT\n    evaluationUuid\nFROM (\n    SELECT\n        featureDomain,\n        eventTimestamp,\n        evaluationUuid,\n        commonMetadata_json,\n        ROW_NUMBER()\n    OVER (\n        PARTITION BY json_extract(commonMetadata_json, \"$.featureDomain\")\n        ORDER BY eventTimestamp "
+ "Annotations %!s(MISSING)"
+ "Required keys not found. Cannot create AnnotatedContent"
+ "\n)\nSELECT\n    *\nFROM (\n    SELECT\n        *,\n        \""
+ "decodeAnnotations(donation:)"
+ "\n        )\n        AND compareableEvaluationUuid NOT IN (\n            SELECT hex(evaluationUuid)\n            FROM \""
+ "Version %!s(MISSING)"
+ "Could dereference: extraContent"
+ "Error parsing donation from row: %!@(MISSING)"
+ "IconType dictionary has unknown type"
+ "dataWithJSONObject:options:error:"
+ "Could dereference: generatedContentAnnotation"
+ "\"\n    WHERE evaluationUuid IN results\n)"
+ "%!s(MISSING) not supported in %!{(MISSING)public}s"
+ "fetchDonations(count:fromLatest:excludingEvaluationIDs:database:)"
+ "row"
+ "generatedAnnotatedContent %!s(MISSING)"
+ "Writing AnnotatedContent flow to write Donation"
+ "\"\n            )\n        )\n    ) AS subquery\n    ORDER BY rn, eventTimestamp "
+ "WITH results AS (\n    SELECT\n        evaluationUuid\n    FROM (\n        SELECT\n            featureDomain,\n            eventTimestamp,\n            evaluationUuid,\n            commonMetadata_json,\n            ROW_NUMBER()\n        OVER (\n            PARTITION BY json_extract(commonMetadata_json, \"$.featureDomain\")\n            ORDER BY eventTimestamp "
+ "fetchDonations(count:fromLatest:excludingEvaluationIDs:completion:)"
+ "Content type is not supported for this action"
+ "%!{(MISSING)public}s dictionary: %!s(MISSING)"
+ "\n    )\n    AS rn FROM (\n        SELECT\n            json_extract(commonMetadata_json, \"$.evaluationUuid\") evaluationUuid,\n            replace(json_extract(commonMetadata_json, \"$.evaluationUuid\"), \"-\", \"\") compareableEvaluationUuid,\n            json_extract(commonMetadata_json, \"$.featureDomain\") featureDomain,\n            eventTimestamp,\n            commonMetadata_json\n        FROM (\n            SELECT\n                eventTimestamp,\n                commonMetadata_json\n            FROM \""
+ "v40@0:8I16B20@\"NSArray\"24@?<v@?@\"NSData\"@\"NSError\">32"
+ "fetchDonationIDs(count:fromLatest:excludingEvaluationIDs:database:)"
+ "_file(name:data:) should not be sent to %!{(MISSING)public}s"
+ "Unknown Event Type"
+ "Error fetching evaluation: %!@(MISSING)"
+ "fetchDonationWithDonationID:completion:"
+ "next"
+ "encodeAnnotations(donation:)"
+ "\n        )\n        AS rn FROM (\n            SELECT\n                json_extract(commonMetadata_json, \"$.evaluationUuid\") evaluationUuid,\n                replace(json_extract(commonMetadata_json, \"$.evaluationUuid\"), \"-\", \"\") compareableEvaluationUuid,\n                json_extract(commonMetadata_json, \"$.featureDomain\") featureDomain,\n                eventTimestamp,\n                commonMetadata_json\n            FROM (\n                SELECT\n                    eventTimestamp,\n                    commonMetadata_json\n                FROM \""
+ "\"\n                UNION SELECT\n                    eventTimestamp,\n                    commonMetadata_json\n                FROM \""
+ "JSONObjectWithData:options:error:"
+ "\" WHERE hex(evaluationUuid)=\""
+ "initWithJSONDictionary:error:"
+ "\" as stream,\n        json_extract(commonMetadata_json, \"$.evaluationUuid\") evaluationUuid,\n        generatedContent_json,\n        originalContent_json,\n        commonMetadata_json\n    FROM \""
+ "Clearing non-annotated original content"
+ "\"\n    UNION SELECT\n        \""
+ "No content. Cannot create annotated content"
+ "%!s(MISSING) - query returned no results"
+ "\"\n            UNION SELECT\n                eventTimestamp,\n                commonMetadata_json\n            FROM \""
+ "%!s(MISSING) - Will parse row"
+ "File name is missing"
+ "\" as stream,\n        eventTimestamp,\n        commonMetadata_json,\n        originalContent_json,\n        generatedContent_json,\n        json_extract(commonMetadata_json, \"$.evaluationUuid\") evaluationUuid\n    FROM \""
+ "File"
+ "\n            )\n            AND compareableEvaluationUuid NOT IN (\n                SELECT hex(evaluationUuid)\n                FROM \""
+ "%!s(MISSING) - Will filter out ids: %!s(MISSING)"
+ "Error decoding donation: %!@(MISSING)"
+ "diagnostics JSON string size: %!l(MISSING)d"
+ "Error decoding evaluation: %!@(MISSING)"
+ "Could not decode JSON string to Data"
+ "SELECT * FROM (\n    SELECT\n        \""
+ "fetchDonation(donationID:completion:)"
+ "\"\n            )\n            WHERE evaluationUuid NOT IN (\n                "
+ "stringDescription"
+ "\"\n        )\n    )\n) AS subquery\nORDER BY rn, eventTimestamp "
+ "\"\n    WHERE evaluationUuid IN results\n    UNION SELECT\n        *,\n        \""
+ "Could dereference: originalContentAnnotation"
+ "fetchDonationIDs(count:fromLatest:excludingEvaluationIDs:completion:)"
+ "Fetching donation with donationID: %!s(MISSING)"
+ "originalAnnotatedContent %!s(MISSING)"
+ "Could not decode temporary IconType "
+ "fetchDonationsWithCount:fromLatest:excludingEvaluationIDs:completion:"
+ "Donation doesn't have diagnostics text"
+ "v40@0:8I16B20@24@?32"
+ "Clearing non-annotated generated content"
+ "Diagnostics JSON doesn't contain annotation keys. Likely not an error"
+ "originalContentAnnotation"
+ "Could dereference: diagnostics"
+ "\"\n    WHERE\n        evaluationUuid = \""
+ "generatedContentAnnotation"
+ "Diagnostics string does not contain JSON. Likely not an error"
+ "%!s(MISSING) - No error occurred"
- "TC,R,N"
- "publisherWithOptions:"
- "subscribe:"
- "@\"NSError\"24@0:8@\"<BPSSubscriber>\"16"
- "d16@0:8"
- "eventBody"
- "nextEvent"
- "v24@0:8@\"<BPSSubscriber>\"16"
- "evaluationResponseBiomeStream"
- "orderedMergeWithOthers:comparator:"
- "Td,R,N"
- "reset"
- "T@\"<BMStoreData>\",R,N"
- "@\"NSArray\"16@0:8"
- "fetchDonation(evaluationID:completion:)"
- "initWithStartDate:endDate:maxEvents:lastN:reversed:"
- "evaluationUuid"
- "upstreamPublishers"
- "B16@?0@8"
- "BPSPublisher"
- "BMStoreEvent"
- "Fetching donation for %!s(MISSING)"
- "textToTextBiomeStream"
- "fetchDonationWithEvaluationID:completion:"
- "timestamp"
- "textImageToImageBiomeStream"
- "userResponse"
- "@\"<BMStoreData>\"16@0:8"
- "mergeWithOther:"
- "sinkWithCompletion:shouldContinue:"
- "q24@?0@8@16"
- "fetchDonations(count:fromLatest:)"
- "completed"
- "textToImageBiomeStream"
- "v16@?0@\"BPSCompletion\"8"
- "C16@0:8"
- "startWithSubscriber:"

```
