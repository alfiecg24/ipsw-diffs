## mediaanalysisd-service

> `/System/Library/PrivateFrameworks/MediaAnalysis.framework/mediaanalysisd-service`

```diff

-285.5.2.0.0
-  __TEXT.__text: 0x188f50
+285.9.1.0.0
+  __TEXT.__text: 0x18dc4c
   __TEXT.__auth_stubs: 0x1110
-  __TEXT.__objc_stubs: 0x12080
-  __TEXT.__objc_methlist: 0x8198
-  __TEXT.__cstring: 0x1357b
-  __TEXT.__objc_classname: 0x1bc4
-  __TEXT.__objc_methname: 0x18301
-  __TEXT.__objc_methtype: 0x3548
-  __TEXT.__const: 0x428
-  __TEXT.__gcc_except_tab: 0x2cf24
-  __TEXT.__oslogstring: 0x1df54
+  __TEXT.__objc_stubs: 0x121e0
+  __TEXT.__objc_methlist: 0x8208
+  __TEXT.__cstring: 0x13ad3
+  __TEXT.__objc_classname: 0x1bc1
+  __TEXT.__objc_methname: 0x184d5
+  __TEXT.__objc_methtype: 0x3575
+  __TEXT.__const: 0x458
+  __TEXT.__gcc_except_tab: 0x2da5c
+  __TEXT.__oslogstring: 0x1e934
   __TEXT.__dlopen_cstrs: 0x60a
-  __TEXT.__unwind_info: 0x5920
+  __TEXT.__unwind_info: 0x59d0
   __DATA_CONST.__auth_got: 0x8a0
   __DATA_CONST.__got: 0xd60
-  __DATA_CONST.__const: 0x5a08
-  __DATA_CONST.__cfstring: 0xc1c0
+  __DATA_CONST.__const: 0x5af0
+  __DATA_CONST.__cfstring: 0xc8c0
   __DATA_CONST.__objc_classlist: 0x650
   __DATA_CONST.__objc_catlist: 0x48
   __DATA_CONST.__objc_protolist: 0xd0
   __DATA_CONST.__objc_imageinfo: 0x8
   __DATA_CONST.__objc_protorefs: 0x80
   __DATA_CONST.__objc_classrefs: 0x10
-  __DATA_CONST.__objc_superrefs: 0x4d0
-  __DATA_CONST.__objc_intobj: 0x22f8
+  __DATA_CONST.__objc_superrefs: 0x4d8
+  __DATA_CONST.__objc_intobj: 0x2310
   __DATA_CONST.__objc_arraydata: 0x7b0
   __DATA_CONST.__objc_arrayobj: 0x5b8
   __DATA_CONST.__objc_doubleobj: 0xd0
   __DATA_CONST.__objc_dictobj: 0x28
-  __DATA.__objc_const: 0x133f0
-  __DATA.__objc_selrefs: 0x4d30
-  __DATA.__objc_ivar: 0x1008
+  __DATA.__objc_const: 0x13488
+  __DATA.__objc_selrefs: 0x4d90
+  __DATA.__objc_ivar: 0x1014
   __DATA.__objc_data: 0x3f20
   __DATA.__data: 0xa68
   __DATA.__bss: 0x690

   - /usr/lib/libcompression.dylib
   - /usr/lib/libobjc.A.dylib
   - /usr/lib/libsqlite3.dylib
-  Functions: 4513
+  Functions: 4533
   Symbols:   712
-  CStrings:  8475
+  CStrings:  8593
 
CStrings:
+ "ProcessedCount"
+ "%!@(MISSING) Asset requires resource download; skipping"
+ "[BG Service] Wake request"
+ "/Library/Caches/com.apple.xbs/Sources/MediaAnalysis/Daemon/Photos/VCPPhotosCoreAnalytics.mm"
+ "SampleAssetType"
+ "[%!@(MISSING)] Existing analysis contains nil date; ignoring ..."
+ "DaysToComplete99"
+ "SampleCodec"
+ "Failed to create VCPPhotosAssetChangeManager"
+ "com.apple.mediaanalysisd.background.dailyreport"
+ "VCPAnalyticsEventBackgroundDailyReport"
+ "ActivityID"
+ "mad_maxIgnoredAssetsToMarkAsProcessed"
+ "UnifiedLivePhotoPublishStepTimestamp"
+ "[PECSingleRequest][%!@(MISSING)] Asset does not need processing in task %!l(MISSING)u, ignoring... "
+ "%!@(MISSING) Analysis outdated; need to analyze (%!@(MISSING))"
+ "SampleHeight"
+ "Error(%!d(MISSING)) during daily reporting for lib %!@(MISSING)"
+ "UnifiedImageOnlyEvaluationStepTimestamp"
+ "[%!@(MISSING)] Updating asset (%!@(MISSING)) with results %!@(MISSING) (imageOnly: %!@(MISSING))"
+ "v24@0:8@?<v@?i>16"
+ "%!@(MISSING) Analysis failed (%!d(MISSING))"
+ "_ignoredAssets"
+ "mad_isProcessingNeededOnAsset:forTaskID:"
+ "SampleAssetSubtype"
+ "entriesByLibraryPointerAddEntry:"
+ "%!@(MISSING) Asset already added to a processing batch; skipping"
+ "markIgnoredAssetsAsProcessed"
+ "[MAD BG Service] Waking background analysis service timeout; deferring ..."
+ "_cancelOrExtendTimeoutBlock"
+ "\x04#\x11\x13"
+ "[MAD BG Service] Error connecting to wake background analysis service"
+ "[MADProgressManager] Failed to report BGST Checkpoint reset for feature code %!@(MISSING) - %!@(MISSING) - %!@(MISSING)"
+ "%!@(MISSING) Reported checkpoint %!l(MISSING)u for %!l(MISSING)u"
+ "[%!@(MISSING)][%!@(MISSING)] Asset does not need processing in task %!l(MISSING)u, ignoring... "
+ "%!@(MISSING) Asset incompatible with the associated task; skipping"
+ "%!@(MISSING) Asset is up-to-date; skipping"
+ "Failed to retrieve VCPPhotosAssetChangeManager"
+ "UnifiedImageOnlyDownloadStepTimestamp"
+ "DaysToComplete50"
+ "[%!@(MISSING)][FMACC]"
+ "@32@0:8@?16@?24"
+ "Finished daily report for activity %!d(MISSING)"
+ "%!@(MISSING) Asset missing modification date; skipping all analysis"
+ "Trying querySchedulingHistoryRecords from DB returned err %!d(MISSING) for activity %!d(MISSING)"
+ "[%!@(MISSING)] analysis vcp_dateModified: %!@(MISSING), but asset vcp_modificationDate: %!@(MISSING); skip updating ..."
+ "[MADProgressManager] Reported BGST Checkpoint reset for feature code %!d(MISSING) - %!@(MISSING)"
+ "valueWithPointer:"
+ "[%!@(MISSING)] the repeating BGST task already existed, bailing out."
+ "UnifiedMovieDownloadStepTimestamp"
+ "%!@(MISSING) No resource to analyze %!@(MISSING)"
+ "Waking background analysis service timeout; deferring ..."
+ "[%!@(MISSING)][%!@(MISSING)] Asset does not need processing in task %!u(MISSING), ignoring... "
+ "UnifiedImageOnlyProcessStepTimestamp"
+ "DaysToComplete90"
+ "AttemptedPercentage"
+ "(local only)"
+ "mad_isFullAnalysisVersionOutdated:"
+ "%!@(MISSING) Possible analysis: %!@(MISSING)"
+ "[MADProgressManager] Reported BGST Checkpoint reset for feature code %!@(MISSING) - %!@(MISSING)"
+ "UnifiedLivePhotoEvaluationStepTimestamp"
+ "%!@(MISSING) Analysis incomplete; need to analyze (%!@(MISSING))"
+ "[%!@(MISSING)] Try submit the repeating BGST task"
+ "preheatModelsForOptions:revision:extendedTimeoutBlock:error:"
+ "%!@(MISSING) Existing analysis: %!@(MISSING)"
+ "%!@(MISSING) Checking Photos with %!l(MISSING)u faceObservationIDs[%!l(MISSING)u:%!l(MISSING)u]"
+ "AttemptedCount"
+ "InvokedTimes"
+ "resetProcessingCheckpointForTask:"
+ "additionalCheckForProcessingNeededForAsset:taskID:priority:"
+ "%!@(MISSING)[%!@(MISSING)][TaskID-%!d(MISSING)]"
+ "failedImage"
+ "%!@(MISSING) Analysis complete and up-to-date"
+ "[MADProgressManager] Failed to report BGST Checkpoint reset for feature code %!d(MISSING) - %!@(MISSING) - %!@(MISSING)"
+ "vcp_needsFullAnalysisProcessing:"
+ "Top3Failure"
+ "initWithCaptionModelType:captionSafetyType:useSharedModel:"
+ "wakeWithReply:"
+ "[%!@(MISSING)] Cannot store invalid analysis (v%!d(MISSING)) with %!@(MISSING)"
+ "%!@(MISSING) Reset %!l(MISSING)u vuObservationIDsInPhotos[%!l(MISSING)u:%!l(MISSING)u]"
+ "%!@(MISSING) already with FC version; skipping"
+ "UnifiedLivePhotoProcessStepTimestamp"
+ "%!@(MISSING) Asset not eligible for processing; skipping"
+ "UnifiedMovieEvaluationStepTimestamp"
+ "TotalRunTime"
+ "UnifiedMovieProcessStepTimestamp"
+ "_publishEntries:photoLibrary:"
+ "ResultsSynchronizationTaskTimestamp"
+ "[%!@(MISSING)] Nothing to update Photos analysis vcp_version %!d(MISSING), Photos mediaAnalysisImageVersion %!d(MISSING), mediaAnalysisVersion %!d(MISSING)"
+ "Top2Failure"
+ "exitStatus"
+ "CrashCount"
+ "UnifiedFullTaskTimestamp"
+ "%!@(MISSING) Failed to report checkpoint %!l(MISSING)u for %!l(MISSING)u - %!@(MISSING)"
+ "%!@(MISSING) Undegraded asset available"
+ "UnprocessedPercentage"
+ "%!@(MISSING) Asset has a previous hard failure; skipping"
+ "FailedPercentage"
+ "TotalCount"
+ "mad_markAsProcessedByTask:forAssets:"
+ "SampleUTType"
+ "[%!@(MISSING)][FMA]"
+ "%!@(MISSING) Incompatible analysis (asset degraded); re-analyze all (%!@(MISSING))"
+ "[MADProgressManager] Skip reporting BGST Checkpoint reset for %!@(MISSING): no feature code"
+ "DaysSinceUpdate"
+ "FailedCount"
+ "dis"
+ "%!@(MISSING) No existing analysis; analyze all (%!@(MISSING))"
+ "%!@(MISSING) Finished personalization plugin"
+ "[VCPDatabaseWriter] Failed to remove personalization checkpoint timestamp for %!@(MISSING)"
+ "B20@0:8B16"
+ "%!@(MISSING) No valid asset in VU gallery for Photo Library (%!@(MISSING))"
+ "ResumePausedTaskTimestamp"
+ "UnifiedLivePhotoDownloadStepTimestamp"
+ "UnifiedMoviePublishStepTimestamp"
+ "vcp_processedAssetCountForTaskID:"
+ "entryCount"
+ "%!@(MISSING) Asset modified; discarding existing analysis"
+ "UnifiedMoviePrepareStepTimestamp"
+ "Top1Failure"
+ "%!@(MISSING) Evaluating asset ... (download %!@(MISSING)allowed)"
+ "UnifiedLivePhotoPrepareStepTimestamp"
+ "[%!@(MISSING)] Failed to submit the repeating BGST task with error: %!@(MISSING)"
+ "SampleWidth"
+ "[MAD BG Service] Waked; proceed to service daemon (%!d(MISSING)) processing ..."
+ "UnifiedImageOnlyPrepareStepTimestamp"
+ "[%!@(MISSING)] Submitted repeating BGST task successfully."
+ "_entriesByLibraryPointer"
+ "FailedAssetTaskTimestamp"
+ "UnprocessedCount"
+ "[%!@(MISSING)][%!@(MISSING)] Adding asset to processing batch ..."
+ "ProcessedPercentage"
+ "UnifiedImageOnlyPublishStepTimestamp"
+ "PersonalizationCheckpointReportedTimestamp"
+ "[MAD BG Service] Waking background analysis service (%!d(MISSING)) ..."
+ "Starting daily report for activity %!d(MISSING)"
+ "?"
+ "MediaTypeTaskTimestamp"
+ "%!@(MISSING) Adding to process batch ..."
+ "initWithCompletionHandler:cancelOrExtendTimeoutBlock:"
- "1#"
- "initWithCaptionModelType:captionSafetyType:"
- "%!@(MISSING)[%!@(MISSING)] Asset requires resource download; skipping"
- "_persistenceAssetEntries"
- "%!@(MISSING)[%!@(MISSING)] already with FC version; skip"
- "  [%!@(MISSING)] Analysis complete and up-to-date with Compute Sync results"
- "[%!@(MISSING)] Updating asset with results %!@(MISSING) (imageOnly: %!@(MISSING))"
- "%!@(MISSING) Analysis failed"
- "\x04\"\x11\x13"
- "%!@(MISSING)[%!@(MISSING)] Asset incompatible with the associated task; skipping"
- "vcp_needsFullAnalysisProcessing"
- "[%!@(MISSING)] Asset entry contains nil date; dropping"
- "%!@(MISSING)[%!@(MISSING)] Asset up-to-date; skipping"
- "PetsParity"
- "%!@(MISSING)[%!@(MISSING)] Asset already added to a processing batch; skipping"
- "preheatModelsForOptions:revision:error:"
- "persistenceArrayAddEntry:"
- "mad_isFullAnalysisVersionOutdated"
- "vcp_needsVideoCaptionProcessing"
- "%!@(MISSING)[%!@(MISSING)] Asset previous had hard failure; skipping"
- "%!@(MISSING)[%!@(MISSING)] Asset not eligible for processing; skipping"
- "%!@(MISSING)[%!@(MISSING)] Evaluating asset ... (download allowed: %!@(MISSING))"

```
