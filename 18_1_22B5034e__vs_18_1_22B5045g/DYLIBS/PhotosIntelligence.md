## PhotosIntelligence

> `/System/Library/PrivateFrameworks/PhotosIntelligence.framework/PhotosIntelligence`

```diff

-710.14.102.0.0
-  __TEXT.__text: 0x4235f0
-  __TEXT.__auth_stubs: 0x4840
-  __TEXT.__objc_methlist: 0x3e40
-  __TEXT.__cstring: 0x1c8b5
-  __TEXT.__swift5_typeref: 0x89a4
-  __TEXT.__const: 0x1edb0
-  __TEXT.__swift5_reflstr: 0xa46f
-  __TEXT.__swift5_assocty: 0xeb0
-  __TEXT.__swift5_fieldmd: 0xa6f4
-  __TEXT.__constg_swiftt: 0x8ef0
-  __TEXT.__swift5_builtin: 0x460
+710.17.103.0.0
+  __TEXT.__text: 0x43657c
+  __TEXT.__auth_stubs: 0x48b0
+  __TEXT.__objc_methlist: 0x3f00
+  __TEXT.__cstring: 0x1d1e9
+  __TEXT.__swift5_typeref: 0x8b46
+  __TEXT.__const: 0x1f340
+  __TEXT.__swift5_reflstr: 0xa70f
+  __TEXT.__swift5_assocty: 0xf40
+  __TEXT.__swift5_fieldmd: 0xa8a4
+  __TEXT.__constg_swiftt: 0x8f88
+  __TEXT.__swift5_builtin: 0x474
   __TEXT.__swift5_protos: 0x90
-  __TEXT.__swift5_proto: 0x1cc4
-  __TEXT.__swift5_types: 0xbcc
-  __TEXT.__oslogstring: 0x14580
+  __TEXT.__swift5_proto: 0x1d1c
+  __TEXT.__swift5_types: 0xbd8
+  __TEXT.__oslogstring: 0x153a0
   __TEXT.__swift5_mpenum: 0x184
-  __TEXT.__swift5_capture: 0x18f4
-  __TEXT.__gcc_except_tab: 0x788
+  __TEXT.__swift5_capture: 0x1c10
+  __TEXT.__gcc_except_tab: 0x7a4
   __TEXT.__ustring: 0x4
   __TEXT.__dlopen_cstrs: 0xce
-  __TEXT.__unwind_info: 0x10ac0
-  __TEXT.__eh_frame: 0x25678
-  __TEXT.__objc_classname: 0x9f9
-  __TEXT.__objc_methname: 0x116e4
+  __TEXT.__unwind_info: 0x10d68
+  __TEXT.__eh_frame: 0x25bc0
+  __TEXT.__objc_classname: 0x9fb
+  __TEXT.__objc_methname: 0x11aee
   __TEXT.__objc_methtype: 0x19a7
-  __TEXT.__objc_stubs: 0x89c0
-  __DATA_CONST.__got: 0x1358
-  __DATA_CONST.__const: 0x1768
+  __TEXT.__objc_stubs: 0x8a40
+  __DATA_CONST.__got: 0x1360
+  __DATA_CONST.__const: 0x1798
   __DATA_CONST.__objc_classlist: 0x698
   __DATA_CONST.__objc_catlist: 0x30
   __DATA_CONST.__objc_protolist: 0x190
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x38d8
+  __DATA_CONST.__objc_selrefs: 0x3970
   __DATA_CONST.__objc_protorefs: 0xa0
   __DATA_CONST.__objc_superrefs: 0x158
   __DATA_CONST.__objc_arraydata: 0x1e0
-  __AUTH_CONST.__auth_got: 0x2430
-  __AUTH_CONST.__auth_ptr: 0x1448
-  __AUTH_CONST.__const: 0x1b810
-  __AUTH_CONST.__cfstring: 0x4940
-  __AUTH_CONST.__objc_const: 0x11180
+  __AUTH_CONST.__auth_got: 0x2468
+  __AUTH_CONST.__auth_ptr: 0x1468
+  __AUTH_CONST.__const: 0x1c2c0
+  __AUTH_CONST.__cfstring: 0x4b40
+  __AUTH_CONST.__objc_const: 0x11390
   __AUTH_CONST.__objc_doubleobj: 0x140
-  __AUTH_CONST.__objc_intobj: 0x3d8
+  __AUTH_CONST.__objc_intobj: 0x420
   __AUTH_CONST.__objc_dictobj: 0x50
   __AUTH_CONST.__objc_arrayobj: 0x198
   __AUTH.__objc_data: 0x528
   __AUTH.__data: 0xd8
-  __DATA.__objc_ivar: 0x344
-  __DATA.__data: 0x84a8
+  __DATA.__objc_ivar: 0x350
+  __DATA.__data: 0x8658
   __DATA.__objc_stublist: 0x38
-  __DATA.__bss: 0x36f28
-  __DATA.__common: 0x4d0
-  __DATA_DIRTY.__objc_data: 0x3a48
-  __DATA_DIRTY.__data: 0x8b50
+  __DATA.__bss: 0x37b28
+  __DATA.__common: 0x4d8
+  __DATA_DIRTY.__objc_data: 0x3a68
+  __DATA_DIRTY.__data: 0x8ba0
   __DATA_DIRTY.__bss: 0x890
   __DATA_DIRTY.__common: 0x78
   - /System/Library/Frameworks/Accelerate.framework/Accelerate

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 24658
-  Symbols:   9477
-  CStrings:  6813
+  Functions: 25045
+  Symbols:   9679
+  CStrings:  6937
 
Symbols:
+ _PLPhotoAnalysisMusicCurationSpecificationPHMemoryMoods
+ _PLPhotoAnalysisMusicCurationSpecificationMoodPrompt
+ _sysctl
+ _getpid
+ _PNWallpaperShelfLastViewedDateKey
+ _PFStoryTitleCategoryGenerateWithWrappedIndex
- _PLPhotoAnalysisMusicCurationSpecificationMoods
CStrings:
+ "%!s(MISSING): %!l(MISSING)d features\n    meanScore = %!f(MISSING), standardDeviation = %!f(MISSING), threshold = %!f(MISSING)\n    %!s(MISSING)\n    %!l(MISSING)d filtered features"
+ "generateNextStoryTitleStyleIndex"
+ "T@\"NSNumber\",R,N,V_calibrationVersion"
+ "DebugAlbum with name '%!{(MISSING)private}s' already exists. Skip creating debug album"
+ "initWithEmbedding:calibrationVersion:mean:standardDeviation:"
+ "%!l(MISSING)d total global traits, %!l(MISSING)d interesting global traits, %!l(MISSING)d interesting and safe global traits"
+ "coworker social group"
+ "globalTraitsDenyList"
+ "Applying moment sampling: numberOfMomentsCovered (%!l(MISSING)d) > maximumNumberOfMoments (%!l(MISSING)d), got %!l(MISSING)d out of %!l(MISSING)d assets."
+ "nightclub chaotic noisy tempestuous"
+ "initWithText:lookupIdentifier:indexCategory:"
+ "No moment bounding applied for moment expansion: numberOfAsset (%!l(MISSING)d) <= maximumNumberOfMoments (%!l(MISSING)d)"
+ "T@\"NSNumber\",R,N"
+ "No moment bounding applied for moment expansion: numberOfMomentsCovered (%!l(MISSING)d) <= maximumNumberOfMoments (%!l(MISSING)d)"
+ "exhilarate epic-journey breathtaking"
+ "family social group"
+ "Error encoding StoryPromptAttributes JSON. Description: "
+ "Not enough curated assets in story ("
+ "Finished expandAssetUUIDs with %!l(MISSING)d assets, from %!l(MISSING)d anchor assets, %!l(MISSING)d moments"
+ "Interesting global trait completions: %!{(MISSING)sensitive}s"
+ "Should not apply exact substring location matching result since the number of overlapping assets (%!l(MISSING)d) is below the threshold"
+ "chapterValidatorMinimumRatioOfNonoverlappingAssetsForDistinctShot"
+ "filteredAssetUUIDsWithMomentDensity"
+ "queryWordCount"
+ "Applied moment bounding on %!l(MISSING)d moments: discarded %!l(MISSING)d moments via sampling, went from %!l(MISSING)d assets to %!l(MISSING)d."
+ "Compatible collection tokens: %!{(MISSING)sensitive}s"
+ "Starting to process waiting room level %!l(MISSING)d"
+ "%!s(MISSING)\n\tadding asset%!s(MISSING)%!s(MISSING)"
+ "Wasn't able to fetch assets in highlights"
+ "Curating %!l(MISSING)d aiming for %!l(MISSING)d assets in total, target is %!l(MISSING)d assets per chapter"
+ "PNMaximumNumberOfMomentsForExtendedTokens"
+ "StorytellingAssets: filtering from %!l(MISSING)d assets in %!l(MISSING)d moments."
+ "Placeholder-StoryOrchestrator"
+ "Start generating placeholder assets for animation"
+ "\x04"
+ "Non-chronological chapters are valid, generating a Montage"
+ "Requested personalized sensing db assertion, result: %!{(MISSING)bool}d"
+ "InsularCuration-"
+ "_calibrationVersion"
+ "Feature representation complete"
+ "com.apple.photos.story.globalTraitsDenyList"
+ "Bounding initial retrieval with %!l(MISSING)d moments"
+ "PNMaximumNumberOfMomentsForEntireLibraryRetrieval"
+ "Tokenized Keywords: %!{(MISSING)sensitive}s -> %!{(MISSING)sensitive}s"
+ "storyTitleCategory"
+ "QueryGenerator.groundedQueryAnnotationTupleString"
+ "kPNChapterCuratorFeatureTypesForDistribution"
+ "PNWallpaperShelfLastViewedDateKey"
+ "kPNEnableStorytellingMomentFiltering"
+ "All global trait completions: %!{(MISSING)sensitive}s"
+ "No mood is above the threshold. Neutral mood is curated. Standardized scores: (%!s(MISSING))"
+ "QueryGenerator.fetchNoLocationDataAssets"
+ "maximumNumberOfMomentsForEntireLibraryRetrieval"
+ "Error persisting on-demand fallback suggestions %!@(MISSING)"
+ "Could not validate non-chronological chapters: "
+ "chapterCuratorFeatureTypesForDistribution"
+ "QueryGenerator.applySortOrder"
+ ", failing Montage\n"
+ "), falling back to LastResort"
+ "PNMaximumNumberOfMomentsForStoryGeneration"
+ "No moment sampling applied: filtered numberOfMomentsCovered (%!l(MISSING)d) <= maximumNumberOfMoments (%!l(MISSING)d), returning %!l(MISSING)d out of %!l(MISSING)d assets."
+ "Error requesting PersonalizedSensing DB assertion %!@(MISSING)"
+ "Scoping tokens chosen: %!{(MISSING)sensitive}s"
+ "Last resort case - returning top candidate key asset that is safe, might not meet other key asset criteria!"
+ "@48@0:8@16@24@32@40"
+ "momentBasedLocationAssetFetcherResultEvent"
+ "chapterValidatorMinimumNumberOfMatchingShotsForFocusedChapters"
+ "chapterValidatorMinimumRatioOfMatchingShotsForFocusedChapters"
+ "kPNChapterValidatorMinimumNumberOfMatchingShotsForFocusedChapters"
+ "portraitCropScore = "
+ "%!s(MISSING)\n\tadding to waiting room"
+ "fetchCuratedAssetsForSocialGroup:options:includeOthersInSocialGroupAssets:"
+ "uplifting inspire euphoric"
+ "maximumNumberOfMomentsForMomentExpansion"
+ "Error requesting PersonalizedSensing DB assertion, PAD isn't available"
+ "StoryMusicCuration Task started, with timeout of %!f(MISSING) seconds"
+ "getHighlightCaptions received captions for shot %!{(MISSING)sensitive}s with %!l(MISSING)d video assets: %!{(MISSING)sensitive}s"
+ "Feature '%!s(MISSING)' represented by %!l(MISSING)d assets out of %!l(MISSING)d available"
+ "Not retaining enough story assets ("
+ "validator"
+ "sampleAssetUUIDsWithMomentWeight"
+ "Final keyword results: %!{(MISSING)sensitive}s -> %!s(MISSING)"
+ "No query tokens for retrieval, immediately return all trip assets"
+ "No overlapping assets are found for queryToken \"%!{(MISSING)sensitive}s\""
+ "chapterValidatorMinimumCoverageOfStoryAssetsInFinalChapters"
+ "No \"what\"s, not expected at this point, returning retrievedAssetUUIDs"
+ "kPNChapterValidatorMinimumRatioOfMatchingShotsForFocusedChapters"
+ "meanScore = %!f(MISSING), standardDeviation = %!f(MISSING), threshold = %!f(MISSING)"
+ "maximumNumberOfMomentsForExtendedTokens"
+ "chapterValidatorMatchingRatioThresholdPerShotForFocusedChapters"
+ "Empty who/when/where/what QU response for retrieval, falling back to sampled assets from the whole library!"
+ "chapterValidatorMinimumNumberOfRetrievedFilteredAssetPerChapter"
+ "(Apple Music Search) Genre is mood dupe so skip adding it to the search prompt"
+ "%!l(MISSING)d features represented out of %!l(MISSING)d"
+ "kPNChapterValidatorMinimumCoverageOfStoryAssetsInFinalChapters"
+ "Applied exact substring location matching result to query tokens and retrieved assets (%!l(MISSING)d)"
+ "kPNChapterValidatorMinimumNumberOfRetrievedFilteredAssetPerChapter"
+ "StoryMusicCuration timed out after %!f(MISSING) seconds!"
+ "ResolveQueryUnderstanding"
+ "SuggestedAssetsForBackgroundPlayback random number generator seed = %!l(MISSING)lu, set by date."
+ "dreamy ethereal ambient"
+ "kPNChapterValidatorMinimumRatioOfNonoverlappingAssetsForDistinctShot"
+ "requestPersonalizedSensingDBAssertionWithReply:"
+ "landscapeCropScore = "
+ "applyExactSubstringLocationMatchingResult"
+ "sentimental romantic love"
+ "StorytellingAssets: selected %!l(MISSING)d from %!l(MISSING)d assets in %!l(MISSING)d moments out of %!l(MISSING)d"
+ "happy joyful fun celebration"
+ "extreme thrill high-energy strenuous"
+ "Successfully curated chapter "
+ "kPNStoryMusicCurationTimeoutSeconds"
+ "Persons and Pets"
+ "assetsInFilteredMoments: %!l(MISSING)d assets from %!l(MISSING)d filtered moments"
+ "Fetched moment UUIDs for %!l(MISSING)d assets out of the cache"
+ ", represented moment "
+ "Generating extended token collection with (%!l(MISSING)d) unambiguous query tokens, %!l(MISSING)d representative moments, %!l(MISSING)d assets (out of %!l(MISSING)d originally)."
+ "QueryGenerator.momentBasedLocationAssetFetcherResult"
+ "setInteger:forKey:"
+ "PNMaximumNumberOfMomentsForMomentExpansion"
+ "boundedAssetUUIDsForMomentExpansion"
+ "enableStorytellingMomentFiltering"
+ "household member"
+ "moodDescriptiveText"
+ "PerformMetadataRetrieval"
+ "kPNMemoryStoryNextStyleIndex"
+ "QueryGenerator.resolvedQueryTokenAndRetrievedAssets"
+ "Generated %!l(MISSING)d placeholder assets based on the user prompt"
+ "initWithEmbedding:calibrationVersion:bias:scale:"
+ "$__lazy_storage_$_storyTitleCategory"
+ "Not running global traits expansion, so defaulting to the retrieved assets for the scoping pool on which to match"
+ "Start generating random placeholder assets"
+ "Not enough assets (%!l(MISSING)d < %!l(MISSING)d, including %!l(MISSING)d fallback assets"
+ "Failed to load file for global traits deny list: %!s(MISSING). Using empty deny list."
+ "chill mellow laid-back relaxing"
+ "maximumNumberOfMomentsForStoryGeneration"
+ "boundedRepresentativeAssetUUIDsByMomentUUIDForExtendedTokens"
+ "calm slow relaxing"
+ "Neutral mood is curated. None of the filtered mood strings is valid: (%!s(MISSING))."
+ "No feature for %!s(MISSING)"
+ "Error fetching on-demand fallback suggestions %!@(MISSING)"
+ ", represented features"
+ "Generated %!l(MISSING)d random placeholder assets while waiting for the retrieved placeholder assets based on the user prompt"
+ "kPNChapterValidatorMatchingRatioThresholdPerShotForFocusedChapters"
+ "Not performing moment expansion because no \"what\" (%!{(MISSING)bool}d), \"public event\" (%!{(MISSING)bool}d), \"personal event\" (%!{(MISSING)bool}d), or \"trip\" (%!{(MISSING)bool}d) in user prompt."
+ "Generate grounded query annotation, convert \"%!{(MISSING)sensitive}s\" to location query token since there is an exact location match in photolibrary"
+ "Encoder produced no embeddings for query (%!{(MISSING)sensitive}s)"
+ "boundedAssetUUIDsForEmptyInitialRetrieval"
+ "fetchCuratedAssetsForPerson:options:"
+ "storyMusicCurationTimeoutSeconds"
+ "calibrationVersion"
+ "Missing calibration version. Falling back to using the embedding model version to find the correct thresholds."
+ "There are no overlapping moments, immediately return all asset uuids"
+ "Done processing waiting room level %!l(MISSING)d"
+ "Error reading persisted suggestions %!@(MISSING)"
+ "QueryGenerator.applyExactSubstringLocationMatchingResult"
+ "Processed all assets, still some space (%!l(MISSING)d < %!l(MISSING)d), non-empty waiting room (%!l(MISSING)d, process it one last time"
+ "requestExtendedTokenCollectionWithQueryTokensAsData:representativeMomentUUIDByAssetUUID:personOrPetUUIDsWithNegativeFeedback:reply:"
+ "Interesting collection tokens: %!{(MISSING)sensitive}s"
- "additionalRetrievalResultsByLocationQueryToken"
- "No \"what\"s, returning assetUUIDsInAllQueryExtendedTokens to use for scoping global traits expansion"
- "minimumNumberOfAssetsRequiredForWhatScopingPool"
- "Not enough curated assets in story, falling back to LastResort"
- "Update the consolidated assets and the location query tokens with the new retrieval results"
- "noLocationDataRetrievalResultsByQueryToken"
- "Finished expandAssetUUIDs with %!l(MISSING)d, from %!l(MISSING)d anchor assets, %!l(MISSING)d moments"
- "%!l(MISSING)d total global traits, %!l(MISSING)d safe global traits"
- "%!l(MISSING)d scoped assets for global traits using \"what\" search"
- "Tokenized Keywords: %!s(MISSING) -> %!s(MISSING)"
- "initWithEmbedding:bias:scale:"
- "requestExtendedTokenCollectionWithQueryTokensAsData:assetUUIDs:momentUUIDByAssetUUID:personOrPetUUIDsWithNegativeFeedback:reply:"
- "Compatible collection tokens: %!{(MISSING)private}s"
- "Scoping tokens chosen: %!{(MISSING)private}s"
- "There are %!l(MISSING)d assets after applying the location exact / substring matching filtering"
- "[isUserEligibleForAppleMusic] User is eligible but did not see privacy disclosure, returning false"
- "sceneIdentifier"
- "initWithEmbedding:mean:standardDeviation:"
- "No consolidated assets, immediately return all trip assets"
- "Start generating placeholder assets"
- "QueryUnderstandingWithRecipe"
- "Final keyword results: %!s(MISSING) -> %!s(MISSING)"
- "MomentGroundingProcessor.assetUUIDsWithoutLocationDataFromMoments"
- "PlaceholderAssetsGenerationTask has finished with %!l(MISSING)d placeholder assets"
- "Fetching moment UUIDs for %!l(MISSING)d assets"
- "StoryMusicCuration Task started"
- "Encoder produced no embeddings for query (%!s(MISSING))"
- "Only %!s(MISSING) \"what\" assets for global traits, defaulting to %!s(MISSING) who/when/where assets or entire library"
- "Mood raw string="
- "Fallback case - returning top candidate key asset that is safe, might not meet other key asset criteria!"
- "Interesting collection tokens: %!{(MISSING)private}s"
- "getHighlightCaptions received captions for shot %!{(MISSING)sensitive}s with %!l(MISSING)d video assets: %!s(MISSING)"
- "Not performing moment expansion because no \"what\" (%!{(MISSING)bool}d), \"public event\" (%!{(MISSING)bool}d), or \"personal event\" (%!{(MISSING)bool}d) in user prompt."

```
