## HomeKitDaemonLegacy

> `/System/Library/PrivateFrameworks/HomeKitDaemonLegacy.framework/HomeKitDaemonLegacy`

```diff

-1214.0.0.0.0
-  __TEXT.__text: 0xad6124
+1215.2.7.0.0
+  __TEXT.__text: 0xad9198
   __TEXT.__auth_stubs: 0x3c50
-  __TEXT.__objc_methlist: 0x6e044
+  __TEXT.__objc_methlist: 0x6e1ec
   __TEXT.__const: 0x1132c
   __TEXT.__swift5_typeref: 0xcdc
-  __TEXT.__cstring: 0x55065
+  __TEXT.__cstring: 0x5505a
   __TEXT.__constg_swiftt: 0xc38
   __TEXT.__swift5_reflstr: 0x92a
   __TEXT.__swift5_fieldmd: 0x7b8
   __TEXT.__swift5_builtin: 0x3c
   __TEXT.__swift5_assocty: 0xf0
-  __TEXT.__oslogstring: 0xf3c4f
+  __TEXT.__oslogstring: 0xf4331
   __TEXT.__swift5_proto: 0xac
   __TEXT.__swift5_types: 0x80
   __TEXT.__swift5_protos: 0x28
   __TEXT.__swift5_capture: 0x284
-  __TEXT.__gcc_except_tab: 0x26630
+  __TEXT.__gcc_except_tab: 0x2664c
   __TEXT.__dlopen_cstrs: 0x130
   __TEXT.__ustring: 0x1e
-  __TEXT.__unwind_info: 0x1f968
+  __TEXT.__unwind_info: 0x1f9e8
   __TEXT.__eh_frame: 0x17d8
-  __TEXT.__objc_classname: 0x12318
-  __TEXT.__objc_methname: 0x11aaea
-  __TEXT.__objc_methtype: 0x2511a
-  __TEXT.__objc_stubs: 0xa12a0
-  __DATA_CONST.__got: 0x5828
-  __DATA_CONST.__const: 0x15348
-  __DATA_CONST.__objc_classlist: 0x3598
+  __TEXT.__objc_classname: 0x12377
+  __TEXT.__objc_methname: 0x11adcf
+  __TEXT.__objc_methtype: 0x251f0
+  __TEXT.__objc_stubs: 0xa1340
+  __DATA_CONST.__got: 0x5870
+  __DATA_CONST.__const: 0x15498
+  __DATA_CONST.__objc_classlist: 0x35a8
   __DATA_CONST.__objc_catlist: 0x250
-  __DATA_CONST.__objc_protolist: 0x1390
+  __DATA_CONST.__objc_protolist: 0x1398
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x2fa68
+  __DATA_CONST.__objc_selrefs: 0x2fad0
   __DATA_CONST.__objc_protorefs: 0x1b8
-  __DATA_CONST.__objc_superrefs: 0x2d00
+  __DATA_CONST.__objc_superrefs: 0x2d10
   __DATA_CONST.__objc_arraydata: 0x2838
   __AUTH_CONST.__auth_got: 0x1e40
-  __AUTH_CONST.__auth_ptr: 0x3a8
-  __AUTH_CONST.__const: 0x12338
-  __AUTH_CONST.__cfstring: 0x4fe00
-  __AUTH_CONST.__objc_const: 0xe63b8
+  __AUTH_CONST.__auth_ptr: 0x3b0
+  __AUTH_CONST.__const: 0x12418
+  __AUTH_CONST.__cfstring: 0x4fdc0
+  __AUTH_CONST.__objc_const: 0xe68a0
   __AUTH_CONST.__objc_arrayobj: 0x870
   __AUTH_CONST.__objc_intobj: 0x2ef8
   __AUTH_CONST.__objc_dictobj: 0x1838
   __AUTH_CONST.__objc_doubleobj: 0x170
   __AUTH_CONST.__objc_floatobj: 0x10
-  __AUTH.__objc_data: 0x10bf8
+  __AUTH.__objc_data: 0x10c98
   __AUTH.__data: 0xe0
-  __DATA.__objc_ivar: 0x85a4
-  __DATA.__data: 0xfc58
+  __DATA.__objc_ivar: 0x85d4
+  __DATA.__data: 0xfcb8
   __DATA.__common: 0x68
-  __DATA.__bss: 0x3760
+  __DATA.__bss: 0x3788
   __DATA_DIRTY.__objc_data: 0x112d8
   __DATA_DIRTY.__data: 0x4f0
   __DATA_DIRTY.__common: 0x88

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 44538
-  Symbols:   47225
-  CStrings:  69500
+  Functions: 44592
+  Symbols:   47288
+  CStrings:  69553
 
Symbols:
+ _HMCameraClipsQuotaMessengerUpdateCloudStorageMessage
+ _HMFProductInfoCrystalBOSVersion
+ _HMCameraClipsQuotaMessengerMessageKeyZoneName
+ _HMFProductInfoMoonstoneBOSVersion
+ _HMCameraClipsQuotaMessengerFetchNamesForZonesWithEnabledCloudStorageMessage
+ _HMCameraClipsQuotaMessengerMessageKeyZoneNames
+ _OBJC_CLASS_$_HMCameraClipsQuotaMessenger
+ _HMCameraClipsQuotaMessengerMessageKeyIsEnabled
+ _HMFProductInfoGlowBOSVersion
+ _HMFProductInfoConstellationBOSVersion
+ _HMFProductInfoSapphireBOSVersion
- _OBJC_CLASS_$_HMMCountersManager
- _HMMCoreDataCountersModelName
CStrings:
+ "carPlayConnected"
+ "@\"CARSessionStatus\""
+ "HMDCameraClipsQuotaMessenger"
+ "%!{(MISSING)public}@Unhandled MR command case %!u(MISSING)"
+ "HMDCameraProfileSettingsQuotaCoordinatorDelegate"
+ "%!{(MISSING)public}@New CarPlay session connected"
+ "B16@?0@\"NSError\"8"
+ "%!{(MISSING)public}@Synchronizing cloud storage using enabled cloud storage zone names: %!@(MISSING)"
+ "TB,N,GisCarPlayConnected,V_carPlayConnected"
+ "%!{(MISSING)public}@There are residents for home: %!@(MISSING), but we are not the primary. Not saving ThreadOperationalDataset."
+ "@\"HMDHomeWalletKey\"32@?0@\"HMDHomeWalletKey\"8^B16^B24"
+ "%!{(MISSING)public}@Disabling cloud storage"
+ "startedConnectionAttemptOnTransport:"
+ "T@\"<HMDCameraProfileSettingsQuotaCoordinatorDelegate>\",W,V_delegate"
+ "_carPlayConnected"
+ "%!{(MISSING)public}@Disabling recording access modes by updating at home access mode to %!@(MISSING)"
+ "_synchronizeCloudStorageWithCurrentCamerasWithCompletion:"
+ "%!{(MISSING)public}@Disabling cloud storage for unknown zone name: %!@(MISSING)"
+ "T@\"_HMCameraUserSettings\",R,C"
+ "cancelledConnectionAttemptOnTransport:"
+ "initWithWorkQueue:accessory:quotaManager:"
+ "12.1"
+ "v24@0:8@\"CARSession\"16"
+ "@\"NSError\"16@?0@\"HMDMROutputDeviceStatus\"8"
+ "initWithUniqueIdentifier:hapAccessory:workQueue:zoneManager:notificationCenter:bulletinBoard:characteristicsAvailabilityListener:quotaCoordinator:featuresDataSource:"
+ "\x02SB\x1e\x12\x1f\x0f\x0f\x04\x19\x13\x16\x1f\n\x1f"
+ "%!{(MISSING)public}@Could not determine camera clips zone name for synchronizing cloud storage with recording access modes"
+ "com.apple.SoundScapes"
+ "_performOperationWithBlock:"
+ "quotaManagerFactory"
+ "updateSettingsModelUsingBlock:completion:"
+ "T@\"CARSessionStatus\",&,N,V_carPlaySessionStatus"
+ "setLastCarPlaySessionDisconnectionTimeStamp:"
+ "Simulated"
+ "setQuotaManagerFactory:"
+ "camera.profile.settings.quota.coordinator"
+ "sessionDidDisconnect:"
+ "_quotaCoordinator"
+ "%!{(MISSING)public}@Failed to enable recording while updating access mode due to quota exceeded error: %!@(MISSING)"
+ "hmPrivateErrorWithCode:userInfo:"
+ "%!{(MISSING)public}@CarPlay session is connected right now. Trusting this location"
+ "%!{(MISSING)public}@Synchronizing cloud storage with current cameras"
+ "v16@?0@\"HMDCameraProfileSettingsModel\"8"
+ "%!{(MISSING)public}@Enabling cloud storage"
+ "@\"<HMDCameraProfileSettingsQuotaCoordinatorDelegate>\""
+ "carPlaySessionStatus"
+ "Tq,V_processAbnormalExitCount"
+ "handleFetchNamesForZonesWithEnabledCloudStorageMessage:"
+ "generateOverallResultAndFinishWithDeviceStatuses:overallError:"
+ "@\"HMDCameraClipsQuotaMessenger\""
+ "%!{(MISSING)public}@We do not know whether there was any active car play session in the past from last homed boot. Considering this location as simulated"
+ "%!{(MISSING)public}@Successfully enabled recording while synchronizing cloud storage"
+ "cameraClipsQuotaMessenger"
+ "camera.recording.quota.messenger"
+ "sessionDidConnect:"
+ "lastCarPlaySessionDisconnectionTimeStamp"
+ "@\"_HMCameraUserSettings\"16@0:8"
+ "setProcessAbnormalExitCount:"
+ "@\"HMDCameraClipsQuotaManager\"8@?0"
+ "T@\"NSOperationQueue\",R,V_operationQueue"
+ "%!{(MISSING)public}@Successfully fetched names for zones with enabled cloud storage: %!@(MISSING)"
+ "CLLocation+HMFObject"
+ "%!{(MISSING)public}@Handling fetch names for zones with enabled cloud storage message: %!{(MISSING)public}@"
+ "%!{(MISSING)public}@Updating cloud storage to %!@(MISSING) for zone with name: %!@(MISSING)"
+ "session:didUpdateConfiguration:"
+ "_carPlaySessionStatus"
+ "%!{(MISSING)public}@Successfully disabled cloud storage while synchronizing with current cameras"
+ "\x11\xf0\xf0\xf0\xf0\xf0\xf0\xe1"
+ "_quotaManagerFactory"
+ "T@\"HMDCameraRecordingLoadBalancer\",R,N,V_cameraLoadBalancer"
+ "_requiresDisablingCloudStorageForAccessMode:isAtHome:"
+ "errorCodeForCurrentOperation"
+ "%!{(MISSING)public}@Failed to disable cloud storage while synchronizing with current cameras: %!@(MISSING)"
+ "_cameraClipsQuotaMessenger"
+ "%!{(MISSING)public}@Cannot find zone name in update cloud storage message payload: %!@(MISSING)"
+ "@\"HMDCameraProfileSettingsQuotaCoordinator\""
+ "isLocationSimulatedBasedOnCarPlay"
+ "setCarPlaySessionStatus:"
+ "setCarPlayConnected:"
+ "_disableCloudStorage"
+ "T@\"HMDCameraClipsQuotaMessenger\",R,V_cameraClipsQuotaMessenger"
+ "%!{(MISSING)public}@Retrying updating access mode after disabling cloud storage"
+ "%!{(MISSING)public}@Asked to synchronize cloud storage with current cameras but home manager reference is nil"
+ "_lastCarPlaySessionDisconnectionTimeStamp"
+ "%!{(MISSING)public}@Failed to fetch names for zones with enabled cloud storage: %!@(MISSING)"
+ "%!{(MISSING)public}@CarPlay session disconnected"
+ "T@\"HMDCameraProfileSettingsQuotaCoordinator\",R,V_quotaCoordinator"
+ "updateCloudStorageAndSettingsWithAccessMode:forIsAtHome:completion:"
+ "%!{(MISSING)public}@Synchronizing cloud storage while updating access mode due to quota exceeded error: %!@(MISSING)"
+ "cameraClipsZoneName"
+ "HMDCameraProfileSettingsQuotaCoordinator"
+ "isCarPlayConnected"
+ "%!{(MISSING)public}@Could not determine camera clips zone name for updating cloud storage and settings"
+ "_enableCloudStorage"
+ "v32@0:8@\"CARSession\"16@\"CARSessionConfiguration\"24"
+ "%!{(MISSING)public}@It was a while between disconnecting the CarPlay session and when this location was determined. Considering this location as simulated. Last active CarPlay session: [%!@(MISSING)], location timestamp: [%!@(MISSING)], timeDiff: %!@(MISSING)"
+ "%!{(MISSING)public}@Generic MR command error"
+ "\x12\x19"
+ "T@\"NSDate\",&,N,V_lastCarPlaySessionDisconnectionTimeStamp"
+ "CARSessionObserving"
+ "T@?,C,V_quotaManagerFactory"
+ "quotaCoordinator"
+ "%!{(MISSING)public}@Processing remote request to synchronize cloud storage with recording access modes"
+ "%!{(MISSING)public}@Disabling recording access modes by updating not at home access mode to %!@(MISSING)"
+ "addSessionObserver:"
+ "%!{(MISSING)public}@CLLocation timestamp is nil. We don't know whether we can trust it. Considering this location as simulated"
+ "_requiresEnablingCloudStorageForAccessMode:"
+ "v32@0:8@?<v@?@\"HMDCameraProfileSettingsModel\">16@?<v@?@\"NSError\">24"
- "persistent counter storage failed to load"
- "%!{(MISSING)public}@Querying for can disable recording"
- "loadPersistentStoreWithError:"
- "mutableConnections"
- "\x02SB\x1e\x12\x1f\x0f\x0f\x03\x19\x13\x16\x1f\n\x1f"
- "_updateSettingsWithAccessMode:forIsAtHome:completion:"
- "%!{(MISSING)public}@There are residents for home: %!@(MISSING), but we are not the primary. Updated locally but not syncing ThreadOperationalDataset."
- "%!{(MISSING)public}@Querying for can enable recording"
- "Volume or state invalid"
- "Could not find endpoint"
- "T@\"HMXPCMessageTransportConfiguration\",R,C,V_configuration"
- "enableCloudStorage"
- "T@\"<HMDCameraProfileSettingsManagerDelegate>\",W,V_delegate"
- "&\x11"
- "T@\"HMDCameraRecordingLoadBalancer\",&,N,V_cameraLoadBalancer"
- "%!{(MISSING)public}@Disable recording access modes by updating not at home access mode to %!@(MISSING)"
- "No action to take or hashed routes"
- "cameraProfileSettingsManager:canEnableRecordingWithCompletion:"
- "\x11\xf0\xf0\xf0\xf0\xf0\xf0\xd1"
- "HMDCameraProfileSettingsManagerDelegate"
- "%!{(MISSING)public}@CLLocation is simulated by the accessory and CarPlay is not connected."
- "Disabling recording access modes"
- "Session Data nil"
- "accessModeOperationQueue"
- "%!{(MISSING)public}@Failed to create new counters manager. Falling back to legacy manager. Error: %!@(MISSING)"
- "Session Data is nil, could not send action"
- "initWithUniqueIdentifier:hapAccessory:workQueue:zoneManager:notificationCenter:bulletinBoard:characteristicsAvailabilityListener:featuresDataSource:"
- "@\"<HMDCameraProfileSettingsManagerDelegate>\""
- "%!{(MISSING)public}@Failed to disable recording access modes: %!@(MISSING)"
- "_shouldQueryCanEnableRecordingForAccessMode:"
- "_shouldQueryCanDisableRecordingForAccessMode:isAtHome:"
- "\x11\x11\x19"
- "%!{(MISSING)public}@Asked to disable cloud storage"
- "T@\"NSOperationQueue\",R,V_accessModeOperationQueue"
- "performAccessModeOperationWithBlock:"
- "CoreDataMetricCounters"
- "hmfErrorWithCode:userInfo:"
- "T@\"NSXPCInterface\",R,V_remoteObjectInterface"
- "@\"HMDHomeWalletKey\"24@?0@\"HMDHomeWalletKey\"8^B16"
- "T@\"NSMutableSet\",R,V_mutableConnections"
- "Failed to load persistent counter storage"
- "T@\"<HMDXPCListener>\",R,V_listener"
- "generateOverallResultAndFinishWithDeviceStatuses:"
- "disableCloudStorage"
- "cameraProfileSettingsManager:canDisableRecordingWithCompletion:"
- "initWithDataModelName:atPath:"
- "%!{(MISSING)public}@Processing request to synchronize cloud storage with recording access modes"
- "T@\"<HMDAppProtectionGuard>\",R,V_appProtectionGuard"
- "setCameraLoadBalancer:"
- "_accessModeOperationQueue"
- "%!{(MISSING)public}@Asked to enable cloud storage"
- "%!{(MISSING)public}@Disable recording access modes by updating at home access mode to %!@(MISSING)"
- "v32@0:8@\"HMDCameraProfileSettingsManager\"16@?<v@?B@\"NSError\">24"
- "T@\"NSXPCInterface\",R,V_exportedInterface"

```
