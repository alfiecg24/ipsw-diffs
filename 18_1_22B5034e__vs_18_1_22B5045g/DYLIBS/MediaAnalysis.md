## MediaAnalysis

> `/System/Library/PrivateFrameworks/MediaAnalysis.framework/MediaAnalysis`

```diff

-285.5.2.0.0
-  __TEXT.__text: 0x400a4c
-  __TEXT.__auth_stubs: 0x3570
-  __TEXT.__objc_methlist: 0x1942c
+285.9.1.0.0
+  __TEXT.__text: 0x40ac50
+  __TEXT.__auth_stubs: 0x3580
+  __TEXT.__objc_methlist: 0x1960c
   __TEXT.__const: 0x13fa8
-  __TEXT.__gcc_except_tab: 0x57cbc
-  __TEXT.__cstring: 0x1e643
-  __TEXT.__oslogstring: 0x241db
+  __TEXT.__gcc_except_tab: 0x58edc
+  __TEXT.__cstring: 0x1e863
+  __TEXT.__oslogstring: 0x2468b
   __TEXT.__dlopen_cstrs: 0x579
   __TEXT.__ustring: 0x40
   __TEXT.__swift5_typeref: 0x9c

   __TEXT.__swift5_fieldmd: 0x44
   __TEXT.__swift5_proto: 0xc
   __TEXT.__swift5_types: 0xc
-  __TEXT.__unwind_info: 0xfc88
+  __TEXT.__unwind_info: 0xfe38
   __TEXT.__eh_frame: 0x1e0
-  __TEXT.__objc_classname: 0x3b6e
-  __TEXT.__objc_methname: 0x38b8b
-  __TEXT.__objc_methtype: 0xca8e
-  __TEXT.__objc_stubs: 0x264e0
-  __DATA_CONST.__got: 0x18d8
-  __DATA_CONST.__const: 0x5e40
-  __DATA_CONST.__objc_classlist: 0x1078
+  __TEXT.__objc_classname: 0x3ba7
+  __TEXT.__objc_methname: 0x393c8
+  __TEXT.__objc_methtype: 0xcba3
+  __TEXT.__objc_stubs: 0x26aa0
+  __DATA_CONST.__got: 0x1968
+  __DATA_CONST.__const: 0x5eb8
+  __DATA_CONST.__objc_classlist: 0x1088
   __DATA_CONST.__objc_catlist: 0x198
   __DATA_CONST.__objc_protolist: 0x120
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0xb750
+  __DATA_CONST.__objc_selrefs: 0xb8d8
   __DATA_CONST.__objc_protorefs: 0x58
-  __DATA_CONST.__objc_superrefs: 0xdb0
+  __DATA_CONST.__objc_superrefs: 0xdc0
   __DATA_CONST.__objc_arraydata: 0x1060
-  __AUTH_CONST.__auth_got: 0x1ad0
+  __AUTH_CONST.__auth_got: 0x1ad8
   __AUTH_CONST.__auth_ptr: 0x108
   __AUTH_CONST.__const: 0x5618
-  __AUTH_CONST.__cfstring: 0x148c0
-  __AUTH_CONST.__objc_const: 0x353d0
+  __AUTH_CONST.__cfstring: 0x14a00
+  __AUTH_CONST.__objc_const: 0x35790
   __AUTH_CONST.__objc_floatobj: 0x250
-  __AUTH_CONST.__objc_doubleobj: 0x400
-  __AUTH_CONST.__objc_intobj: 0x2aa8
+  __AUTH_CONST.__objc_doubleobj: 0x410
+  __AUTH_CONST.__objc_intobj: 0x2af0
   __AUTH_CONST.__objc_arrayobj: 0xae0
   __AUTH_CONST.__objc_dictobj: 0xc8
-  __AUTH.__objc_data: 0xf0
+  __AUTH.__objc_data: 0x140
   __AUTH.__thread_vars: 0x30
   __AUTH.__thread_bss: 0x9c9
-  __DATA.__objc_ivar: 0x2f78
+  __DATA.__objc_ivar: 0x2fc4
   __DATA.__data: 0x1898
   __DATA.__bss: 0x929
   __DATA.__common: 0x3b9
-  __DATA_DIRTY.__objc_data: 0xa4c0
+  __DATA_DIRTY.__objc_data: 0xa510
   __DATA_DIRTY.__data: 0x188
   __DATA_DIRTY.__bss: 0x860
   - /System/Library/Frameworks/AVFAudio.framework/AVFAudio

   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 15176
-  Symbols:   19021
-  CStrings:  17356
+  Functions: 15270
+  Symbols:   19133
+  CStrings:  17471
 
Symbols:
+ _kVTCompressionPropertyKey_MinimizeMemoryUsage
+ _kVTCompressionPropertyKey_MinAllowedFrameQP
+ _AVVideoCleanApertureHorizontalOffsetKey
+ _AVVideoCleanApertureWidthKey
+ _kVTCompressionPropertyKey_ExpectedFrameRate
+ _kVTCompressionPropertyKey_MaxKeyFrameIntervalDuration
+ _OBJC_CLASS_$_CMISmartStyleUtilitiesV1
+ _AVVideoCleanApertureKey
+ _kVTCompressionPropertyKey_RelaxAverageBitRateTarget
+ _AVVideoCleanApertureHeightKey
+ _OBJC_CLASS_$_AVMutableMetadataItem
+ _AVVideoCleanApertureVerticalOffsetKey
+ _OBJC_CLASS_$_AVAssetWriterInputMetadataAdaptor
+ _VCPKeyValuePersonalizationCheckpointReportedTimestamp
+ _AVMetadataFormatQuickTimeUserData
+ _kCMMetadataBaseDataType_RawData
+ _AVMetadataKeySpaceQuickTimeUserData
+ _AVMetadataQuickTimeUserDataKeyTaggedCharacteristic
+ _CFPropertyListCreateData
CStrings:
+ "com.apple.mediaanalysisd.movieassetwriter.mediaDataRequest.auxEncoding"
+ "_unstyledImagePixelBufferPool"
+ "setExpectsMediaDataInRealTime:"
+ "revertStyle:withMetadata:withDeltaMap:"
+ "initWithItems:timeRange:"
+ "setupAuxTrack:withOutputSize:"
+ "_vectorDatabaseReadWriteConfigWithError:"
+ "ReadOnly"
+ "^{__CVBuffer=}40@0:8^{__CVBuffer=}16@24^{__CVBuffer=}32"
+ "_useSharedModel"
+ "[MediaAnalysis] metadata 1-up timeranges add scene range : [%!f(MISSING),  %!f(MISSING)]"
+ "^{__CVBuffer=}40@0:8^{__CVBuffer=}16^{__CVBuffer=}24@32"
+ "metadataItem"
+ "VCPMADImageCaptionResource"
+ "[FRC] Aux track encoding finished"
+ "pushAuxSample:"
+ "additionalCheckForProcessingNeededForAsset:taskID:priority:"
+ "pauseGatingForNextPair"
+ "imageCaptionAnalyzer"
+ "[MediaAnalysis] embedding 1-up timeranges, add [%!f(MISSING), %!f(MISSING)], score %!f(MISSING)"
+ "ImageCaptionTask set VCPImageCaptionAnalyzer model type %!d(MISSING), safety type %!d(MISSING)"
+ "[FRC] Aux track aborted"
+ "{?=qiIq}48@0:8{?=qiIq}16@40"
+ "\x04\x11\xd6\x15\x82"
+ "setupAdditionalAuxTrack"
+ "Number of frames inconsistent with delta map samples"
+ "Failed to mark %!l(MISSING)u assets as processed for taskID %!l(MISSING)u :%!@(MISSING)"
+ "@36@0:8q16q24B32"
+ "initWithPhotoLibrary:readyOnly:"
+ "createStyleInforMetadata:timerange:"
+ "com.apple.quicktime.video-map.smart-style-linear-thumbnail"
+ "popAuxSample"
+ "[MediaAnalysis] metadata 1-up timeranges add person range : [%!f(MISSING),  %!f(MISSING)]"
+ "addAuxPixelBuffer:withTime:withAttachment:"
+ "_auxAssetReader"
+ "/Library/Caches/com.apple.xbs/Sources/MediaAnalysis/MediaAnalysis/SmartStyleMetaAnalyzer.m"
+ "_embeddingGenerationQueue"
+ "Number of frames inconsistent with smart style metadata"
+ "Setting up aux track with name: %!@(MISSING)"
+ "ReadWrite"
+ "setTime:"
+ "[VSKDB][Initialization|Search] Failed to create read-only VSKClient - %!@(MISSING)"
+ "[FRC] Aux encoding finished"
+ "[VSKDB][Initialization|%!@(MISSING)]"
+ "_smartStyleMetadata"
+ "Successfully marked %!l(MISSING)u assets as processed for taskID %!l(MISSING)u"
+ "addStyleInfoData:timerange:"
+ "[MediaAnalysis] metadata 1-up timeranges add torso range : [%!f(MISSING),  %!f(MISSING)]"
+ "[VSKDB] Failed to initialize %!@(MISSING) database - %!@(MISSING)"
+ "VCPImageCaptionAnalyzer_init"
+ "_readOnly"
+ "mad_maxIgnoredAssetsToMarkAsProcessed"
+ "findStyleInfoTrack:"
+ "readOnly"
+ "vcp_needsFullAnalysisProcessing:"
+ "i32@0:8^{opaqueCMSampleBuffer=}16@24"
+ "getFramePTSAfter:forAsset:"
+ "initWithOptionalMetalCommandQueue:useCase:"
+ "findDeltaTrack:"
+ "appendOutput:toWriterInput:"
+ "_previousSmartStyleMetadata"
+ "com.apple.quicktime.video-map.smart-style-delta-map"
+ "combineVideoSegmentsWithAssetWriter"
+ "com.apple.mediaanalysisd.textencoder"
+ "initWithModelType:safetyType:"
+ "_deltaMapPixelBufferPool"
+ "Hands are too close in palmDistance %!f(MISSING) when double-thumbsup, avgPlmScale %!f(MISSING)"
+ "B32@0:8@16Q24"
+ "_previousFrameOrigianlPTS"
+ "[MADEmbeddingStoreService] calling service from client process (%!@(MISSING)), using read-only vector database"
+ "_smartStyleUtilities"
+ "read-write"
+ "assetWriterInput"
+ "%!@(MISSING) Start ..."
+ "calculateDeltaforUnstyledFrame:styledFrame:withCoefficients:"
+ "initWithCaptionModelType:captionSafetyType:useSharedModel:"
+ "@\"CMISmartStyleUtilitiesV1\""
+ "[%!@(MISSING)][%!@(MISSING)] Unsupported taskID %!l(MISSING)u"
+ "VCPSmartStyleMetaAnalyzer"
+ "Missing metadata"
+ "com.apple.metadata.datatype.raw-data"
+ "addAdditionalAuxTracks:toTrack:"
+ "mad_isProcessingNeededOnAsset:forTaskID:"
+ "setMediaAnalysisImageVersion:"
+ "TB,N,V_readOnly"
+ "[MediaAnalysis] metadata 1-up timeranges add sound range : [%!f(MISSING),  %!f(MISSING)]"
+ "appendTimedMetadataGroup:"
+ "read-only"
+ "addInputMediaType:toWriter:forTrack:"
+ "setDataType:"
+ "appendOutput:toWriterInput:startTimeStamp:endTimeStamp:offset:duration:"
+ "_deltaTrackDecoder"
+ "%!@(MISSING) Failed to initialize VSKClient - %!@(MISSING)"
+ "%!@(MISSING) Operation not permitted for read-only client"
+ "[FRC] Aux encoding aborted"
+ "[VSKDB][Initialization|Search] Failed to create read-only vskConfig - %!@(MISSING)"
+ "%!@(MISSING) Warming up"
+ "_nextAuxSamplePTS"
+ "initWithMediaType:outputSettings:"
+ "[FRC] Aux track failed"
+ "[FRC] Aux encoding failed"
+ "%!@(MISSING) Failed to create vskConfig - %!@(MISSING)"
+ "Failed to add AVAssetWriterInput"
+ "@\"VCPMADImageCaptionResource\"8@?0"
+ "initWithAssetWriterInput:"
+ "computeOriginalUnstyledPixelBufferFrom:inputDeltaMapPixelBuffer:inputMetadataDict:outputUnstyledPixelBuffer:"
+ "setLowMemoryMode:"
+ "Unable to compute unstyled buffer"
+ "%!@(MISSING) Loaded configuration %!@(MISSING) at directory %!@(MISSING)"
+ "computeDeltaMapForSourcePixelBuffer:targetPixelBuffer:coefficientsDict:outputDeltaMapPixelBuffer:"
+ "T@\"VCPImageCaptionAnalyzer\",R,N"
+ "setStickerConfidenceScore:stickerAlgorithmVersion:"
+ "ImageCaptionTask not supported on this device, requires devices >=D5x"
+ "_imageCaptionAnalyzer"
+ "mdta/com.apple.quicktime.smartstyle-info"
+ "findLearnedTrack:"
+ "v32@0:8Q16@24"
+ "sharedResourceForModelType:safetyType:"
+ "databaseWithPhotoLibrary:readyOnly:"
+ "setMarksOutputTrackAsEnabled:"
+ "[MADEmbeddingStoreService] calling service from MAD daemon (%!@(MISSING))"
+ "setGeneratedAssetDescription:analysisVersion:sourceType:"
+ "mad_markAsProcessedByTask:forAssets:"
+ "setMediaAnalysisVersion:"
+ "passthroughAuxTrackFrom:to:"
+ "interpolateCoefficientsFromStartFrameMetadataDict:startFrameTime:endFrameMetadataDict:endFrameTime:frameTimesToInterpolate:"
+ "_vectorDatabaseReadOnlyConfigWithError:"
+ "[MediaAnalysis] metadata 1-up timeranges add action range : [%!f(MISSING),  %!f(MISSING)]"
+ "\x04\x11"
+ "@\"VCPImageCaptionAnalyzer\""
+ "PersonalizationCheckpointReportedTimestamp"
+ "_mad_markAsProcessedByTask:forAsset:"
- "[VSKDB] Failed to initialize - %!@(MISSING)"
- "_vectorDatabaseReadonlyConfigWithError:"
- "[VSKDB][Initialization] Failed to initialize VSKClient - %!@(MISSING)"
- "[MediaAnalysis] embedding 1-up timeranges [%!f(MISSING), %!f(MISSING)], score %!f(MISSING)"
- "[VSKDB][Initialization] Failed to create readonly vskConfig - %!@(MISSING)"
- "[FaceCropManager][%!@(MISSING)] No face detected; force faceprinting"
- "\x04\x11\xd6\x11"
- "[VSKDB] Failed to create readonly VSKClient - %!@(MISSING)"
- "[VSKDB][Initialization] client %!@(MISSING)"
- "[VSKDB][Initialization] warming up"
- "databaseWithPhotoLibrary:"
- "initWithCaptionModelType:captionSafetyType:"
- "[VSKDB][Initialization] Failed to create vskConfig - %!@(MISSING)"
- "[VSKDB][Initialization] Start ..."
- "vcp_needsFullAnalysisProcessing"
- "[VSKDB][Initialization] Load configuration %!@(MISSING) at directory %!@(MISSING)"
- "_vectorDatabaseConfigWithError:"
- "PetsParity"

```
