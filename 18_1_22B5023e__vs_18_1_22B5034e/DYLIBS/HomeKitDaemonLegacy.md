## HomeKitDaemonLegacy

> `/System/Library/PrivateFrameworks/HomeKitDaemonLegacy.framework/HomeKitDaemonLegacy`

```diff

-1208.0.0.0.0
-  __TEXT.__text: 0xacdda0
-  __TEXT.__auth_stubs: 0x3b00
-  __TEXT.__objc_methlist: 0x6dfa4
-  __TEXT.__cstring: 0x54d63
-  __TEXT.__swift5_typeref: 0xa98
-  __TEXT.__const: 0x10fec
-  __TEXT.__constg_swiftt: 0xb44
-  __TEXT.__swift5_builtin: 0x28
-  __TEXT.__swift5_reflstr: 0x7da
-  __TEXT.__swift5_fieldmd: 0x704
-  __TEXT.__swift5_assocty: 0xa8
-  __TEXT.__swift5_proto: 0x84
-  __TEXT.__swift5_types: 0x70
+1214.0.0.0.0
+  __TEXT.__text: 0xad6124
+  __TEXT.__auth_stubs: 0x3c50
+  __TEXT.__objc_methlist: 0x6e044
+  __TEXT.__const: 0x1132c
+  __TEXT.__swift5_typeref: 0xcdc
+  __TEXT.__cstring: 0x55065
+  __TEXT.__constg_swiftt: 0xc38
+  __TEXT.__swift5_reflstr: 0x92a
+  __TEXT.__swift5_fieldmd: 0x7b8
+  __TEXT.__swift5_builtin: 0x3c
+  __TEXT.__swift5_assocty: 0xf0
+  __TEXT.__oslogstring: 0xf3c4f
+  __TEXT.__swift5_proto: 0xac
+  __TEXT.__swift5_types: 0x80
   __TEXT.__swift5_protos: 0x28
   __TEXT.__swift5_capture: 0x284
-  __TEXT.__oslogstring: 0xf37e1
-  __TEXT.__gcc_except_tab: 0x266a0
+  __TEXT.__gcc_except_tab: 0x26630
   __TEXT.__dlopen_cstrs: 0x130
   __TEXT.__ustring: 0x1e
-  __TEXT.__unwind_info: 0x1f890
-  __TEXT.__eh_frame: 0x16f0
-  __TEXT.__objc_classname: 0x12273
-  __TEXT.__objc_methname: 0x11a9bf
-  __TEXT.__objc_methtype: 0x24f7e
-  __TEXT.__objc_stubs: 0xa1320
-  __DATA_CONST.__got: 0x57e0
-  __DATA_CONST.__const: 0x152c0
-  __DATA_CONST.__objc_classlist: 0x3588
+  __TEXT.__unwind_info: 0x1f968
+  __TEXT.__eh_frame: 0x17d8
+  __TEXT.__objc_classname: 0x12318
+  __TEXT.__objc_methname: 0x11aaea
+  __TEXT.__objc_methtype: 0x2511a
+  __TEXT.__objc_stubs: 0xa12a0
+  __DATA_CONST.__got: 0x5828
+  __DATA_CONST.__const: 0x15348
+  __DATA_CONST.__objc_classlist: 0x3598
   __DATA_CONST.__objc_catlist: 0x250
-  __DATA_CONST.__objc_protolist: 0x1348
+  __DATA_CONST.__objc_protolist: 0x1390
   __DATA_CONST.__objc_imageinfo: 0x8
   __DATA_CONST.__objc_selrefs: 0x2fa68
-  __DATA_CONST.__objc_protorefs: 0x198
+  __DATA_CONST.__objc_protorefs: 0x1b8
   __DATA_CONST.__objc_superrefs: 0x2d00
   __DATA_CONST.__objc_arraydata: 0x2838
-  __AUTH_CONST.__auth_got: 0x1d98
-  __AUTH_CONST.__auth_ptr: 0x2a0
-  __AUTH_CONST.__const: 0x12288
-  __AUTH_CONST.__cfstring: 0x4fe60
-  __AUTH_CONST.__objc_const: 0xe59d8
+  __AUTH_CONST.__auth_got: 0x1e40
+  __AUTH_CONST.__auth_ptr: 0x3a8
+  __AUTH_CONST.__const: 0x12338
+  __AUTH_CONST.__cfstring: 0x4fe00
+  __AUTH_CONST.__objc_const: 0xe63b8
   __AUTH_CONST.__objc_arrayobj: 0x870
-  __AUTH_CONST.__objc_intobj: 0x2f28
+  __AUTH_CONST.__objc_intobj: 0x2ef8
   __AUTH_CONST.__objc_dictobj: 0x1838
   __AUTH_CONST.__objc_doubleobj: 0x170
   __AUTH_CONST.__objc_floatobj: 0x10
-  __AUTH.__objc_data: 0x10a10
-  __AUTH.__data: 0x80
+  __AUTH.__objc_data: 0x10bf8
+  __AUTH.__data: 0xe0
   __DATA.__objc_ivar: 0x85a4
-  __DATA.__data: 0xf900
-  __DATA.__bss: 0x32c8
-  __DATA.__common: 0x58
-  __DATA_DIRTY.__objc_data: 0x11328
-  __DATA_DIRTY.__data: 0x4e8
+  __DATA.__data: 0xfc58
+  __DATA.__common: 0x68
+  __DATA.__bss: 0x3760
+  __DATA_DIRTY.__objc_data: 0x112d8
+  __DATA_DIRTY.__data: 0x4f0
   __DATA_DIRTY.__common: 0x88
-  __DATA_DIRTY.__bss: 0xe98
+  __DATA_DIRTY.__bss: 0xe88
   - /System/Library/Frameworks/AVFoundation.framework/AVFoundation
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/CloudKit.framework/CloudKit

   - /usr/lib/swift/libswiftObjectiveC.dylib
   - /usr/lib/swift/libswiftQuartzCore.dylib
   - /usr/lib/swift/libswiftSpatial.dylib
+  - /usr/lib/swift/libswiftSynchronization.dylib
   - /usr/lib/swift/libswiftUniformTypeIdentifiers.dylib
   - /usr/lib/swift/libswiftXPC.dylib
   - /usr/lib/swift/libswift_Builtin_float.dylib

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 44432
-  Symbols:   47221
-  CStrings:  69449
+  Functions: 44538
+  Symbols:   47225
+  CStrings:  69500
 
Symbols:
+ _HMActiveAssertionUUIDMessageKey
+ _OBJC_CLASS_$_HMDHomeManagerXPCClientConnectionsManagerFactory
+ _swift_getObjCClassFromMetadata
+ _swift_unknownObjectRelease_n
+ _HMActiveAssertionUpdateStateMessage
+ _swift_dynamicCastObjCClass
+ _swift_runtimeSupportsNoncopyableTypes
+ _OBJC_CLASS_$__TtC19HomeKitDaemonLegacy38HomeManagerXPCClientConnectionsManager
+ _OBJC_METACLASS_$_HMDHomeManagerXPCClientConnectionsManagerFactory
+ _OBJC_METACLASS_$__TtC19HomeKitDaemonLegacy38HomeManagerXPCClientConnectionsManager
- _HMActiveAssertionMessage
CStrings:
+ "handleXPCConnectionDidDeactivateNotification:"
+ "setAccessoryServer:"
+ "T@\"HMDCHIPAccessoryStorage\",&,N"
+ "T@\"NSUUID\",R,V_userSelectedPreferredIdentifier"
+ "handleProcessInfoStateChangedNotification:"
+ "HMDMatterAccessoryFeatureProtocol"
+ "%!{(MISSING)public}@Control flow: Cannot retrieve or generate thread preferred network on this platform"
+ "v24@0:8@\"HMDCHIPAccessoryStorage\"16"
+ "_chipAccessoryServer"
+ "%!{(MISSING)public}@Pairing flow: Using cached AOD, validating operational dataset"
+ "_TtC19HomeKitDaemonLegacy38HomeManagerXPCClientConnectionsManager"
+ "T@\"HMMTRAccessoryServer\",&,N,V_chipAccessoryServer"
+ "v32@0:8@\"NSSet\"16@\"NSSet\"24"
+ "HomeKitDaemonLegacy/HomeManagerXPCClientConnectionsManager.swift"
+ "Setting initial home manager policy parameters on connection: %!@(MISSING)"
+ "userSelectedPreferredIdentifier"
+ "T@\"NSUUID\",N,R"
+ "%!{(MISSING)public}@Ignoring application state change as the connection is invalidated"
+ "%!{(MISSING)public}@Pairing flow: retrievePreferredCredentialsInternally failed : %!@(MISSING)"
+ "handleXPCConnectionDeactivatedNotification:"
+ "Could not find assertion UUID in update state message payload"
+ "%!{(MISSING)public}@Control flow: retrievePreferredNetworkWithNoScan returned THCredential:%!@(MISSING), uuid %!@(MISSING)"
+ "%!{(MISSING)public}@Failed to find location from data: %!@(MISSING)"
+ "_invalidated"
+ "TB,N,R"
+ "%!{(MISSING)public}@Pairing flow: No cached AOD, calling retrieveOrGeneratePreferredNetworkInternally"
+ "accessoryServer"
+ "setInvalidated:"
+ "XPC connection did activate notification object was not a HMDXPCClientConnection: %!s(MISSING)"
+ "_chipExtendedMACAddress"
+ "%!{(MISSING)public}@Accessory model is nil"
+ "writeCharacteristicValues:source:message:identifier:qualityOfService:withCompletionHandler:"
+ "setMatterWEDSupport:"
+ "@\"HMMTRAccessoryServer\""
+ "T@\"<HMDClientConnectionDataSource>\",R,V_dataSource"
+ "reactivate"
+ "v32@0:8@\"HMMLogEvent\"16@\"NSError\"24"
+ "T@\"<HMDMessageRouter>\",&,N"
+ "T@\"HMDAccessory<HMDMatterAccessoryProtocol>\",W,V_accessory"
+ "initWithMessageDispatcher:messageTargetUUID:messageReceiveQueue:accessoryBrowser:logEventSubmitter:"
+ "%!{(MISSING)public}@registerForMatterFabricNotifications:NO - allow deregistration for client %!@(MISSING), registrationIdentifier = %!@(MISSING)"
+ "@\"<HMDHomeManagerXPCClientConnectionsManager>\""
+ "T@\"HMMTRAccessoryServer\",&,N"
+ "@\"HMDAccessory<HMDMatterAccessoryProtocol>\"16@?0@\"HMDAccessory\"8"
+ "%!{(MISSING)public}@Generated sync data with siri generation counter: %!t(MISSING)u"
+ "HMDHomeManagerXPCClientConnectionsManager"
+ "@\"<HMDCarPlayDataSource>\"16@0:8"
+ "makeInstanceWithMessageDispatcher:messageTargetUUID:messageReceiveQueue:accessoryBrowser:logEventSubmitter:"
+ "@\"<HMDMessageRouter>\"16@0:8"
+ "T@\"NSArray\",R,C,V_autoSelectedPreferredIdentifiers"
+ "_matterSoftwareVersionNumber"
+ "_autoSelectedPreferredIdentifiers"
+ "\x02/\x06\x1a\x12\x18\x16$+"
+ "setMatterExtendedMACAddress:"
+ "%!{(MISSING)public}@Control flow: Failed to retrieve preferred thread network credentials record : %!@(MISSING)"
+ "%!{(MISSING)public}@Pairing flow: retrieveOrGeneratePreferredNetworkInternally failed : %!@(MISSING)"
+ "Connection send policy parameters mutable copy was not of type HMDMutableHomeManagerXPCMessageSendPolicyParameters"
+ "isFeatureMatteriPhoneOnlyPairingControlEnabled"
+ "autoSelectedPreferredIdentifiers"
+ "_processTestModeUpdateHomeLocation:"
+ "HMDMatterAccessoryProtocol"
+ "HMDAccessoryFeatureProtocol"
+ "T@\"HMDBulletinBoard\",&,N"
+ "Handling deactivated XPC connection: %!@(MISSING)"
+ "@\"HMDCHIPAccessoryStorage\"16@0:8"
+ "%!{(MISSING)public}@Pairing flow: retrieveOrGeneratePreferredNetworkInternally returned THCredential:%!@(MISSING), uuid %!@(MISSING)"
+ "%!{(MISSING)public}@Used Override to determine home location : %!@(MISSING)"
+ "%!{(MISSING)public}@Not saving non-LOI home location."
+ "matterWEDSupport"
+ "%!{(MISSING)public}@Pairing flow: retrievePreferredNetworkWithNoScan failed : %!@(MISSING)"
+ "%!{(MISSING)public}@Failed to get receiver for participant accessory UUID: %!@(MISSING) due to no data source"
+ "Updating assertion with UUID %!s(MISSING) to %!{(MISSING)bool}d for connection: %!@(MISSING)"
+ "_userSelectedPreferredIdentifier"
+ "Could not find connection for active assertion message: %!@(MISSING)"
+ "_chipWEDSupport"
+ "isDeviceLocked"
+ "HomeKitDaemonLegacy.HomeManagerXPCClientConnectionsManager"
+ "registerForMatterFabricNotifications:registrationIdentifier:clientBundleIdentifier:"
+ "T@\"NSString\",C,N,V_chipExtendedMACAddress"
+ "%!{(MISSING)public}@Initiating refresh using message with identifier: %!{(MISSING)public,uuid_t}.16P"
+ "Registering as home manager active because first active connection was added"
+ "matterExtendedMACAddress"
+ "HMMLogEventSubmitting"
+ "v24@0:8@\"<HMDMessageRouter>\"16"
+ "B16@?0@\"HMDAccessory<HMDMatterAccessoryProtocol>\"8"
+ "%!{(MISSING)public}@Not invalidating already invalidated XPC connection"
+ "invalidated"
+ "Unregistering as home manager active because last active connection was removed"
+ "v32@0:8@\"HMDHAPAccessoryTransaction\"16@\"HMDBackingStoreTransactionActions\"24"
+ "%!{(MISSING)public}@registerForMatterFabricNotifications:YES - skip registering client %!@(MISSING), registrationIdentifier = %!@(MISSING)"
+ "T@\"<HMDHomeManagerXPCClientConnectionsManager>\",R,V_connectionsManager"
+ "_connectionsManager"
+ "@\"<HMDClientConnectionDataSource>\""
+ "connectionsManager"
+ "handleXPCConnectionDidActivateNotification:"
+ "T@\"<HMDCarPlayDataSource>\",R"
+ "%!{(MISSING)public}@Sending notification for updated action set %!@(MISSING)"
+ "TB,V_invalidated"
+ "kConfigTestingUpdateHomeLocationKey"
+ "T@\"NSNumber\",C,N,V_chipWEDSupport"
+ "%!{(MISSING)public}@Not processing home location overrides as build is not internal or simulator."
+ "HMDHomeManagerXPCClientConnectionsManagerFactory"
+ "%!{(MISSING)public}@Received new home location override from shared admin: %!@(MISSING), source : %!@(MISSING)"
+ "handleUpdateStateMessage:"
+ "HMDHomeLocationSourceOverride"
+ "hasActiveConnections"
+ "\x02SB\x1e\x12\x1f\x0f\x0f\x03\x19\x13\x16\x1f\n\x1f"
+ "T@\"OS_dispatch_queue\",N,R,VmessageReceiveQueue"
+ "%!{(MISSING)public}@Control flow: retrievePreferredNetworkWithNoScan failed : %!@(MISSING)"
+ "!self.invalidated"
+ "HMDXPCClientConnectionDidInvalidateNotification"
+ "Process info state changed notification object was not a HMDProcessInfo: %!s(MISSING)"
+ "@\"HMMTRAccessoryServer\"16@0:8"
+ "%!{(MISSING)public}@Generated sync data and posted sync data changed notification with siri generation counter: %!t(MISSING)u"
+ "T@\"NSNumber\",C,N,V_matterSoftwareVersionNumber"
+ "@\"HMDAccessory<HMDMatterAccessoryProtocol>\""
+ "%!{(MISSING)public}@Rejecting home location update source: %!@(MISSING)"
+ "HMDClientConnectionDataSource"
+ "handleUpdatedPairings:previousPairings:"
+ "%!{(MISSING)public}@Control flow: retrievePreferredNetworkInternallyOnMdnsAndSig returned THCredential:%!@(MISSING), uuid %!@(MISSING)"
+ "%!{(MISSING)public}@There are residents for home: %!@(MISSING), but we are not the primary. Updated locally but not syncing ThreadOperationalDataset."
+ "initWithHomeManager:queue:messageDispatcher:dataSource:"
+ "@16@?0@\"HMDAccessory<HMDMatterAccessoryProtocol>\"8"
+ "lockedState"
- "syncRequestWithDuration:serverConfigurationVersion:configurationVersion:lastSyncedConfigurationVersion:notificationReasons:"
- "\n\t"
- "%!{(MISSING)public}@Cannot retrieve or generate thread preferred network on this platform"
- "autoSelectedPreferredResidents"
- "%!{(MISSING)public}@retrievePreferredCredentialsInternally failed : %!@(MISSING)"
- "_siriSyncNotificationReasons"
- "%!{(MISSING)public}@Failed to get reciever for participant accessory UUID: %!@(MISSING) due to no data source"
- "T@\"NSArray\",R,N,V_notificationReasons"
- "%!{(MISSING)public}@Returning mostRecentNaturalLightingUsedDate with nil since feature is not supported"
- "__addActiveConnection:"
- "_browseAssertion"
- "_handleUpdatedPairings:previousPairings:"
- "T@\"NSMutableSet\",R,V_activeConnections"
- "%!{(MISSING)public}@Could not find connection for active assertion message: %!@(MISSING)"
- "Afroimkne234rsff23"
- "T@\"NSMutableArray\",&,N,V_siriSyncNotificationReasons"
- "supportsSettings"
- "_handleXPCConnectionActivatedNotification:"
- "\x02/\x06\x1a\x12\x14\x16$+"
- "%!{(MISSING)public}@Local database %!@(MISSING) detected local corruption with info: %!@(MISSING)"
- "%!{(MISSING)public}@Generated sync data and posted sync data changed notification due to reason %!@(MISSING): %!t(MISSING)u"
- "notificationReasons"
- "T@,&,V_browseAssertion"
- "__handleActiveAssertion:"
- "%!{(MISSING)public}@Generated sync data due to reason(s) %!@(MISSING): %!t(MISSING)u"
- "%!{(MISSING)public}@retrievePreferredNetworkInternallyOnMdnsAndSig returned THCredential:%!@(MISSING), uuid %!@(MISSING)"
- "%!{(MISSING)public}@Unregistering as home manager active because last active connection was removed"
- "HMDXPCClientConnectionInvalidatedNotification"
- "initWithDuration:serverConfigurationVersion:configurationVersion:lastSyncedConfigurationVersion:notificationReasons:"
- "_autoSelectedPreferredResidents"
- "mutableEventCounters"
- "HMDSiriSyncEvent"
- "T@\"NSArray\",R,C,V_autoSelectedPreferredResidents"
- "%!{(MISSING)public}@Setting initial home manager policy parameters on connection: %!@(MISSING)"
- "_notificationReasons"
- "writeCharacteristicValues:source:identifier:qualityOfService:withCompletionHandler:"
- "@56@0:8Q16Q24Q32Q40@48"
- "userType"
- "%!{(MISSING)public}@Marking connection as active: %!@(MISSING)"
- "_activeConnections"
- "_registerForXPCConnectionNotifications"
- "v32@0:8@\"HMBLocalDatabase\"16@\"NSDictionary\"24"
- "\x02SB\x1e\x12\x1f\x0f\x0f\x04\x19\x13\x16\x1f\n\x1f\x01"
- "%!{(MISSING)public}@retrieveOrGeneratePreferredNetworkInternally returned THCredential:%!@(MISSING), uuid %!@(MISSING)"
- "%!{(MISSING)public}@Home location update is not LOI."
- "readSchedulesForUserIndex:flow:"
- "localDatabase:detectedLocalCorruptionWithInfo:"
- "%!{(MISSING)public}@Cannot handle active assertion message: Client must be adaptive"
- "handleWalletKeyAssertionsXPCConnectionRemoved:"
- "%!{(MISSING)public}@Connection removed: %!@(MISSING)"
- "_userSelectedPreferredResident"
- "%!{(MISSING)public}@Returning mostRecentNaturalLightingEnabledDate with nil since feature is not supported"
- "%!@(MISSING)\n\t%!@(MISSING)"
- "T@\"HMDResidentDevice\",R,V_userSelectedPreferredResident"
- "_handleXPCConnectionDeactivatedNotification:"
- "%!{(MISSING)public}@There are residents for home: %!@(MISSING), but we are not the primary. Not saving ThreadOperationalDataset."
- "__removeActiveConnection:"
- "%!{(MISSING)public}@retrievePreferredNetworkWithNoScan returned THCredential:%!@(MISSING), uuid %!@(MISSING)"
- "%!{(MISSING)public}@retrieveOrGeneratePreferredNetworkInternally failed : %!@(MISSING)"
- "activeConnections"
- "__handleProcessInfoStateChangedNotification:"
- "@16@?0@\"MTRDoorLockClusterGetUserResponseParams\"8"
- "T@\"NSMutableDictionary\",R,N,V_mutableEventCounters"
- "%!{(MISSING)public}@retrievePreferredNetworkWithNoScan failed : %!@(MISSING)"
- "siriSyncNotificationReasons"
- "T@\"NSMutableDictionary\",R,N,V_runningDurationCounters"
- "userSelectedPreferredResident"
- "runningDurationCounters"
- "browseAssertion"
- "setBrowseAssertion:"
- "%!{(MISSING)public}@Registering as home manager active because first active connection was added"
- "setSiriSyncNotificationReasons:"
- "@\"NSNumber\"16@?0@\"HMDHAPAccessory\"8"
- "%!{(MISSING)public}@Marking connection as inactive: %!@(MISSING)"
- "%!{(MISSING)public}@registerForMatterFabricNotifications - skip registering client %!@(MISSING)"
- "cleanupHMMMHandlersForClientConnection:"

```
