## SpotlightDaemon

> `/System/Library/PrivateFrameworks/SpotlightDaemon.framework/SpotlightDaemon`

```diff

-2312.1.0.4.0
-  __TEXT.__text: 0x8b2c4
-  __TEXT.__auth_stubs: 0x1ba0
-  __TEXT.__objc_methlist: 0x34e4
-  __TEXT.__const: 0x308
-  __TEXT.__cstring: 0x67b3
-  __TEXT.__gcc_except_tab: 0x3b08
-  __TEXT.__oslogstring: 0x7b41
-  __TEXT.__unwind_info: 0x1de0
-  __TEXT.__objc_classname: 0x435
-  __TEXT.__objc_methname: 0xc02b
-  __TEXT.__objc_methtype: 0x1fce
-  __TEXT.__objc_stubs: 0x9b80
-  __DATA_CONST.__got: 0x878
-  __DATA_CONST.__const: 0x32f0
-  __DATA_CONST.__objc_classlist: 0x140
+2314.2.0.0.0
+  __TEXT.__text: 0x8ec4c
+  __TEXT.__auth_stubs: 0x1bc0
+  __TEXT.__objc_methlist: 0x35cc
+  __TEXT.__const: 0x318
+  __TEXT.__cstring: 0x6d98
+  __TEXT.__gcc_except_tab: 0x3b34
+  __TEXT.__oslogstring: 0x7f76
+  __TEXT.__unwind_info: 0x1e30
+  __TEXT.__objc_classname: 0x452
+  __TEXT.__objc_methname: 0xc2e4
+  __TEXT.__objc_methtype: 0x1fe3
+  __TEXT.__objc_stubs: 0x9e60
+  __DATA_CONST.__got: 0x8d0
+  __DATA_CONST.__const: 0x3340
+  __DATA_CONST.__objc_classlist: 0x148
   __DATA_CONST.__objc_protolist: 0x48
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x2c80
+  __DATA_CONST.__objc_selrefs: 0x2d40
   __DATA_CONST.__objc_protorefs: 0x8
-  __DATA_CONST.__objc_superrefs: 0xe0
-  __DATA_CONST.__objc_arraydata: 0x388
-  __AUTH_CONST.__auth_got: 0xde8
+  __DATA_CONST.__objc_superrefs: 0xe8
+  __DATA_CONST.__objc_arraydata: 0x3d8
+  __AUTH_CONST.__auth_got: 0xdf8
   __AUTH_CONST.__auth_ptr: 0x18
-  __AUTH_CONST.__const: 0xca8
-  __AUTH_CONST.__cfstring: 0x5260
-  __AUTH_CONST.__objc_const: 0x5938
+  __AUTH_CONST.__const: 0xce8
+  __AUTH_CONST.__cfstring: 0x5be0
+  __AUTH_CONST.__objc_const: 0x5a48
   __AUTH_CONST.__objc_arrayobj: 0x300
   __AUTH_CONST.__objc_intobj: 0x168
-  __AUTH_CONST.__objc_dictobj: 0x28
-  __AUTH.__objc_data: 0x50
-  __DATA.__objc_ivar: 0x3cc
-  __DATA.__data: 0x860
-  __DATA.__bss: 0x119
+  __AUTH_CONST.__objc_dictobj: 0x78
+  __AUTH.__objc_data: 0xa0
+  __DATA.__objc_ivar: 0x3d8
+  __DATA.__data: 0x7a0
+  __DATA.__bss: 0xe1
   __DATA.__common: 0x8
   __DATA_DIRTY.__objc_data: 0xc30
-  __DATA_DIRTY.__data: 0x158
-  __DATA_DIRTY.__bss: 0x478
+  __DATA_DIRTY.__data: 0x220
+  __DATA_DIRTY.__bss: 0x4d0
   __DATA_DIRTY.__common: 0x10
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
   - /System/Library/Frameworks/CoreServices.framework/CoreServices

   - /System/Library/Frameworks/UniformTypeIdentifiers.framework/UniformTypeIdentifiers
   - /System/Library/PrivateFrameworks/AppSupport.framework/AppSupport
   - /System/Library/PrivateFrameworks/AppleKeyStore.framework/AppleKeyStore
+  - /System/Library/PrivateFrameworks/BackgroundSystemTasks.framework/BackgroundSystemTasks
   - /System/Library/PrivateFrameworks/CSExattrCrypto.framework/CSExattrCrypto
   - /System/Library/PrivateFrameworks/CoreAnalytics.framework/CoreAnalytics
   - /System/Library/PrivateFrameworks/DataMigration.framework/DataMigration

   - /usr/lib/libSystem.B.dylib
   - /usr/lib/libc++.1.dylib
   - /usr/lib/libobjc.A.dylib
-  Functions: 2327
-  Symbols:   3193
-  CStrings:  4010
+  - /usr/lib/libutil.dylib
+  Functions: 2370
+  Symbols:   3251
+  CStrings:  4149
 
Symbols:
+ _NSFileReferenceCount
+ _NSFileSize
+ _NSFileSystemFileNumber
+ _NSFileSystemFreeSize
+ _NSFileSystemNumber
+ _NSFileSystemSize
+ _NSFileType
+ _NSFileTypeDirectory
+ _NSURLIsPurgeableKey
+ _OBJC_CLASS_$_BGSystemTaskScheduler
+ _OBJC_CLASS_$_SPIndexStorageUsageCollector
+ _OBJC_METACLASS_$_SPIndexStorageUsageCollector
+ _humanize_number
+ _remove
CStrings:
+ "\n%!@(MISSING)"
+ " not"
+ "%!@(MISSING) is%!@(MISSING) a 2024 release build"
+ "%!@(MISSING) is%!@(MISSING) a 2024 seed build"
+ "%!s(MISSING) all index files purgable under %!@(MISSING)"
+ "%!s(MISSING) index file purgable:%!s(MISSING) flags:0x%!l(MISSING)lx"
+ "*warn* Failed to get free index disk space for %!s(MISSING). err=%!d(MISSING)"
+ "*warn* Failed to get total index disk space for %!s(MISSING). err=%!d(MISSING)"
+ ".directoryStoreFile"
+ ".directoryStoreFile.shadow"
+ ".indexArrays"
+ ".indexBigDates"
+ ".indexCompactDirectory"
+ ".indexDirectory"
+ ".indexGroups"
+ ".indexIds"
+ ".indexPositionTable"
+ ".indexPositions"
+ ".indexPostings"
+ ".indexScores"
+ ".indexTermIds"
+ ".ivf-"
+ ".store.db"
+ "22[AB][45]\\d{3}($|\\D)"
+ "22[AB]\\d{1,3}($|\\D)"
+ "2314.2"
+ "@48@0:8{?=*Q{?=IC}}16@40"
+ "Checking in XPC activity:%!@(MISSING), state:%!l(MISSING)u"
+ "Cleared"
+ "Clearing"
+ "Clearing CoreSpotlight index files purgeable under %!@(MISSING). freeDiskSpace %!l(MISSING)u, totalDiskSpace %!l(MISSING)u"
+ "Converting CoreSpotlight index to read-write"
+ "Did not find heartbeat file"
+ "EmbeddingDonation"
+ "Error creating build format %!@(MISSING)"
+ "Error creating seed build format %!@(MISSING)"
+ "Failed to %!s(MISSING) index file purgable:%!s(MISSING) flags:0x%!l(MISSING)lx (%!s(MISSING))"
+ "Failed to create touch file %!@(MISSING). errno=%!d(MISSING)"
+ "Failed to get previous build"
+ "Failed to open path:%!@(MISSING)"
+ "Failed to remove touch file %!@(MISSING). errno=%!d(MISSING)"
+ "Failed to retrieve file system attributes: %!@(MISSING)"
+ "Getting total size of all index files in %!@(MISSING)"
+ "Ignored XPC activity:%!@(MISSING), state:%!l(MISSING)u"
+ "Index type %!@(MISSING) size %!@(MISSING)"
+ "Marked"
+ "Marking"
+ "Marking CoreSpotlight index files purgeable under %!@(MISSING). freeDiskSpace %!l(MISSING)u, totalDiskSpace %!l(MISSING)u"
+ "Performing background task:%!@(MISSING)"
+ "Photos index version changed: %!@(MISSING) -> %!l(MISSING)u"
+ "Photos re-index forced"
+ "SPIndexStorageUsageCollector"
+ "Set XPC activity:%!@(MISSING) DONE since indexer was released"
+ "SpotlightKnowledge"
+ "Task %!@(MISSING) cancelled"
+ "TextSemanticSearch"
+ "[IndexLoss] (%!s(MISSING)) Not reporting drop (%!d(MISSING), %!d(MISSING), %!d(MISSING), %!d(MISSING), %!s(MISSING)) for reason %!d(MISSING)"
+ "[IndexLoss] (%!s(MISSING)) Sending analytics (%!d(MISSING), %!d(MISSING), %!d(MISSING), %!d(MISSING), %!s(MISSING))"
+ "[IndexLoss] Failed to create new index directory: %!@(MISSING)"
+ "[IndexLoss] Failed to create touch file: %!d(MISSING)"
+ "[IndexLoss] Failed to create touchfile: %!d(MISSING)"
+ "[SP-reindex] %!@(MISSING)"
+ "[SP-reindex] reason unavailable"
+ "_createPurgeableTouchFile"
+ "_hasPurgeableTouchFile"
+ "_kMDItemNeedsEmbeddings"
+ "_kMDItemNeedsKeyPhrases"
+ "_kMDItemNeedsPriority"
+ "_removePurgeableTouchFile"
+ "_shouldPurge"
+ "_storageUsage"
+ "_visitedInodes"
+ "assetConfigDump"
+ "attributesOfItemAtPath:error:"
+ "bigDate"
+ "bootstrapping new index"
+ "clear"
+ "client reindex request"
+ "collectAtPath:"
+ "com.apple.searchd.reportStorageUsage"
+ "com.apple.spotlight.index.StorageUsage"
+ "dataMap%!u(MISSING)"
+ "dbStr-"
+ "dbStr-%!u(MISSING).map."
+ "diskSpace"
+ "embedding"
+ "embeddingdonationon"
+ "forwardDirStore"
+ "freeIndexDiskSpace"
+ "getIndexDirectorySize:"
+ "group"
+ "heartbeat"
+ "i28@0:8@16B24"
+ "index dropped"
+ "indexAnalyticsDump"
+ "indexId"
+ "indexTermId"
+ "indexloss"
+ "initWithPattern:options:error:"
+ "invalid event name"
+ "issueReindexAllItemsForBundleID:protectionClass:reason:acknowledgementHandler:"
+ "journal"
+ "journalAttr."
+ "kIndexOptionPriorityPC"
+ "kIndexOptionResetForLargePostings"
+ "knowledgeGraph"
+ "loading extensions"
+ "mark"
+ "markAllFilesPurgeable:purgeableOrNot:"
+ "markIndexPurgeable:"
+ "no known client with bundle ID: %!@(MISSING) ; knownClients=%!@(MISSING)"
+ "numberOfMatchesInString:options:range:"
+ "other"
+ "position"
+ "positionTable"
+ "posting"
+ "priority"
+ "processImportForBundleID:withURLs:contentTypes:sandboxExtensions:andIdentifiers:options:inGroup:additionalAttributes:computeUpdaterAttributesAfterImport:"
+ "processorAttributesForRecord:bundleID:"
+ "protectionClassA"
+ "protectionClassB"
+ "protectionClassC"
+ "protectionClassCX"
+ "purgeable"
+ "purgeableIndexMarker"
+ "purgeableIndexTouchFilePath"
+ "re-indexing all items with the index extensions"
+ "re-indexing mail - finished draining journal"
+ "recycleAndPurgeIndex"
+ "registerForTaskWithIdentifier:usingQueue:launchHandler:"
+ "reindexAllItemsWithIndexers:reason:completionHandler:"
+ "restoreIndexAndClearPurgeable"
+ "reverseDirStore"
+ "reverseDirectoryStore"
+ "reverseDirectoryStore.shadow"
+ "reverseStore.updates"
+ "rire"
+ "score"
+ "sendAnalytics:"
+ "setExpirationHandler:"
+ "setReason:"
+ "setTaskCompleted"
+ "shouldNotLogIndexDrop:ignoreParentDirectoryAge:"
+ "spaceLeft"
+ "termIndex"
+ "textsemanticsearchon"
+ "total"
+ "totalIndexDiskSpace"
+ "trialConfigDump"
+ "triggered by -[SPCoreSpotlightIndexer reindexAllItemsWithIndexers:...]"
+ "v16@?0@\"BGRepeatingSystemTask\"8"
+ "v48@?0r*8Q16{?=*Q{?=IC}}24"
+ "v84@0:8@16@24@32@40@48q56@64@72B80"
- "2312.1.0.4"
- "@40@0:8{?=*{?=IC}}16@32"
- "Converting index to read-only"
- "Converting index to read-write"
- "[IndexLoss] (%!s(MISSING)) Already sent analytics for drop (%!d(MISSING), %!d(MISSING), %!d(MISSING), %!s(MISSING))"
- "[IndexLoss] (%!s(MISSING)) Partially created index (%!d(MISSING), %!d(MISSING), %!d(MISSING), %!s(MISSING))"
- "[IndexLoss] (%!s(MISSING)) Sending analytics (%!d(MISSING), %!d(MISSING), %!d(MISSING), %!s(MISSING))"
- "indexanalyticsdump"
- "issueReindexAllItemsForBundleID:protectionClass:acknowledgementHandler:"
- "processImportForBundleID:withURLs:contentTypes:sandboxExtensions:andIdentifiers:options:inGroup:"
- "reindexAllItemsWithIndexers:completionHandler:"
- "shouldLogIndexDrop:ignoreParentDirectoryAge:"
- "v40@?0r*8Q16{?=*{?=IC}}24"
- "v72@0:8@16@24@32@40@48q56@64"

```
