## SiriMessagesFlow

> `/System/Library/PrivateFrameworks/SiriMessagesFlow.framework/SiriMessagesFlow`

```diff

-3400.100.1.0.0
-  __TEXT.__text: 0x3afe34
-  __TEXT.__auth_stubs: 0x7790
+3401.4.1.0.0
+  __TEXT.__text: 0x3b17cc
+  __TEXT.__auth_stubs: 0x7850
   __TEXT.__objc_methlist: 0x50
-  __TEXT.__const: 0xf544
-  __TEXT.__cstring: 0xdf07
-  __TEXT.__constg_swiftt: 0xcf10
-  __TEXT.__swift5_typeref: 0x6611
-  __TEXT.__swift5_builtin: 0x320
-  __TEXT.__swift5_reflstr: 0x7c2b
-  __TEXT.__swift5_fieldmd: 0x8e0c
-  __TEXT.__swift5_assocty: 0x1148
-  __TEXT.__swift5_proto: 0xb3c
-  __TEXT.__swift5_types: 0x684
-  __TEXT.__swift5_capture: 0x29dc
-  __TEXT.__oslogstring: 0x2247f
+  __TEXT.__const: 0xf734
+  __TEXT.__cstring: 0xe127
+  __TEXT.__constg_swiftt: 0xd098
+  __TEXT.__swift5_typeref: 0x66b1
+  __TEXT.__swift5_builtin: 0x348
+  __TEXT.__swift5_reflstr: 0x7d1b
+  __TEXT.__swift5_fieldmd: 0x8f00
+  __TEXT.__swift5_assocty: 0x1160
+  __TEXT.__swift5_proto: 0xb48
+  __TEXT.__swift5_types: 0x690
+  __TEXT.__swift5_capture: 0x2a24
+  __TEXT.__oslogstring: 0x2326f
   __TEXT.__swift5_protos: 0x160
   __TEXT.__swift5_mpenum: 0x84
-  __TEXT.__unwind_info: 0xc8c8
-  __TEXT.__eh_frame: 0x235c8
+  __TEXT.__unwind_info: 0xcf78
+  __TEXT.__eh_frame: 0x23bbc
   __TEXT.__objc_classname: 0x126
-  __TEXT.__objc_methname: 0x399b
+  __TEXT.__objc_methname: 0x3c73
   __TEXT.__objc_methtype: 0x32c
-  __DATA_CONST.__got: 0x1ed0
-  __DATA_CONST.__const: 0x1f0
-  __DATA_CONST.__objc_classlist: 0x598
+  __DATA_CONST.__got: 0x1f78
+  __DATA_CONST.__const: 0x230
+  __DATA_CONST.__objc_classlist: 0x5a0
   __DATA_CONST.__objc_protolist: 0x100
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x1430
+  __DATA_CONST.__objc_selrefs: 0x1560
   __DATA_CONST.__objc_protorefs: 0x80
-  __AUTH_CONST.__auth_got: 0x3bc8
-  __AUTH_CONST.__auth_ptr: 0x2470
-  __AUTH_CONST.__const: 0x10490
-  __AUTH_CONST.__objc_const: 0xca98
-  __AUTH.__objc_data: 0x1ed8
-  __AUTH.__data: 0x113b8
-  __DATA.__data: 0x6a00
-  __DATA.__bss: 0x13080
-  __DATA.__common: 0x9d8
+  __AUTH_CONST.__auth_got: 0x3c28
+  __AUTH_CONST.__auth_ptr: 0x2488
+  __AUTH_CONST.__const: 0x105a8
+  __AUTH_CONST.__objc_const: 0xcc88
+  __AUTH.__objc_data: 0x1f28
+  __AUTH.__data: 0x115b0
+  __DATA.__data: 0x6b00
+  __DATA.__bss: 0x13200
+  __DATA.__common: 0xa08
   - /System/Library/Frameworks/AVFAudio.framework/AVFAudio
+  - /System/Library/Frameworks/AVFoundation.framework/AVFoundation
   - /System/Library/Frameworks/Combine.framework/Combine
   - /System/Library/Frameworks/Contacts.framework/Contacts
   - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
   - /System/Library/Frameworks/CoreLocation.framework/CoreLocation
+  - /System/Library/Frameworks/CoreMedia.framework/CoreMedia
   - /System/Library/Frameworks/CoreServices.framework/CoreServices
   - /System/Library/Frameworks/CoreSpotlight.framework/CoreSpotlight
   - /System/Library/Frameworks/CoreTelephony.framework/CoreTelephony

   - /usr/lib/swift/libswiftVideoToolbox.dylib
   - /usr/lib/swift/libswiftWebKit.dylib
   - /usr/lib/swift/libswiftXPC.dylib
+  - /usr/lib/swift/libswift_Builtin_float.dylib
   - /usr/lib/swift/libswift_Concurrency.dylib
   - /usr/lib/swift/libswift_StringProcessing.dylib
+  - /usr/lib/swift/libswift_errno.dylib
+  - /usr/lib/swift/libswift_math.dylib
+  - /usr/lib/swift/libswift_signal.dylib
+  - /usr/lib/swift/libswift_stdio.dylib
+  - /usr/lib/swift/libswift_time.dylib
   - /usr/lib/swift/libswiftos.dylib
   - /usr/lib/swift/libswiftsimd.dylib
-  Functions: 16468
-  Symbols:   8404
-  CStrings:  4128
+  - /usr/lib/swift/libswiftsys_time.dylib
+  - /usr/lib/swift/libswiftunistd.dylib
+  Functions: 16561
+  Symbols:   8364
+  CStrings:  4226
 
Symbols:
+ _CMTimeGetSeconds
+ _OBJC_CLASS_$_AVAsset
+ _OBJC_CLASS_$_FLOWSchemaFLOWClientEvent
+ _OBJC_CLASS_$_FLOWSchemaFLOWDomainExecutionContext
+ _OBJC_CLASS_$_FLOWSchemaFLOWDomainExecutionEnded
+ _OBJC_CLASS_$_FLOWSchemaFLOWDomainExecutionFailed
+ _OBJC_CLASS_$_FLOWSchemaFLOWDomainExecutionStarted
+ _OBJC_CLASS_$_FLOWSchemaFLOWEventMetadata
+ _OBJC_CLASS_$_FLOWSchemaFLOWSmsAttachmentMetadata
+ _OBJC_CLASS_$_FLOWSchemaFLOWSmsAttachmentMetadataTier1
+ _OBJC_CLASS_$_FLOWSchemaFLOWSmsAudioContext
+ _OBJC_CLASS_$_FLOWSchemaFLOWSmsTextContentMetadata
+ _OBJC_CLASS_$_FLOWSchemaFLOWSmsTextContext
+ __swift_FORCE_LOAD_$_swift_Builtin_float
+ __swift_FORCE_LOAD_$_swift_errno
+ __swift_FORCE_LOAD_$_swift_math
+ __swift_FORCE_LOAD_$_swift_signal
+ __swift_FORCE_LOAD_$_swift_stdio
+ __swift_FORCE_LOAD_$_swift_time
+ __swift_FORCE_LOAD_$_swiftsys_time
+ __swift_FORCE_LOAD_$_swiftunistd
CStrings:
+ "\n attachmentType: "
+ "\n if audio attachment, messageDuration: "
+ "#AudioMessageUtils audio message duration: %!(BADPREC)%!f(MISSING) sec"
+ "#Conversation error getting content speech duration for component %!@(MISSING)"
+ "#Conversation: getting message summary for messagesID: %!s(MISSING)"
+ "#Conversation: summary is %!s(MISSING)"
+ "#DelayedSpokenFollowupFlow: Running action group"
+ "#EditMessageConfirmIntentFlow empty input, pushing confirmation flow %!{(MISSING)public}s prompt"
+ "#EditMessageFlow RCH completed"
+ "#FollowupOfferFlow exitValue from PromptForConfirmationFlow: %!{(MISSING)public}s"
+ "#FollowupOfferFlow have smsIntent, about to enter switch with smsIntent verb: %!{(MISSING)public}s"
+ "#FollowupOfferFlow initializing SendMessageFlow with single sender or group: %!{(MISSING)bool}d"
+ "#Gatekeeper Composing new message using %!{(MISSING)public}s"
+ "#Gatekeeper pattern %!{(MISSING)public}s successfully executed"
+ "#ImageComponent Image caption is %!{(MISSING)private}s"
+ "#ImageComponent fetch did not return a caption!"
+ "#ImageComponent timed out fetching image caption!"
+ "#ImageComponent timed out fetching image caption!!"
+ "#MessagesSELFPerformanceLogger Failed to create client event"
+ "#MessagesSELFPerformanceLogger Failed to create execution context"
+ "#MessagesSELFPerformanceLogger Failed to create start event for %!s(MISSING)"
+ "#MessagesSELFPerformanceLogger Failed to register end event for %!s(MISSING)"
+ "#MessagesSELFPerformanceLogger Registered start event for %!s(MISSING)"
+ "#MessagesSELFPerformanceLogger successfully sent %!s(MISSING) performance event for %!s(MISSING)"
+ "#ReadMessageSelfContext.description smsContext is not initialized!"
+ "#RequestSupportCheckFlow request is not supported by %!{(MISSING)public}s"
+ "#RequestSupportCheckFlow request is supported by %!{(MISSING)public}s"
+ "#SMSSendMessageSelfLogger link is shared via text content for 3p SiriKit apps, returning .FLOWSMSATTACHMENTTYPE_LINK"
+ "#SMSSendMessageSelfLogger log this attachment type %!d(MISSING)"
+ "#SMSSendMessageSelfLogger logAttachmentType, not logging attachment type. Error creating context."
+ "#SMSSendMessageSelfLogger logAttachmentType, not logging attachment type. No attachments."
+ "#SearchForMessagesFlow RCHFlow completed"
+ "#SearchForMessagesFlow request check failed"
+ "#SearchForMessagesFlow request is not supported"
+ "#SendMessageAppResolutionBeforeNextResolveFlow - skipping app resolution since app is already selected by user"
+ "#SendMessageAppResolutionBeforeNextResolveFlow app resolution flow completed"
+ "#SendMessageAppResolutionBeforeNextResolveFlow no app resolution flow, returning previously resolved app: %!{(MISSING)public}s"
+ "#SendMessageConfirmIntentFlow AutoSend setting is %!{(MISSING)public}s"
+ "#SendMessageConfirmIntentFlow Unsupported button %!{(MISSING)public}s -> ignore"
+ "#SendMessageConfirmIntentFlow Unsupported direct invocation %!{(MISSING)public}s -> ignore"
+ "#SendMessageConfirmIntentFlow cancelSendOnDisappearCommand failed to cancel, command response: %!s(MISSING)"
+ "#SendMessageConfirmIntentFlow cancelSendOnDisappearCommand successfully processed"
+ "#SendMessageConfirmIntentFlow confirm intent flow completed: %!{(MISSING)public}s"
+ "#SendMessageConfirmIntentFlow confirm intent flow failed: %!{(MISSING)public}s"
+ "#SendMessageConfirmIntentFlow empty input, pushing confirmation flow %!{(MISSING)public}s prompt"
+ "#SendMessageConfirmIntentFlow failed to cancel send on disappear command, possibly delayed action command was already cancelled: %!{(MISSING)public}@"
+ "#SendMessageConfirmIntentFlow isAutoSendable=%!{(MISSING)bool,public}d"
+ "#SendMessageConfirmIntentFlow no cancelSendOnDisappearCommand to wait for"
+ "#SendMessageConfirmIntentFlow#pushConfirmIntentFlow shouldAutoSend=%!{(MISSING)bool,public}d, isAutoSendHighConfidence=%!{(MISSING)bool,public}d, autoSendEnabled=%!{(MISSING)bool,public}d"
+ "#SendMessageConfirmIntentFlowStrategy no-op for cancelSendOnDisappear"
+ "#SendMessageFlow Detected unset relationship %!{(MISSING)public}s"
+ "#SendMessageFlow RCHFlow completed"
+ "#SendMessageFlow request check failed"
+ "#SendMessageFlow request is not supported"
+ "#SendMessageSelfContext SELF Log, created flowId: %!s(MISSING)"
+ "#SendMessageSelfContext SELF Log, invalid executionRequestId string, cannot derive flowId form it"
+ "#SendMessageSelfContext SELF Log, invalid executionRequestId, cannot derive flowId form it"
+ "#SendMessageSelfContext emitting SmsAttachmentMetadataTier1 SELF event"
+ "#SendMessageSelfContext have foregroundAppBundleId sampled in previous turn %!s(MISSING)"
+ "#SendMessageSelfContext logForegroundApp with flowId: %!s(MISSING) created for taskId: %!s(MISSING)"
+ "#SendMessageSelfContext logForegroundApp with resultCandidateId: %!s(MISSING)"
+ "#SendMessageSelfContext logForegroundApp with taskId: %!s(MISSING)"
+ "#SendMessageSelfContext logForegroundApp with trpId: %!s(MISSING)"
+ "#SendMessageSelfContext sampling foregroundAppBundleId for the first time, result: %!s(MISSING)"
+ "#SendMessageSelfContext smsContext = %!s(MISSING)"
+ "#SendMessageSelfContext unhandled outgoing message type %!l(MISSING)d"
+ "#SendMessageSelfContext unknown outgoing message type %!l(MISSING)d"
+ "#SendMessageSelfContext.description smsContext is not initialized!"
+ "#SendMessageSelfContext:"
+ "#SendMessageUnlockCheckFlow pushing unlock flow completed with %!{(MISSING)public}s"
+ "#SendMessageUnlockCheckFlow sending to handle value only recipient, require unlock"
+ "#ShareThisFlow #shouldRouteToExpanse isExplicitShareInCallIntent=%!{(MISSING)bool,public}d, isOnlySupportedInCall=%!{(MISSING)bool,public}d => shouldRouteToExpanse=true"
+ "#ShareThisFlow #shouldRouteToExpanse isScreenShareSupportingCallSalient=%!{(MISSING)bool,public}d => shouldRouteToExpanse=%!{(MISSING)bool,public}d"
+ "#ShareThisFlow #shouldRouteToExpanse isShareRequest=%!{(MISSING)bool,public}d, isUnshareRequest=%!{(MISSING)bool,public}d => shouldRouteToExpanse=false"
+ "#ShareThisFlow RRAAS returned %!{(MISSING)public}ld results"
+ "#ShareThisFlow WFOnScreenContentService returned a url: %!{(MISSING)private}s, building a sharedLink attachment"
+ "#ShareThisFlow adding an attachment with a URL of:%!{(MISSING)private}s"
+ "#ShareThisFlow fetchNowPlayingAttachment returning %!{(MISSING)private}s"
+ "#ShareThisFlow foreground app is %!{(MISSING)private}s"
+ "#ShareThisFlow onScreenContent.contentItem was WFPhotoMediaContentItem and has asset identifier %!{(MISSING)private}s"
+ "#SpokenMessagesFlow received intent response with %!{(MISSING)public}ld message(s), pushing reading flow"
+ "#SpokenMessagesFlow searching for a message for notification ID %!{(MISSING)public}s in %!{(MISSING)public}s"
+ "#TTSUtil userNotificationCenter or eventStore nil"
+ "#TextComponent processedContent is .differentLanguage(%!{(MISSING)public}s)"
+ "Gatekeeper# Button %!{(MISSING)public}s pressed"
+ "Gatekeeper# Clarifying using %!{(MISSING)public}s"
+ "Gatekeeper# found %!{(MISSING)public}ld new message(s)"
+ "SearchAppResolutionFlow# app resolution flow didn't resolve app"
+ "SearchAppResolutionFlow# app resolution flow resolved app: %!{(MISSING)public}s"
+ "SendAppResolutionFlow# app identifier available in input, resolving to: %!{(MISSING)public}s"
+ "SendAppResolutionFlow# app resolution flow didn't resolve app"
+ "SendAppResolutionFlow# app resolution flow resolved app: %!{(MISSING)public}s"
+ "SendAppResolutionFlow# previously resolved app %!{(MISSING)public}s is present, fresh app is not in input and recipient is not changed, skipping app resolution"
+ "SendAudioMessage.GetDuration"
+ "ShareThisFlow ScreenshotDelegate workflowRunnerClient was invoked, client.isRunning: %!{(MISSING)bool,public}d cancelled: %!{(MISSING)bool,public}d"
+ "_TtC16SiriMessagesFlow29MessagesSELFPerformanceLogger"
+ "assetWithURL:"
+ "audioContext"
+ "derivedIdentifierForComponent:fromSourceIdentifier:"
+ "domainExecutionType"
+ "duration"
+ "emitMessage:"
+ "ended"
+ "failed"
+ "isReply"
+ "messageDurationMs"
+ "numberOfSenders"
+ "numberOfSendersMinusTwo"
+ "osLogger"
+ "personTypes"
+ "setAudioContext:"
+ "setContextId:"
+ "setDomainExecutionType:"
+ "setEnded:"
+ "setFailed:"
+ "setFlowDomainExecutionContext:"
+ "setFlowId:"
+ "setFlowKeyboardUsageMetadata:"
+ "setForegroundAppBundleId:"
+ "setIsPunctuationUsed:"
+ "setLinkId:"
+ "setMessageCharLength:"
+ "setMessageDurationMs:"
+ "setMessageType:"
+ "setMessageWordLength:"
+ "setResultCandidateId:"
+ "setSmsAttachmentMetadata:"
+ "setSmsAttachmentMetadataTier1:"
+ "setSmsAttachmentType:"
+ "setSmsTextContentMetadata:"
+ "setStartedOrChanged:"
+ "setTaskId:"
+ "setTextContext:"
+ "setTrpId:"
+ "sharedStream"
+ "smsAttachmentMetadata"
+ "smsAttachmentMetadataTier1"
+ "smsAttachmentType"
+ "taskType"
+ "textContext"
+ "thirdPartyEmojiOnly"
+ "uuid"
- "#ConversationStateManager error getting content speech duration for component %!@(MISSING)"
- "#ConversationStateManager summary is %!s(MISSING)"
- "#ConversationStateManager, getting message summary for messagesID: %!s(MISSING)"
- "#EditMessageConfirmIntentFlow empty input, pushing confirmation flow %!s(MISSING) prompt"
- "#FollowupOfferFlow exitValue from PromptForConfirmationFlow: %!s(MISSING)"
- "#FollowupOfferFlow have smsIntent, about to enter switch with smsIntent verb: %!s(MISSING)"
- "#Gatekeeper Composing new message using %!s(MISSING)"
- "#Gatekeeper pattern %!s(MISSING) successfully executed"
- "#ImageComponent Image caption is %!s(MISSING)"
- "#RequestSupportCheckFlow request is supported by %!s(MISSING)"
- "#SMSReadMessageSelfContext.description smsContext is not initialized!"
- "#SendMessageAppResolutionBeforeNextResolveFlow no app resolution flow, returning previously resolved app: %!s(MISSING)"
- "#SendMessageConfirmIntentFlow AutoSend setting is %!s(MISSING)"
- "#SendMessageConfirmIntentFlow Unsupported button %!s(MISSING) -> ignore"
- "#SendMessageConfirmIntentFlow Unsupported direct invocation %!s(MISSING) -> ignore"
- "#SendMessageConfirmIntentFlow confirm intent flow completed: %!s(MISSING)"
- "#SendMessageConfirmIntentFlow confirm intent flow failed: %!s(MISSING)"
- "#SendMessageConfirmIntentFlow empty input, pushing confirmation flow %!s(MISSING) prompt"
- "#SendMessageConfirmIntentFlow failed to cancel send on disappear command, possibly delayed action command was already cancelled: %!@(MISSING)"
- "#SendMessageConfirmIntentFlow isAutoSendable=%!{(MISSING)bool}d"
- "#SendMessageConfirmIntentFlow#pushConfirmIntentFlow shouldAutoSend=%!{(MISSING)bool}d, isAutoSendHighConfidence=%!{(MISSING)bool}d, autoSendEnabled=%!{(MISSING)bool}d"
- "#SendMessageConfirmIntentFlowStrategy cancelSendOnDisappearCommand failed to cancel, command response: %!s(MISSING)"
- "#SendMessageConfirmIntentFlowStrategy cancelSendOnDisappearCommand successfully processed"
- "#SendMessageConfirmIntentFlowStrategy no cancelSendOnDisappearCommand to wait for"
- "#SendMessageFlow Detected unset relationship %!s(MISSING)"
- "#SendMessageUnlockCheckFlow pushing unlock flow completed with %!s(MISSING)"
- "#ShareThisFlow #shouldRouteToExpanse isExplicitShareInCallIntent=%!{(MISSING)bool}d, isOnlySupportedInCall=%!{(MISSING)bool}d => shouldRouteToExpanse=true"
- "#ShareThisFlow #shouldRouteToExpanse isScreenShareSupportingCallSalient=%!{(MISSING)bool}d => shouldRouteToExpanse=%!{(MISSING)bool}d"
- "#ShareThisFlow #shouldRouteToExpanse isShareRequest=%!{(MISSING)bool}d, isUnshareRequest=%!{(MISSING)bool}d => shouldRouteToExpanse=false"
- "#ShareThisFlow RRAAS returned %!l(MISSING)d results"
- "#ShareThisFlow WFOnScreenContentService returned a url: %!s(MISSING), building a sharedLink attachment"
- "#ShareThisFlow adding an attachment with a URL of:%!s(MISSING)"
- "#ShareThisFlow fetchNowPlayingAttachment returning %!s(MISSING)"
- "#ShareThisFlow foreground app is %!s(MISSING)"
- "#SpokenMessagesFlow received intent response with %!l(MISSING)d message(s), pushing reading flow"
- "#SpokenMessagesFlow searching for a message for notification ID %!s(MISSING) in %!s(MISSING)"
- "Gatekeeper# Button %!s(MISSING) pressed"
- "Gatekeeper# Clarifying using %!s(MISSING)"
- "Gatekeeper# found %!l(MISSING)d new message(s)"
- "SearchAppResolutionFlow# app resolution flow resolved app: %!s(MISSING)"
- "SendAppResolutionFlow# app identifier available in input, resolving to: %!s(MISSING)"
- "SendAppResolutionFlow# app resolution flow resolved app: %!s(MISSING)"
- "SendAppResolutionFlow# previously resolved app %!s(MISSING) is present, fresh app is not in input and recipient is not changed, skipping app resolution"
- "ShareThisFlow ScreenshotDelegate workflowRunnerClient was invoked, client.isRunning: %!{(MISSING)bool}d cancelled: %!{(MISSING)bool}d"
- "stickerCount"

```
