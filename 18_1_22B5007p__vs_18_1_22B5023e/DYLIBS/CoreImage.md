## CoreImage

> `/System/Library/Frameworks/CoreImage.framework/CoreImage`

```diff

-1500.79.0.0.0
-  __TEXT.__text: 0x2bb93c
-  __TEXT.__auth_stubs: 0x2f40
-  __TEXT.__objc_methlist: 0x14a60
-  __TEXT.__gcc_except_tab: 0x5868
-  __TEXT.__const: 0xe3a8
-  __TEXT.__cstring: 0x836ac
-  __TEXT.__oslogstring: 0x9c45
+1500.91.0.0.0
+  __TEXT.__text: 0x2bccec
+  __TEXT.__auth_stubs: 0x2f60
+  __TEXT.__objc_methlist: 0x14b40
+  __TEXT.__gcc_except_tab: 0x58a8
+  __TEXT.__const: 0xe3f8
+  __TEXT.__cstring: 0x83dd1
+  __TEXT.__oslogstring: 0x9bd4
   __TEXT.__dlopen_cstrs: 0x398
   __TEXT.__runtimeheader: 0xb8ec
   __TEXT.__cikl2metal_pre: 0x47f
-  __TEXT.__unwind_info: 0x6c00
+  __TEXT.__unwind_info: 0x6c58
   __TEXT.__eh_frame: 0x208
-  __TEXT.__objc_classname: 0x2975
-  __TEXT.__objc_methname: 0x213a6
-  __TEXT.__objc_methtype: 0x6bb7
-  __TEXT.__objc_stubs: 0x11f40
-  __DATA_CONST.__got: 0x9d8
-  __DATA_CONST.__const: 0x6988
-  __DATA_CONST.__objc_classlist: 0xfe8
+  __TEXT.__objc_classname: 0x299b
+  __TEXT.__objc_methname: 0x21446
+  __TEXT.__objc_methtype: 0x6bdc
+  __TEXT.__objc_stubs: 0x12000
+  __DATA_CONST.__got: 0xa08
+  __DATA_CONST.__const: 0x6998
+  __DATA_CONST.__objc_classlist: 0xff8
   __DATA_CONST.__objc_catlist: 0x8
   __DATA_CONST.__objc_protolist: 0x80
   __DATA_CONST.__objc_imageinfo: 0x8
-  __DATA_CONST.__objc_selrefs: 0x8c78
+  __DATA_CONST.__objc_selrefs: 0x8c98
   __DATA_CONST.__objc_protorefs: 0x18
-  __DATA_CONST.__objc_superrefs: 0x360
+  __DATA_CONST.__objc_superrefs: 0x368
   __DATA_CONST.__objc_arraydata: 0x13f8
-  __AUTH_CONST.__auth_got: 0x17b8
+  __AUTH_CONST.__auth_got: 0x17c8
   __AUTH_CONST.__auth_ptr: 0x60
   __AUTH_CONST.__const: 0xbb40
-  __AUTH_CONST.__cfstring: 0x19200
-  __AUTH_CONST.__objc_const: 0x2baa0
+  __AUTH_CONST.__cfstring: 0x193c0
+  __AUTH_CONST.__objc_const: 0x2bc70
   __AUTH_CONST.__objc_doubleobj: 0x28b0
   __AUTH_CONST.__objc_intobj: 0xd38
   __AUTH_CONST.__objc_dictobj: 0x438
   __AUTH_CONST.__objc_floatobj: 0x2d0
   __AUTH_CONST.__objc_arrayobj: 0x198
-  __AUTH.__objc_data: 0x9830
-  __AUTH.__data: 0x1d8b8
+  __AUTH.__objc_data: 0x98d0
+  __AUTH.__data: 0x1db98
   __AUTH.__thread_vars: 0x18
   __AUTH.__thread_bss: 0x8
-  __DATA.__objc_ivar: 0x206c
-  __DATA.__data: 0x5740
-  __DATA.__bss: 0x3b60
+  __DATA.__objc_ivar: 0x2078
+  __DATA.__data: 0x5758
+  __DATA.__bss: 0x3a50
   __DATA.__common: 0x50
   __DATA_DIRTY.__objc_data: 0x6e0
   __DATA_DIRTY.__data: 0x4
   __DATA_DIRTY.__crash_info: 0x40
-  __DATA_DIRTY.__bss: 0x398
+  __DATA_DIRTY.__bss: 0x4a8
   __DATA_DIRTY.__common: 0x1d0
   - /System/Library/Frameworks/Accelerate.framework/Accelerate
   - /System/Library/Frameworks/ColorSync.framework/ColorSync

   - /usr/lib/libSystem.B.dylib
   - /usr/lib/libc++.1.dylib
   - /usr/lib/libobjc.A.dylib
-  Functions: 13694
-  Symbols:   15624
-  CStrings:  14804
+  Functions: 13715
+  Symbols:   15654
+  CStrings:  14832
 
Symbols:
+ _CFStringFind
+ _CGImageSourceCopyAuxiliaryDataInfoAtIndexWithOptions
+ _OBJC_EHTYPE_id
+ _kCGGenerateFlexGTC
+ _kCGImageAuxiliaryDataInfoPixelBuffer
+ _kCGImageAuxiliaryDataRepresentation
+ _kCGImageAuxiliaryDataRepresentationPixelBuffer
+ _kCGImageAuxiliaryDataTypeISOGainMap
+ _kCIImageRepresentationHDRGainMapAsRGB
CStrings:
+ "%!{(MISSING)public}s: Bad bitmap argument for %!s(MISSING):%!d(MISSING) leaf"
+ "@44@0:8@16@24^{CGColorSpace=}32B40"
+ "CIAppleLogToLinear"
+ "CILinearToAppleLog"
+ "DocumentType"
+ "Failed to render %!l(MISSING)lu of %!l(MISSING)lu pixels"
+ "Failed to render %!l(MISSING)lu pixels"
+ "HDRToneMap:ChannelMetadata[1].AlternateOffset"
+ "HDRToneMap:ChannelMetadata[1].BaseOffset"
+ "HDRToneMap:ChannelMetadata[1].GainMapMax"
+ "HDRToneMap:ChannelMetadata[1].GainMapMin"
+ "HDRToneMap:ChannelMetadata[1].Gamma"
+ "HDRToneMap:ChannelMetadata[2].AlternateOffset"
+ "HDRToneMap:ChannelMetadata[2].BaseOffset"
+ "HDRToneMap:ChannelMetadata[2].GainMapMax"
+ "HDRToneMap:ChannelMetadata[2].GainMapMin"
+ "HDRToneMap:ChannelMetadata[2].Gamma"
+ "NSRTF"
+ "P"
+ "Render failed because of failure to allocate intermediate."
+ "^{CGImage=}81@0:8@16{CGRect={CGPoint=dd}{CGSize=dd}}24i56B60^{CGColorSpace=}64{Trilean=c}72@73"
+ "_makernoteMeteorHeadroom"
+ "addAuxOptionsForSDR:HDR:colorSpace:rgbGainmap:"
+ "dataFromRange:documentAttributes:error:"
+ "enumerateAttributesInRange:options:usingBlock:"
+ "extend"
+ "float _tonecurve(float v, float x0, vec4 c0, float x1, vec4 c1, float x2, vec4 c2, float x3, vec4 c3, float x4, vec4 c4, float extend) {\n  float x = v - x4;\n  vec4 c = c4;\n  if (v < x4) {\n    x = v - x3;\n    c = c3;\n  }\n  if (v < x3) {\n    x = v - x2;\n    c = c2;\n  }\n  if (v < x2) {\n    x = v - x1;\n    c = c1;\n  }\n  if (v < x1) {\n    x = v - x0;\n    c = c0;\n  }\n  float y = ((c.x + (c.y * x)) + ((c.z * x) * x)) + (((c.w * x) * x) * x);\n  if (v < x0) y = c0.x;\n  if (extend < 0.5) {\n    if (v > x4) y = c4.x;\n    y = clamp(y, 0.0, 1.0);\n  } else {\n    if (v > x4) y = c4.x + (c4.y * x);\n    y = max(y, 0.0);\n  }\n  return y;\n}\nkernel vec4 _toneCurve(vec4 s, float x0, vec4 c0, float x1, vec4 c1, float x2, vec4 c2, float x3, vec4 c3, float x4, vec4 c4, float extend) {\n  s.r = _tonecurve(s.r, x0, c0, x1, c1, x2, c2, x3, c3, x4, c4, extend);\n  s.g = _tonecurve(s.g, x0, c0, x1, c1, x2, c2, x3, c3, x4, c4, extend);\n  s.b = _tonecurve(s.b, x0, c0, x1, c1, x2, c2, x3, c3, x4, c4, extend);\n  return s;\n}\n"
+ "graph.node != NULL"
+ "initGainmapWithImageSource:options:"
+ "kCIImageRepresentationHDRGainMapAsRGB"
+ "kernel vec4 _appleLogToLinear(vec4 P) {\n  const float R0 = -5.641088e-02;\n  const float Rt = 1.000000e-02;\n  const float c = 4.728711e+01;\n  const float beta = 9.640520e-03;\n  const float gamma = 8.550479e-02;\n  const float delta = 6.933694e-01;\n  const float Pt = (c * (Rt - R0)) * (Rt - R0);\n  vec4 Ra;\n  vec4 Rb = sqrt(P / c) + R0;\n}\n"
+ "kernel vec4 _flexMapImageRGB(vec4 linGain, float logMin, float logMax) {\n  vec3 v = log2(linGain.rgb);\n  v = clamp((v - logMin) / (logMax - logMin), 0.0, 1.0);\n  return vec4(v, 1.0);\n}\n"
+ "kernel vec4 _flexMapLinGainRGB(vec4 hdr, vec4 sdr, float kIn, float kOut) {\n  vec3 hdrComps = max(hdr.rgb, 0.0);\n  vec3 sdrComps = max(sdr.rgb, 0.0);\n  vec3 linGains = (hdrComps + kOut) / (sdrComps + kIn);\n  return vec4(linGains, 1.0);\n}\n"
+ "kernel vec4 _linearToAppleLog(vec4 R) {\n  const float R0 = -5.641088e-02;\n  const float Rt = 1.000000e-02;\n  const float c = 4.728711e+01;\n  const float beta = 9.640520e-03;\n  const float gamma = 8.550479e-02;\n  const float delta = 6.933694e-01;\n  vec4 Pa = (gamma * log2(R + beta)) + delta;\n  vec4 Pb = (c * (R - R0)) * (R - R0);\n}\n"
+ "range(%!l(MISSING)u,%!l(MISSING)u)\n"
+ "uniforms:"
+ "v40@?0@\"NSDictionary\"8{_NSRange=QQ}16^B32"
+ "{Uniforms=fffffff}20@0:8f16"
- "%!{(MISSING)public}s: Bad bitmap argurment for %!s(MISSING):%!d(MISSING) leaf"
- "Failed to render %!l(MISSING)lu of %!l(MISSING)lu pixels because a CIKernel's ROI function did not allow tiling."
- "Failed to render %!l(MISSING)lu pixels because a CIKernel's ROI function did not allow tiling."
- "^{CGImage=}81@0:8@16{CGRect={CGPoint=dd}{CGSize=dd}}24i56B60^{CGColorSpace=}64{Trilean=c}72@?73"
- "addAuxOptionsForSDR:HDR:colorSpace:"
- "float _tonecurve(float v, float x0, vec4 c0, float x1, vec4 c1, float x2, vec4 c2, float x3, vec4 c3, float x4, vec4 c4) {\n  float x = v - x4;\n  vec4 c = c4;\n  if (v < x4) {\n    x = v - x3;\n    c = c3;\n  }\n  if (v < x3) {\n    x = v - x2;\n    c = c2;\n  }\n  if (v < x2) {\n    x = v - x1;\n    c = c1;\n  }\n  if (v < x1) {\n    x = v - x0;\n    c = c0;\n  }\n  float y = ((c.x + (c.y * x)) + ((c.z * x) * x)) + (((c.w * x) * x) * x);\n  if (v < x0) y = c0.x;\n  if (v > x4) y = c4.x;\n  y = clamp(y, 0.0, 1.0);\n  return y;\n}\nkernel vec4 _toneCurve(vec4 s, float x0, vec4 c0, float x1, vec4 c1, float x2, vec4 c2, float x3, vec4 c3, float x4, vec4 c4) {\n  s.r = _tonecurve(s.r, x0, c0, x1, c1, x2, c2, x3, c3, x4, c4);\n  s.g = _tonecurve(s.g, x0, c0, x1, c1, x2, c2, x3, c3, x4, c4);\n  s.b = _tonecurve(s.b, x0, c0, x1, c1, x2, c2, x3, c3, x4, c4);\n  return s;\n}\n"
- "graph != NULL"
- "kCGGenerateFlexGTC"
- "uniforms"
- "{Uniforms=fffffff}16@0:8"

```
