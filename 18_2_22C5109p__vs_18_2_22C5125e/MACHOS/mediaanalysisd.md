## mediaanalysisd

> `/System/Library/PrivateFrameworks/MediaAnalysis.framework/mediaanalysisd`

```diff

-290.5.2.11.4
-  __TEXT.__text: 0x195aa0
+290.9.2.0.0
+  __TEXT.__text: 0x19d39c
   __TEXT.__auth_stubs: 0x1110
-  __TEXT.__objc_stubs: 0x12480
-  __TEXT.__objc_methlist: 0x82fc
-  __TEXT.__gcc_except_tab: 0x2e7bc
-  __TEXT.__cstring: 0x146a8
-  __TEXT.__objc_classname: 0x1bc1
-  __TEXT.__objc_methname: 0x18a84
-  __TEXT.__objc_methtype: 0x366e
+  __TEXT.__objc_stubs: 0x12800
+  __TEXT.__objc_methlist: 0x8424
+  __TEXT.__gcc_except_tab: 0x2fc38
+  __TEXT.__cstring: 0x14ad3
+  __TEXT.__objc_classname: 0x1bbe
+  __TEXT.__objc_methname: 0x190d2
+  __TEXT.__objc_methtype: 0x3681
   __TEXT.__const: 0x4a0
-  __TEXT.__oslogstring: 0x1f35a
+  __TEXT.__oslogstring: 0x1fcc7
   __TEXT.__dlopen_cstrs: 0x60a
-  __TEXT.__unwind_info: 0x5b68
+  __TEXT.__unwind_info: 0x5ca8
   __DATA_CONST.__auth_got: 0x8a0
-  __DATA_CONST.__got: 0xd60
-  __DATA_CONST.__const: 0x5cd8
-  __DATA_CONST.__cfstring: 0xd100
+  __DATA_CONST.__got: 0xdb8
+  __DATA_CONST.__const: 0x5d20
+  __DATA_CONST.__cfstring: 0xd4e0
   __DATA_CONST.__objc_classlist: 0x650
   __DATA_CONST.__objc_catlist: 0x48
   __DATA_CONST.__objc_protolist: 0xd0

   __DATA_CONST.__objc_arrayobj: 0x5b8
   __DATA_CONST.__objc_doubleobj: 0xd0
   __DATA_CONST.__objc_dictobj: 0x28
-  __DATA.__objc_const: 0x13660
-  __DATA.__objc_selrefs: 0x4e58
-  __DATA.__objc_ivar: 0x1044
+  __DATA.__objc_const: 0x13840
+  __DATA.__objc_selrefs: 0x4f48
+  __DATA.__objc_ivar: 0x1074
   __DATA.__objc_data: 0x3f20
   __DATA.__data: 0xa68
-  __DATA.__bss: 0x698
+  __DATA.__bss: 0x6a0
   - /System/Library/Frameworks/AVFoundation.framework/AVFoundation
   - /System/Library/Frameworks/Accelerate.framework/Accelerate
   - /System/Library/Frameworks/Contacts.framework/Contacts

   - /usr/lib/libcompression.dylib
   - /usr/lib/libobjc.A.dylib
   - /usr/lib/libsqlite3.dylib
-  Functions: 4608
-  Symbols:   712
-  CStrings:  8758
+  Functions: 4653
+  Symbols:   723
+  CStrings:  8883
 
Symbols:
+ _OBJC_CLASS_$_VCPVideoTransformerBackbone
+ _OBJC_CLASS_$_VUWGallery
+ _PFPhotosSceneProcessingFromCameraVersion
+ _VCPAnalytics7458EventServiceRequest
+ _VCPAnalytics7458FieldKeyAssetCount
+ _VCPAnalytics7458FieldKeyClient
+ _VCPAnalytics7458FieldKeyError
+ _VCPAnalytics7458FieldKeyProcessingTime
+ _VCPAnalytics7458FieldKeyRequestCount
+ _VCPAnalytics7458FieldKeyRequestQoS
+ _VCPAnalytics7458FieldKeyRequestType
CStrings:
+ "\x03\x13\x11\x1a"
+ "\v\"!\""
+ "%!@(MISSING) Analysis failed (%!d(MISSING)); skipping"
+ "%!@(MISSING) Analysis meets requirement; skipping"
+ "%!@(MISSING) Analyzing %!@(MISSING) (Scene:%!@(MISSING), Embedding:%!@(MISSING))"
+ "%!@(MISSING) Asset has extreme abnormal dimension %!d(MISSING)x%!d(MISSING); skipping"
+ "%!@(MISSING) Asset has no adjustment version; skipping"
+ "%!@(MISSING) Asset has no thumbnail PHAssetResource; resources: %!@(MISSING)"
+ "%!@(MISSING) Canceled during Gallery updating"
+ "%!@(MISSING) Empty embedding data"
+ "%!@(MISSING) Empty embedding results"
+ "%!@(MISSING) Evaluating P%!l(MISSING)u assets"
+ "%!@(MISSING) Evaluating all assets in Photo Library"
+ "%!@(MISSING) Failed during person promoting"
+ "%!@(MISSING) Failed to build VSKDB - %!@(MISSING)"
+ "%!@(MISSING) Failed to create VNRequests"
+ "%!@(MISSING) Failed to create VSKAsset"
+ "%!@(MISSING) Failed to finish previous person updates to Photos - %!@(MISSING)"
+ "%!@(MISSING) Failed to load resourceURL: %!@(MISSING)"
+ "%!@(MISSING) Failed to migrate Image embedding - %!@(MISSING)"
+ "%!@(MISSING) Failed to perform Blur analysis"
+ "%!@(MISSING) Failed to perform Embedding analysis"
+ "%!@(MISSING) Failed to perform Exposure analysis"
+ "%!@(MISSING) Failed to perform Rotation analysis"
+ "%!@(MISSING) Failed to perform SceneNet analysis"
+ "%!@(MISSING) Failed to query VUIndex URL for library %!@(MISSING)"
+ "%!@(MISSING) Failed to update person in Photos - %!@(MISSING)"
+ "%!@(MISSING) Fetched %!d(MISSING) Priority%!l(MISSING)u assets"
+ "%!@(MISSING) Fetched for Scene Embedding migration with %!d(MISSING) assets"
+ "%!@(MISSING) Fetching Priority%!l(MISSING)u assets (image embedding)"
+ "%!@(MISSING) Fetching for Scene Embedding migration"
+ "%!@(MISSING) Finishing previous Gallery updates to Photos"
+ "%!@(MISSING) Gallery is ready (Person processing state: %!@(MISSING)); skip updating"
+ "%!@(MISSING) Gallery processing canceled"
+ "%!@(MISSING) Gallery updating cancelled before clustering started"
+ "%!@(MISSING) Image embedding to Scene Processing migrated (%!@(MISSING))"
+ "%!@(MISSING) Missing embedding data; skipping"
+ "%!@(MISSING) No previous Gallery updates (%!@(MISSING))"
+ "%!@(MISSING) Performing SceneNet analysis"
+ "%!@(MISSING) Performing non-SceneNet analysis"
+ "%!@(MISSING) Persisting dedupping signals ... "
+ "%!@(MISSING) Persisting scene analysis results ... "
+ "%!@(MISSING) Person not in Photos DB (should be according to bookmark %!@(MISSING))"
+ "%!@(MISSING) Person promoting cancelled"
+ "%!@(MISSING) Person updating cancelled"
+ "%!@(MISSING) Pet promoting cancelled"
+ "%!@(MISSING) Preparing VSKAsset ..."
+ "%!@(MISSING) Previous Gallery update status: %!@(MISSING), attempts: %!d(MISSING); skip update catch-up"
+ "%!@(MISSING) Processing canceled; skipping asset"
+ "%!@(MISSING) Processing cancelled"
+ "%!@(MISSING) Successfully updated Gallery"
+ "%!@(MISSING) Thumbnail PHAssetResource not locally available (Local: %!d(MISSING))"
+ "-> key %!@(MISSING)"
+ "-> value %!@(MISSING)"
+ "/Library/Caches/com.apple.xbs/Sources/MediaAnalysis/Daemon/Photos/VCPMADSceneLibraryProcessingTask.mm"
+ "@88@0:8@16@?24@32@40@48@56@64@72@80"
+ "A("
+ "B32@0:8^@16^B24"
+ "Clean"
+ "Converting dictionary to json data"
+ "Converting to json data %!@(MISSING)"
+ "Failed to update vectorDB; skip updating Photos embedding version - %!@(MISSING)"
+ "LastVideoEmbeddingVersionBackfillTimestamp"
+ "MACS-Photos"
+ "MACS-Resume"
+ "MACS-URL"
+ "MADMaintenance_VideoEmbeddingVersionBackfill"
+ "MADPersonProcessingStatus"
+ "MADPersonProcessingUpdateAttemptCount"
+ "Need to update Photos"
+ "Photo Library is not ready for analysis (%!@(MISSING)); skipping vectorEmbeddingVersion backfill"
+ "Q5"
+ "SceneImageEmbeddingMigrationTimestamp"
+ "T@\"NSDictionary\",&,N,V_embeddingResults"
+ "TB,N,V_needsEmbeddingProcessing"
+ "TB,N,V_needsSceneProcessing"
+ "Ti,N,V_imageEmbeddingVersion"
+ "Ti,N,V_videoEmbeddingVersion"
+ "Unexpected taskID (%!d(MISSING)), using PHMediaProcessingResetOption_Version option only"
+ "VCPMADPhotosLibraryProcessingTask_FetchAssets_ImageEmbedding"
+ "VCPMADPhotosLibraryProcessingTask_Migration_FetchAssets"
+ "VCPMADPhotosLibraryProcessingTask_Migration_Processing"
+ "VCPMADPhotosLibraryProcessingTask_Migration_ProcessingBatch"
+ "VCPMADSceneAssetEntryProcess_EmbeddingAnalysis"
+ "VCPSceneAnalyzerEmbeddingAnalysisInference"
+ "VCPSceneAnalyzerEmbeddingAnalysisScaling"
+ "[%!@(MISSING)] Failed to create VCPPoolBasedPixelBufferCreator for embedding"
+ "[%!@(MISSING)][Embedding]"
+ "[%!@(MISSING)][Embedding][Migration]"
+ "[MADProgressManager] Live Photo count equal to 0, skipping reporting."
+ "[MADProgressManager] Total assets for %!@(MISSING) (%!@(MISSING)) equal to zero, skipping reporting (%!u(MISSING) / %!u(MISSING))"
+ "[MADProgressManager] Video count equal to 0, skipping reporting."
+ "[Scene] Finished persisting"
+ "[Scene] Persisting %!l(MISSING)u assets (QoS: %!@(MISSING)) ..."
+ "[Scene][%!@(MISSING)]"
+ "[Scene][Embedding] Persisting VSKAssets ..."
+ "[Scene][Embedding][%!@(MISSING)]"
+ "[Unified] Initiating processing with %!l(MISSING)u photo libraries"
+ "[VCPDatabaseManager] Releasing shared database for %!@(MISSING)"
+ "[VSKDBUtil] Failed to reset mediaAnalysisImageVersion and imageEmbeddingVersion (%!l(MISSING)u assets) - %!@(MISSING)"
+ "[VSKDBUtil] Resetting mediaAnalysisImageVersion and imageEmbeddingVersion (%!l(MISSING)u assets)"
+ "[VideoEmbedding|Backfill] Completed backfill for total %!l(MISSING)u assets"
+ "[VideoEmbedding|Backfill] Embedding generation disabled; skipping"
+ "[VideoEmbedding|Backfill] Failed to fetch assets: %!@(MISSING)"
+ "[VideoEmbedding|Backfill] Failed to persist video embedding version (v%!d(MISSING)) for %!l(MISSING)u results to Photos (%!@(MISSING))"
+ "[VideoEmbedding|Backfill] Last backfilled on %!@(MISSING); skipping"
+ "[VideoEmbedding|Backfill] Persisting %!l(MISSING)u assets"
+ "[VideoEmbedding|Backfill][%!@(MISSING)] Asset has not been processed yet; skipping backfill"
+ "[VideoEmbedding|Backfill][%!@(MISSING)] Publish video embedding version (v%!d(MISSING))"
+ "_buildAndPromotePersonWithError:needReclustering:"
+ "_dataMigrationIfNeededForPhotoLibrary:withAnalysisDatabase:andProgress:"
+ "_dataMigrationWithAssets:"
+ "_embeddingBufferCreator"
+ "_embeddingResults"
+ "_imageEmbeddingVersion"
+ "_needsEmbeddingProcessing"
+ "_needsSceneProcessing"
+ "_performEmbeddingAnalysisForAssetEntry:withColorPixelBuffer:"
+ "_performVideoEmbeddingVersionBackfillForPhotoLibrary:"
+ "_persistVideoEmbeddingBackfillForAssets:photoLibrary:"
+ "_reportFullAnalysisPerTypeWorkloadProgress:"
+ "_reportMediaAnalysisSubcategoryWorkloadProgress:totalAssetCount:forSubCategory:"
+ "_updateGalleryWithError:"
+ "_videoEmbeddingVersion"
+ "batchWithAnalysisDatabase:cancelBlock:monochromeBufferCreator:imageLoader:session:ivsPool:rotationModel:rotationBufferCreator:embeddingBufferCreator:"
+ "embeddingResults"
+ "fetchPropertySetsIfNeeded"
+ "full-analysis-livephoto-count"
+ "full-analysis-livephoto-processed"
+ "full-analysis-video-count"
+ "full-analysis-video-processed"
+ "idealInputHeightWithRevision:"
+ "idealInputWidthWithRevision:"
+ "imageEmbeddingVersion"
+ "initWithAnalysisDatabase:cancelBlock:monochromeBufferCreator:imageLoader:session:ivsPool:rotationModel:rotationBufferCreator:embeddingBufferCreator:"
+ "initWithPath:error:"
+ "initWithSceneAnalysisVersion:faceAnalysisVersion:characterRecognitionAlgorithmVersion:visualSearchAlgorithmVersion:stickerConfidenceAlgorithmVersion:vaAnalysisVersion:vaLocationAnalysisVersion:mediaAnalysisVersion:mediaAnalysisImageVersion:captionGenerationVersion:imageEmbeddingVersion:videoEmbeddingVersion:"
+ "initWithStringIdentifier:vectors:attributes:payload:"
+ "livePhotos-processed"
+ "mad_attributesWithEmbeddingVersion:"
+ "mad_stringIdentifierFromLocalIdentifier:embeddingType:"
+ "needReclustering is nil"
+ "releaseSharedDatabaseForPhotoLibrary:"
+ "releaseSharedDatabaseWithPhotoLibrary:"
+ "releaseSharedGalleryForPhotoLibrary:"
+ "revision"
+ "sceneAnalysisProperties"
+ "sceneAnalysisVersion"
+ "setEmbeddingResults:"
+ "setImageEmbeddingVersion:"
+ "setNeedsEmbeddingProcessing:"
+ "setNeedsSceneProcessing:"
+ "setVideoEmbeddingVersion:"
+ "v32@?0@8@16^B24"
+ "versionResetOptionsForTaskID:"
+ "videoEmbeddingVersion"
+ "videos-processed"
+ "\xe7"
- "\x03\x13\x11\x18"
- "\n\"!\""
- "!#"
- "%!@(MISSING) Failed to promote persons"
- "%!@(MISSING) Process cancelled with current bookmark %!@(MISSING)"
- "1("
- "@80@0:8@16@?24@32@40@48@56@64@72"
- "A5"
- "Got invalid daysToComplete50 = %!l(MISSING)ld, daysToComplete90 = %!l(MISSING)ld, daysToComplete99 = %!l(MISSING)ld for activity %!d(MISSING) and versionDate %!@(MISSING)"
- "Ti,N,V_algorithmVersion"
- "[MADProgressManagers] Total assets for %!@(MISSING) (%!@(MISSING)) equal to zero, skipping reporting"
- "[Scene] Persisting %!l(MISSING)u assets (QoS: %!@(MISSING))"
- "[Scene][%!@(MISSING)] Analyzing %!@(MISSING) (%!@(MISSING))"
- "[Scene][%!@(MISSING)] Asset has extreme abnormal dimension %!d(MISSING)x%!d(MISSING); skipping"
- "[Scene][%!@(MISSING)] Asset has no adjustment version; skipping"
- "[Scene][%!@(MISSING)] Asset has no thumbnail PHAssetResource; resources: %!@(MISSING)"
- "[Scene][%!@(MISSING)] Failed to create VNRequests"
- "[Scene][%!@(MISSING)] Failed to load resourceURL: %!@(MISSING)"
- "[Scene][%!@(MISSING)] Failed to perform Blur analysis"
- "[Scene][%!@(MISSING)] Failed to perform Exposure analysis"
- "[Scene][%!@(MISSING)] Failed to perform Rotation analysis"
- "[Scene][%!@(MISSING)] Failed to perform SceneNet analysis"
- "[Scene][%!@(MISSING)] Performing Blur, Exposure & Rotation analysis"
- "[Scene][%!@(MISSING)] Performing SceneNet analysis"
- "[Scene][%!@(MISSING)] Processing canceled; skipping asset"
- "[Scene][%!@(MISSING)] Thumbnail PHAssetResource not locally available (Local: %!d(MISSING))"
- "[VSKDBUtil] Failed to reset mediaAnalysisImageVersion (%!l(MISSING)u assets) - %!@(MISSING)"
- "[VSKDBUtil] Resetting mediaAnalysisImageVersion (%!l(MISSING)u assets)"
- "_algorithmVersion"
- "_reportMediaAnalysisImageWorkloadProgress:totalAssetCount:forSubCategory:"
- "batchWithAnalysisDatabase:cancelBlock:monochromeBufferCreator:imageLoader:session:ivsPool:rotationModel:rotationBufferCreator:"
- "initWithAnalysisDatabase:cancelBlock:monochromeBufferCreator:imageLoader:session:ivsPool:rotationModel:rotationBufferCreator:"
- "setAlgorithmVersion:"
- "\xe6"

```
