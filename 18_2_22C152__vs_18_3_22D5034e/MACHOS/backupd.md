## backupd

> `/System/Library/PrivateFrameworks/MobileBackup.framework/backupd`

```diff

-2349.60.119.0.0
-  __TEXT.__text: 0x2b5d10
-  __TEXT.__auth_stubs: 0x36b0
-  __TEXT.__objc_stubs: 0x2c2c0
-  __TEXT.__objc_methlist: 0x189e4
-  __TEXT.__cstring: 0x72c69
-  __TEXT.__objc_methname: 0x3acde
-  __TEXT.__const: 0x22c0
-  __TEXT.__constg_swiftt: 0xbf4
-  __TEXT.__swift5_typeref: 0x114f
-  __TEXT.__swift5_reflstr: 0x1475
-  __TEXT.__swift5_fieldmd: 0x149c
-  __TEXT.__swift5_builtin: 0x168
+2349.80.18.0.0
+  __TEXT.__text: 0x2bbffc
+  __TEXT.__auth_stubs: 0x37a0
+  __TEXT.__objc_stubs: 0x2c5a0
+  __TEXT.__objc_methlist: 0x18bcc
+  __TEXT.__cstring: 0x736a1
+  __TEXT.__objc_methname: 0x3b2a1
+  __TEXT.__const: 0x2590
+  __TEXT.__constg_swiftt: 0xc9c
+  __TEXT.__swift5_typeref: 0x1203
+  __TEXT.__swift5_reflstr: 0x14c5
+  __TEXT.__swift5_fieldmd: 0x1554
+  __TEXT.__swift5_builtin: 0x17c
   __TEXT.__swift5_assocty: 0x1b0
-  __TEXT.__swift5_proto: 0x188
-  __TEXT.__swift5_types: 0x100
-  __TEXT.__objc_classname: 0x217d
-  __TEXT.__objc_methtype: 0x6b50
+  __TEXT.__swift5_proto: 0x1b4
+  __TEXT.__swift5_types: 0x110
+  __TEXT.__objc_classname: 0x21ba
+  __TEXT.__objc_methtype: 0x6c57
   __TEXT.__swift5_capture: 0x404
-  __TEXT.__oslogstring: 0x335a8
+  __TEXT.__oslogstring: 0x337b8
   __TEXT.__swift5_protos: 0x20
   __TEXT.__swift5_mpenum: 0x2c
-  __TEXT.__gcc_except_tab: 0xd038
+  __TEXT.__gcc_except_tab: 0xd100
   __TEXT.__ustring: 0x8
-  __TEXT.__unwind_info: 0x77c0
-  __TEXT.__eh_frame: 0x2630
-  __DATA_CONST.__auth_got: 0x1b68
-  __DATA_CONST.__got: 0xf00
-  __DATA_CONST.__auth_ptr: 0x430
-  __DATA_CONST.__const: 0x96b0
-  __DATA_CONST.__cfstring: 0x201a0
-  __DATA_CONST.__objc_classlist: 0xaf0
-  __DATA_CONST.__objc_catlist: 0xb8
+  __TEXT.__unwind_info: 0x7900
+  __TEXT.__eh_frame: 0x27f0
+  __DATA_CONST.__auth_got: 0x1be0
+  __DATA_CONST.__got: 0xf10
+  __DATA_CONST.__auth_ptr: 0x470
+  __DATA_CONST.__const: 0x9790
+  __DATA_CONST.__cfstring: 0x20300
+  __DATA_CONST.__objc_classlist: 0xb00
+  __DATA_CONST.__objc_catlist: 0xc0
   __DATA_CONST.__objc_protolist: 0x298
   __DATA_CONST.__objc_imageinfo: 0x8
   __DATA_CONST.__objc_protorefs: 0xe0
-  __DATA_CONST.__objc_superrefs: 0x800
+  __DATA_CONST.__objc_superrefs: 0x808
   __DATA_CONST.__objc_intobj: 0x3c0
   __DATA_CONST.__objc_arraydata: 0xd48
   __DATA_CONST.__objc_dictobj: 0x230
   __DATA_CONST.__objc_arrayobj: 0x4e0
-  __DATA.__objc_const: 0x2a8d0
-  __DATA.__objc_selrefs: 0xcb00
-  __DATA.__objc_ivar: 0x1ddc
-  __DATA.__objc_data: 0x7958
-  __DATA.__data: 0x28c0
+  __DATA.__objc_const: 0x2ab90
+  __DATA.__objc_selrefs: 0xcbb0
+  __DATA.__objc_ivar: 0x1dec
+  __DATA.__objc_data: 0x7a78
+  __DATA.__data: 0x2a10
   __DATA.__common: 0x49
-  __DATA.__bss: 0x3570
+  __DATA.__bss: 0x3b00
   - /System/Library/Frameworks/Accounts.framework/Accounts
   - /System/Library/Frameworks/CFNetwork.framework/CFNetwork
   - /System/Library/Frameworks/CloudKit.framework/CloudKit

   - /usr/lib/swift/libswiftsimd.dylib
   - /usr/lib/swift/libswiftsys_time.dylib
   - /usr/lib/swift/libswiftunistd.dylib
-  Functions: 10813
-  Symbols:   1480
-  CStrings:  25274
+  Functions: 10909
+  Symbols:   1498
+  CStrings:  25380
 
Symbols:
+ _$s10Foundation12URLQueryItemV4name5valueACSSh_SSSghtcfC
+ _$s10Foundation12URLQueryItemVMa
+ _$s10Foundation12URLQueryItemVMn
+ _$s10Foundation13URLComponentsV10queryItemsSayAA12URLQueryItemVGSgvs
+ _$s10Foundation13URLComponentsV3urlAA3URLVSgvg
+ _$s10Foundation13URLComponentsV6stringACSgSSh_tcfC
+ _$s10Foundation13URLComponentsVMa
+ _$s10Foundation13URLComponentsVMn
+ _$s10Foundation3URLV08absoluteB0ACvg
+ _$s10Foundation3URLVs23CustomStringConvertibleAAMc
+ _$sSYsSeRzSS8RawValueSYRtzrlE4fromxs7Decoder_p_tKcfC
+ _$sSYsSeRzSi8RawValueSYRtzrlE4fromxs7Decoder_p_tKcfC
+ _$sSYsSeRzs5Int64V8RawValueSYRtzrlE4fromxs7Decoder_p_tKcfC
+ _$sSayxGSEsSERzlMc
+ _$sSayxGSesSeRzlMc
+ _$ss22KeyedDecodingContainerV15decodeIfPresent_6forKeySbSgSbm_xtKF
+ _$ss22KeyedDecodingContainerV15decodeIfPresent_6forKeySiSgSim_xtKF
+ _$ss22KeyedDecodingContainerV15decodeIfPresent_6forKeys5Int64VSgAFm_xtKF
+ _$ss22KeyedDecodingContainerV6decode_6forKeyS2bm_xtKF
+ _$ss22KeyedDecodingContainerV6decode_6forKeyS2um_xtKF
+ _$ss22KeyedDecodingContainerV6decode_6forKeys6UInt64VAFm_xtKF
+ _MBSnapshotFormatSupportedForBackup
- _CFMakeCollectable
- _CFUserNotificationDisplayAlert
- _OBJC_CLASS_$_NSURLComponents
- _OBJC_CLASS_$_NSURLQueryItem
CStrings:
+ "\x01!!\x14\x13\x15"
+ "\x05R"
+ "\n  SELECT domain, \n         restoreType, \n         totalZeroByteFiles, \n         totalAssetFiles, \n         totalAssetBytes, \n         totalATCFiles, \n         totalATCBytes\n    FROM Domains\nORDER BY totalAssetBytes;"
+ "\n UPDATE Domains\n SET    engineState = %u, \n        restoreType = %u, \n        rootPath = %@\n WHERE  domainID = %llu"
+ "\n UPDATE Domains\n SET    totalATCItems = %llu,\n        totalATCFiles = %llu,\n        totalATCBytes = %llu\n WHERE  domainID = %llu;"
+ "\nCREATE TABLE IF NOT EXISTS Domains (\ndomainID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, \ndomain TEXT NOT NULL UNIQUE, \ntotalAssetRecords INTEGER NOT NULL, \ntotalAssetBytes INTEGER NOT NULL, \ntotalXattrBytes INTEGER NOT NULL, \ntotalRegularAssets INTEGER NOT NULL, \ntotalEmptyAssets INTEGER NOT NULL, \ntotalDBAssets INTEGER NOT NULL, \ntotalEncryptedAssets INTEGER NOT NULL, \ntotalItems INTEGER NOT NULL, \ntotalDirs INTEGER NOT NULL, \ntotalSymlinks INTEGER NOT NULL, \ntotalZeroByteFiles INTEGER NOT NULL, \ntotalAssetFiles INTEGER NOT NULL, \ntotalXattrItems INTEGER NOT NULL, \ntotalHardlinks INTEGER NOT NULL, \ntotalATCItems INTEGER NOT NULL, \ntotalATCFiles INTEGER NOT NULL, \ntotalATCBytes INTEGER NOT NULL, \nrootPath TEXT, \nrestoreType INTEGER NOT NULL, \nengineState INTEGER NOT NULL, \nverificationStatus INTEGER NOT NULL\n);"
+ "\nINSERT INTO Domains (\ndomain, \nengineState, \nrestoreType, \ntotalItems, \ntotalDirs, \ntotalSymlinks, \ntotalHardlinks, \ntotalXattrItems, \ntotalZeroByteFiles, \ntotalAssetFiles, \ntotalAssetBytes, \ntotalXattrBytes, \ntotalAssetRecords, \ntotalRegularAssets, \ntotalEmptyAssets, \ntotalDBAssets, \ntotalEncryptedAssets, \ntotalATCItems, \ntotalATCFiles, \ntotalATCBytes, \nrootPath, \nverificationStatus\n) VALUES (%@, %u, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, NULL, %u)\nRETURNING domainID;"
+ " should be disposed before deinit"
+ " was already disposed"
+ "+[L28BackupStats l28BackupStatsForAccount:snapshotFormat:backupReason:backupError:error:]"
+ "-[MBAssetRecordFetcher begin:]"
+ "-[MBBackupCKRecordsDB hasAssetReference:error:]"
+ "-[MBBackupCKRecordsDB insertAssetRecordReferenceForDomainRecordID:assetRecordID:isDeletedAsset:error:]"
+ "-[MBBackupCKRecordsDB insertDomainRecordForSnapshotID:domain:error:]"
+ "-[MBBackupCKRecordsDB insertSnapshotRecord:error:]"
+ "-[MBBackupSnapshotIntegrityVerifier _synchronizeFileListsForDevice:commitID:hmacKey:tracker:tempPath:error:]"
+ "-[MBBackupSnapshotIntegrityVerifier _verifyAssetRecordIDsAreReferencedForDomain:assetIDPrefix:recordsDB:verifiedAssetCount:error:]"
+ "-[MBBackupSnapshotIntegrityVerifier _verifyAssetRecordIDsAreReferencedForDomain:assetIDPrefix:recordsDB:verifiedAssetCount:error:]_block_invoke"
+ "-[MBBackupSnapshotIntegrityVerifier _verifyFileListForDomain:snapshotDirectory:snapshotTacker:domainRecordIDsByDomainName:device:persona:recordsDB:commitID:error:]"
+ "-[MBCKManager _scheduleBackgroundRestoreTimeoutTTRWithAccount:]"
+ "-[MBRestorePlanDB enumerateDomainsAndAttributes:enumerator:]"
+ "-[MBRestorePlanDB enumerateDomainsAndAttributes:enumerator:]_block_invoke"
+ "-[MBRestorePlanDB enumerateDomainsAndAttributes:enumerator:]_block_invoke_2"
+ "-[MBRestorePlanDB(MBTTRAdditions) _writeRestoreFailuresTo:sortedNewLineSeparatedDomainNamesOut:error:]"
+ "-[MBTapToRadar _fileTTR:description:keywordID:attachment:]"
+ "-[MBTapToRadar _presentTTRConsentRequestAsync:message:persona:selector:delayBetweenNags:ttrConsentGrantedBlock:]"
+ "-[MBTapToRadar _presentTTRConsentRequestOnMainThread:message:persona:selector:delayBetweenNags:]"
+ "-[MBTapToRadar _presentTTRConsentRequestSync:message:persona:selector:delayBetweenNags:ttrConsentGrantedBlock:]"
+ "-[MBTapToRadar reportBackgroundRestoreErrorsIn:persona:]"
+ "-[MBTapToRadar reportBackgroundRestoreTimeout:persona:]"
+ "-[MBTapToRadar reportBackupVerificationFailure:persona:]"
+ "-[MBTapToRadar reportDryRestoreErrorsIn:persona:withFailure:]"
+ "-[MBTapToRadar reportForegroundRestoreFailure:persona:]"
+ "-[_MBImmutableServiceAccountProperties _initWithPersona:accountIdentifier:dsid:altDSID:serviceURL:chunkStoreURL:options:]"
+ "-[_RestoreDomainPlanStandard _enumerateAndMarkATCRestorables:totalATCItems:totalATCFiles:totalATCBytes:error:enumerator:]"
+ "-[_RestoreDomainPlanStandard _enumerateAndMarkATCRestorables:totalATCItems:totalATCFiles:totalATCBytes:error:enumerator:]_block_invoke"
+ "/var/mobile/Library/Caches/Backup/foreground_failure_diagnose/restore_failure"
+ "1976832"
+ ":16@0:8"
+ "=asset-fetch= %@ was not disposed before dealloc"
+ "=ckrestore-engine= Failed to collect FG/BG domain statistics from restore plan: %@"
+ "=cloud-backup-policy= Behavior option specified snapshot format: %@"
+ "=cloud-backup-policy= Server-specified snapshot format: %@"
+ "=cloud-backup-policy= Using dry restore compatible snapshot format: %@"
+ "=domain-engine= %{public}@: Fetcher failed to begin: %@"
+ "=domaincache= Database (%@) was not closed before dealloc"
+ "=dry-restore-telemetry-recording= "
+ "=plan= Database (%@) was not closed before dealloc"
+ "=snapshot-policy= Successfully collected diagnose for foreground restore failure"
+ "=ttr= Already presenting a TTR consent request for %s, skipping (async)"
+ "=ttr= Already presenting a TTR consent request for %s, skipping (sync)"
+ "=ttr= Failed to open TTR URL: %@"
+ "=ttr= Failed to write out errors from restore plan: %@"
+ "=ttr= Last presented TTR for %@ too recently (%@)"
+ "=ttr= No restore plan to inspect for errors"
+ "=ttr= Running in automation, skipping collecting TTR"
+ "=ttr= Saving last nag date for %@ to now"
+ "=ttr= Skipping TTR consent request from a backupctl initiated command"
+ "=verifier= Finished backup verification for domain %@ with %llu assets and recordID %@"
+ "@\"_MBImmutableServiceAccountProperties\""
+ "@24@0:8d16"
+ "@56@0:8@16q24q32@40^@48"
+ "@60@0:8@16B24@28@36@44^@52"
+ "@64@0:8q16@24q32q40@48^@56"
+ "B40@0:8^@16^@24^@32"
+ "B64@0:8@16^Q24^Q32^q40^@48@?56"
+ "B68@?0@\"NSString\"8i16Q20Q28q36Q44q52^@60"
+ "B88@0:8@16@24@32@40@48@56@64@72^@80"
+ "Background dry restore failed restoring domains:\n%@\n\n%@"
+ "Background restore failed to restore domains:\n%@"
+ "BackupCloudFormatPolicy"
+ "Database (%@) was not closed before dealloc"
+ "Dry Restore Failure"
+ "ERROR_NO_FILE_LIST_STATS (%@/%lu)"
+ "Failed derive TTR URL string"
+ "Failed to create TTR URL"
+ "Failed to insert asset reference record into db %@: %@"
+ "Failed to insert domain record into db %@: %@"
+ "Failed to insert snapshot record into db %@: %@"
+ "Failed to run diagnose for foreground restore failure"
+ "Fetcher already disposed"
+ "Finished restore for account %{public}@/%{public}@ (%d): %s"
+ "Foreground Restore Failure"
+ "Foreground restore failure"
+ "Found server-detected checksum mismatch for %@"
+ "Invalid asset type (%@) for non-empty file %@:%@"
+ "Invalid asset type for 0-byte file: %@"
+ "Invalid asset type for non-empty file: %@"
+ "Invalid snapshot format for backup (%lld) %@"
+ "L28SingleSnapshotFormat"
+ "LastForegroundRestoreFailure"
+ "LastForegroundRestoreFailureDate"
+ "LastTTRPromptDateForFailedForegroundRestore"
+ "MBBackupCKRecordsDB"
+ "MBBackupCKRecordsDB.m"
+ "MBBuildBackupCKRecordsDB"
+ "MBBuildBackupCKRecordsDB.m"
+ "MBTTRAdditions"
+ "Requesting TTR: "
+ "Server-detected checksum mismatch for %@ debug[%@]"
+ "Snapshot has no device name"
+ "T:,V_presentingSelector"
+ "T@\"<MBAssetReceiver>\",W,N,V_delegate"
+ "T@\"MBTapToRadar\",R"
+ "T@\"NSString\",R,N,V_accountIdentifier"
+ "T@\"NSString\",R,N,V_altDSID"
+ "T@\"NSString\",R,N,V_dsid"
+ "T@\"NSURL\",R,N"
+ "T@\"NSURL\",R,N,V_chunkStoreURL"
+ "T@\"NSURL\",R,N,V_serviceURL"
+ "T@\"_MBImmutableServiceAccountProperties\",&,V_properties"
+ "TB,N,V_singleSnapshotFormat"
+ "TB,R,N,V_useMockChunkStore"
+ "TB,V_autoAccept"
+ "TQ,R,N,V_options"
+ "Tq,N,V_previousSnapshotFormat"
+ "Unknown error"
+ "_MBImmutableServiceAccountProperties"
+ "_TtC7backupd16MBTapToRadarCore"
+ "_URLByInsertingUser:"
+ "_autoAccept"
+ "_cleanedUp"
+ "_debugInfoForOpenedFileList:"
+ "_deriveNewAccountPropertiesFromACAccount:"
+ "_disposed"
+ "_durationDescription:"
+ "_endPresenting:"
+ "_enumerateAndMarkATCRestorables:totalATCItems:totalATCFiles:totalATCBytes:error:enumerator:"
+ "_fetchDeviceRecordSnapshots:includeKeybags:account:manager:tracker:error:"
+ "_fetchDomainNamesModifiedInPreviousSnapshotForPersona:error:"
+ "_fileTTR:description:keywordID:attachment:"
+ "_initWithPersona:accountIdentifier:dsid:altDSID:serviceURL:chunkStoreURL:options:"
+ "_lastFailedForegroundRestoreAttemptDate:"
+ "_logFailureAndAppendToAttemptSummary:"
+ "_presentTTRConsentRequestAsync:message:persona:selector:delayBetweenNags:ttrConsentGrantedBlock:"
+ "_presentTTRConsentRequestOnMainThread:message:persona:selector:delayBetweenNags:"
+ "_presentTTRConsentRequestSync:message:persona:selector:delayBetweenNags:ttrConsentGrantedBlock:"
+ "_presentingSelector"
+ "_previousSnapshotFormat"
+ "_singleSnapshotFormat"
+ "_snapshotFormat:"
+ "_snapshotFormatForAccount:behaviorOptionsFormat:"
+ "_startPresenting:"
+ "_summaryWithLength:"
+ "_synchronizeFileListsForDevice:commitID:hmacKey:tracker:tempPath:error:"
+ "_updateAppleAccount:"
+ "_updateApplePassword:completionHandler:"
+ "_updateApplePasswordSync:"
+ "_validateFormatForDryRestore:"
+ "_verifyAssetRecordIDsAreReferencedForDomain:assetIDPrefix:recordsDB:verifiedAssetCount:error:"
+ "_verifyFileListForDomain:snapshotDirectory:snapshotTacker:domainRecordIDsByDomainName:device:persona:recordsDB:commitID:error:"
+ "_writeRestoreFailuresTo:sortedNewLineSeparatedDomainNamesOut:error:"
+ "autoAccept"
+ "backup_ck_records.db"
+ "begin:"
+ "cleanUpOnceAfterError:"
+ "delete dry restore dirs"
+ "enumerateDomainsAndAttributes:enumerator:"
+ "errorWithDictionaryRepresentation:"
+ "errorWithDictionaryRepresentation:withMultiErrors:"
+ "f=%llu a=%llu e=%llu"
+ "fetchDeviceRecordSnapshotsAndKeybags:account:manager:tracker:error:"
+ "fileTapToRadarWithTitle:description:keywordID:attachment:error:"
+ "heading.length"
+ "iCloud Restore has been running for %@"
+ "isExpectedSetProtectionClassError:"
+ "l28BackupStatsForAccount:snapshotFormat:backupReason:backupError:error:"
+ "l28StatsTelemetryPolicy:plistPath:snapshotFormat:backupReason:backupError:error:"
+ "message.length"
+ "openURL:configuration:error:"
+ "originalDeviceName"
+ "outRestoreFailuresPath"
+ "presentingSelector"
+ "previousSnapshotFormat"
+ "promptTTRIfFileListForegroundRestoreFailed:"
+ "q24@0:8^@16"
+ "q32@0:8@16q24"
+ "q40@0:8@16@24@32"
+ "q56@0:8@16@24@32:40d48"
+ "q64@0:8@16@24@32:40d48@?56"
+ "recordFileListForegroundRestoreFailure:persona:"
+ "reportBackgroundRestoreErrorsIn:persona:"
+ "reportBackgroundRestoreTimeout:persona:"
+ "reportBackupVerificationFailure:persona:"
+ "reportDryRestoreErrorsIn:persona:withFailure:"
+ "reportForegroundRestoreFailure:persona:"
+ "restore_failures.plist"
+ "selector"
+ "setAutoAccept:"
+ "setPresentingSelector:"
+ "setPreviousSnapshotFormat:"
+ "setSingleSnapshotFormat:"
+ "singleSnapshotFormat"
+ "sortedNewLineSeparateDomainNamesOut"
+ "stringFromTimeInterval:"
+ "task.compressionMethod != MBFileCompressionMethodUnspecified"
+ "timeUntilNextDryRestore"
+ "totalATCBytes"
+ "totalATCFiles"
+ "totalATCItems"
+ "ttrConsentGrantedBlock"
+ "updateL28HistoryWithCurrentBackupState:snapshotFormat:isSuccessful:quotaExceeded:osVersion:currentDay:isNewDay:"
+ "v32@0:8@16:24"
+ "v56@0:8B16q20B28B32@36q44B52"
+ "v64@0:8@16@24@32:40d48@?56"
+ "verifiedAssetCount"
+ "xpcActivityType != MBBackupXPCActivityTypeNone"
+ "| ERROR_NO_FILE_LIST_STATS (%@/%lu)"
+ "| ERROR_NO_PENDING_SNAPSHOT_STATS (%@/%lu)"
+ "| ERROR_OPEN_PENDING_SNAPSHOT_DB (%@/%lu)"
+ "| ERROR_OPEN_PREVIOUS_FILE_LIST (%@/%lu)"
+ "| NO_PREVIOUS_COMMIT_ID"
+ "| NO_PREVIOUS_FILE_LIST"
+ "| f=%llu a=%llu e=%llu"
+ "| u=%llu d=%llu"
+ "\x91"
- "\x01!\x11\x14\x13\x15"
- "\x05\""
- "\x05B"
- "\n  SELECT domain, totalAssetBytes\n    FROM Domains\nORDER BY totalAssetBytes;"
- "\n UPDATE Domains\n SET    engineState = %u, \n        rootPath = %@\n WHERE  domainID = %llu"
- "\n UPDATE Domains\n SET    totalATCItems = %llu\n WHERE  domainID = %llu;"
- "\nCREATE TABLE IF NOT EXISTS Domains (\ndomainID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, \ndomain TEXT NOT NULL UNIQUE, \ntotalAssetRecords INTEGER NOT NULL, \ntotalAssetBytes INTEGER NOT NULL, \ntotalXattrBytes INTEGER NOT NULL, \ntotalRegularAssets INTEGER NOT NULL, \ntotalEmptyAssets INTEGER NOT NULL, \ntotalDBAssets INTEGER NOT NULL, \ntotalEncryptedAssets INTEGER NOT NULL, \ntotalItems INTEGER NOT NULL, \ntotalDirs INTEGER NOT NULL, \ntotalSymlinks INTEGER NOT NULL, \ntotalZeroByteFiles INTEGER NOT NULL, \ntotalAssetFiles INTEGER NOT NULL, \ntotalXattrItems INTEGER NOT NULL, \ntotalHardlinks INTEGER NOT NULL, \ntotalATCItems INTEGER NOT NULL, \nrootPath TEXT, \nengineState INTEGER NOT NULL, \nverificationStatus INTEGER NOT NULL\n);"
- "\nINSERT INTO Domains (\ndomain, \nengineState, \ntotalItems, \ntotalDirs, \ntotalSymlinks, \ntotalHardlinks, \ntotalXattrItems, \ntotalZeroByteFiles, \ntotalAssetFiles, \ntotalAssetBytes, \ntotalXattrBytes, \ntotalAssetRecords, \ntotalRegularAssets, \ntotalEmptyAssets, \ntotalDBAssets, \ntotalEncryptedAssets, \ntotalATCItems, \nrootPath, \nverificationStatus\n) VALUES (%@, %u, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, NULL, %u)\nRETURNING domainID;"
- "+[L28BackupStats l28BackupStatsForAccount:backupReason:backupError:error:]"
- "+[MBTapToRadar _collectRestoreErrorsAndFileTTR:restoreFailuresPlistPath:error:]"
- "+[MBTapToRadar reportRestoreErrorsIn:persona:]"
- "-[MBBackupSnapshotIntegrityVerifier _verifyAllAssetRecordIDsAreReferencedForDomain:assetIDPrefix:recordsDB:totalVerifiedAssetRecordsCount:error:]_block_invoke"
- "-[MBBackupSnapshotIntegrityVerifier _verifySnapshotAfterCommitWithPath:operationTracker:scanMode:enginePolicy:snapshotTracker:domainManager:deviceRecordID:hmacKey:backupAttemptSummary:error:]_block_invoke"
- "-[MBBackupSnapshotIntegrityVerifier _verifySnapshotAfterCommitWithPath:operationTracker:scanMode:enginePolicy:snapshotTracker:domainManager:deviceRecordID:hmacKey:backupAttemptSummary:error:]_block_invoke_2"
- "-[MBCKBackupRecordsDB hasAssetReference:error:]"
- "-[MBCKBackupRecordsDB insertAssetRecordReferenceForDomainRecordID:assetRecordID:isDeletedAsset:error:]"
- "-[MBCKBackupRecordsDB insertDomainRecordForSnapshotID:domain:error:]"
- "-[MBCKBackupRecordsDB insertSnapshotRecord:error:]"
- "-[MBRestorePlanDB enumerateDomainNamesByTotalAssetSize:enumerator:]"
- "-[MBRestorePlanDB enumerateDomainNamesByTotalAssetSize:enumerator:]_block_invoke"
- "-[MBRestorePlanDB enumerateDomainNamesByTotalAssetSize:enumerator:]_block_invoke_2"
- "-[_RestoreDomainPlanStandard _enumerateAndMarkATCRestorables:totalATCAssets:error:enumerator:]"
- "-[_RestoreDomainPlanStandard _enumerateAndMarkATCRestorables:totalATCAssets:error:enumerator:]_block_invoke"
- "/var/mobile/Library/Caches/Backup/lightrail_failure_diagnose/restore_failure"
- "=cloud-backup-policy= Force opt-in to %@ format from dry restore options"
- "=cloud-backup-policy= Using server-specified snapshot format: %@"
- "=domaincache= Database (%@) should be closed before dealloc"
- "=dry-restore-telemetry= "
- "=plan= Database (%@) should be closed before dealloc"
- "=snapshot-policy= Successfully collected diagnose for Lightrail restore failure"
- "=ttr= Background Restore is taking more than 48 hours"
- "=ttr= Failed to collect restore errors and file TTR: %@"
- "=verifier= Finished backup verification for domain %@ with recordID: %@"
- "=verifier= Verified that %lu asset records are referenced"
- "@48@0:8@16q24@32^@40"
- "@56@0:8q16@24q32@40^@48"
- "Attachments"
- "B32@?0@\"NSString\"8q16^@24"
- "B48@0:8@16^Q24^@32@?40"
- "BackgroundRestoreTimeoutTTR"
- "CK_backup_records.db"
- "Classification"
- "ComponentID"
- "ComponentName"
- "Database (%@) should be closed before dealloc"
- "Description"
- "Failed disposing fetcher: "
- "Failed to insert asset reference record into MBCKBackupRecordsDB %@: %@"
- "Failed to insert domain record into MBCKBackupRecordsDB %@: %@"
- "Failed to insert snapshot record into MBCKBackupRecordsDB %@: %@"
- "Failed to restore domain(s):\n%@"
- "Failed to run diagnose for Lightrail restore failure"
- "Failed to write error(s) into plist"
- "Finished restore for account %{public}@/%{public}@ (%d): %@"
- "I Didn't Try"
- "Invalid asset type %@"
- "Invalid snapshot format (%lld) %@"
- "LastFailedLightrailRestoreAttemptDate"
- "LastTTRPromptDateForFailedLightrailRestore"
- "Lightrail Dry Restore Failure"
- "Lightrail Restore Failure"
- "Lightrail restore failure"
- "MBCKBackupRecordsDB"
- "MBCKBackupRecordsDB.m"
- "MBCKBackupRecordsFetch.m"
- "MBFetchBackupCKRecordsAndPopulateDB"
- "MBTTRAddtions"
- "Reproducibility"
- "Skipping TTR reporting since it's only been "
- "T@\"<MBAssetReceiver>\",W,N,Vdelegate"
- "T@\"MBPersona\",&,N,V_persona"
- "T@\"NSString\",&,V_accountIdentifier"
- "T@\"NSString\",&,V_altDSID"
- "T@\"NSString\",&,V_dsid"
- "T@\"NSURL\",&,N,V_chunkStoreURL"
- "T@\"NSURL\",&,N,V_serviceURL"
- "TB,N,V_enabled"
- "TB,N,V_enabledForBackup"
- "TB,N,V_useMockChunkStore"
- "Title"
- "URLByInsertingUser:"
- "_clientInfoHeader"
- "_collectRestoreErrorsAndFileTTR:restoreFailuresPlistPath:error:"
- "_enabledForBackup"
- "_enumerateAndMarkATCRestorables:totalATCAssets:error:enumerator:"
- "_fileTTR:classification:componentID:componentName:componentVersion:description:reproducibility:attachment:"
- "_lastFailedLightrailRestoreAttemptDate:"
- "_refreshIsBackupOnCellularEnabledWithCurrentOptions:"
- "_verifyAllAssetRecordIDsAreReferencedForDomain:assetIDPrefix:recordsDB:totalVerifiedAssetRecordsCount:error:"
- "absoluteURL"
- "deleting dry restore dirs"
- "enabledForBackup"
- "enumerateDomainNamesByTotalAssetSize:enumerator:"
- "l28BackupStatsForAccount:backupReason:backupError:error:"
- "l28StatsTelemetryPolicy:plistPath:backupReason:backupError:error:"
- "lastAttemptedTTR"
- "promptTTRIfLightrailRestoreFailed:"
- "queryItemWithName:value:"
- "queryItems"
- "recordLightrailForegroundRestoreFailed:"
- "reportBackgroundRestoreTimeoutWithPersona:"
- "reportBackupVerificationFailure"
- "reportDryRestoreError:"
- "reportLightrailRestoreFailed"
- "reportRestoreErrorsIn:persona:"
- "restoreFailuresPlistPath"
- "setAltDSID:"
- "setChunkStoreURL:"
- "setDsid:"
- "setEnabledForBackup:"
- "setPersona:"
- "setQueryItems:"
- "setServiceURL:"
- "setUseMockChunkStore:"
- "tap-to-radar://new?Title=iCloud%20Restore%20took%20more%20than%2048h&Classification=Serious%20Bug&ComponentID=436863&ComponentName=Purple%20Backup%20-%20iCloud&ComponentVersion=1.0"
- "task.compressionMethod != MBFileEncodingMethodUnspecified"
- "totalATCAssets"
- "updateAppleAccount:"
- "updateApplePassword:completionHandler:"
- "updateApplePasswordSync:"
- "updateL28HistoryWithCurrentBackupState:isSuccessful:quotaExceeded:osVersion:currentDay:isNewDay:"
- "v48@0:8B16B20B24@28q36B44"
- "v80@0:8@16@24@32@40@48@56@64@72"
- "xpcActivityType != kMBBackupReasonUnspecified"

```
